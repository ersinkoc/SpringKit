var H={stiffness:100,damping:10,mass:1,velocity:0,restSpeed:.01,restDelta:.01,clamp:false},nt={default:{stiffness:100,damping:10},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20},slow:{stiffness:280,damping:60},molasses:{stiffness:280,damping:120},bounce:{stiffness:200,damping:8},noWobble:{stiffness:170,damping:26}},Ve={button:{stiffness:400,damping:30,mass:1},toggle:{stiffness:500,damping:35,mass:.8},checkbox:{stiffness:600,damping:40,mass:.5},hover:{stiffness:300,damping:25,mass:.8},focus:{stiffness:200,damping:20,mass:1},pageTransition:{stiffness:100,damping:20,mass:1.5},modalEnter:{stiffness:300,damping:25,mass:1},modalExit:{stiffness:400,damping:35,mass:.8},sidebar:{stiffness:200,damping:28,mass:1.2},dropdown:{stiffness:400,damping:30,mass:.8},toast:{stiffness:350,damping:25,mass:.9},tooltip:{stiffness:500,damping:40,mass:.6},dragRelease:{stiffness:150,damping:20,mass:1},swipe:{stiffness:250,damping:22,mass:.9},pullToRefresh:{stiffness:180,damping:18,mass:1.2},snap:{stiffness:400,damping:35,mass:.8},rubberBand:{stiffness:300,damping:15,mass:.8},cardFlip:{stiffness:150,damping:18,mass:1.5},cardHover:{stiffness:400,damping:30,mass:.7},listItem:{stiffness:300,damping:28,mass:.9},accordion:{stiffness:200,damping:25,mass:1.1},skeleton:{stiffness:80,damping:15,mass:2},progress:{stiffness:150,damping:25,mass:1},spinner:{stiffness:100,damping:12,mass:1.5},pulse:{stiffness:120,damping:10,mass:1.2},shake:{stiffness:500,damping:15,mass:.6},bounceAttention:{stiffness:400,damping:10,mass:.7},pop:{stiffness:500,damping:20,mass:.6},wiggle:{stiffness:300,damping:8,mass:.8},ios:{stiffness:300,damping:20,mass:1},android:{stiffness:350,damping:25,mass:.9},haptic:{stiffness:600,damping:45,mass:.4},pendulum:{stiffness:50,damping:5,mass:2},jelly:{stiffness:150,damping:8,mass:1.5},elastic:{stiffness:200,damping:10,mass:1.2},heavy:{stiffness:150,damping:30,mass:3},light:{stiffness:400,damping:25,mass:.5},liquid:{stiffness:100,damping:20,mass:2}};function it(t){return {...Ve[t]}}function rt(t){switch(t){case "snappy":return {stiffness:400,damping:30,mass:.8};case "smooth":return {stiffness:150,damping:25,mass:1.2};case "bouncy":return {stiffness:300,damping:12,mass:1};case "heavy":return {stiffness:100,damping:30,mass:2.5};case "light":return {stiffness:400,damping:25,mass:.5};case "elastic":return {stiffness:200,damping:10,mass:1.2};default:return {stiffness:100,damping:10,mass:1}}}function ot(t,e){let n=(t.stiffness??100)*e,i=(t.damping??10)*Math.sqrt(e);return {...t,stiffness:n,damping:i}}function st(t,e){let r=40-e*35;return {...t,damping:Math.max(5,Math.min(40,r))}}function at(t){return t<300?{stiffness:170,damping:26}:t<500?{stiffness:100,damping:20}:{stiffness:80,damping:15}}function lt(t){return t<=0?{stiffness:170,damping:26}:t<=.25?{stiffness:200,damping:12}:{stiffness:200,damping:8}}function se(t,e,n,i){let{stiffness:r=100,damping:s=10,mass:o=1,restSpeed:a=.01,restDelta:l=.01}=i,c=n-t,u=Math.abs(c),f=Math.abs(e);if(u<=l&&f<=a)return {position:n,velocity:0,isRest:true};let p=1/60,g=r*c,m=f>1e-4?s*e:0,b=(g-m)/o,d=e+b*p,v=t+d*p,h=u<=l&&Math.abs(d)<=a;return {position:v,velocity:d,isRest:h}}function ct(t,e){return 2*Math.PI*Math.sqrt(e/t)}function ee(t,e,n){return t/(2*Math.sqrt(e*n))}function ut(t){let{stiffness:e=100,damping:n=10,mass:i=1}=t;return ee(n,e,i)<1}function mt(t){let{stiffness:e=100,damping:n=10,mass:i=1}=t,r=ee(n,e,i);return Math.abs(r-1)<.001}function pt(t){let{stiffness:e=100,damping:n=10,mass:i=1}=t;return ee(n,e,i)>1}var te=(r=>(r.Idle="idle",r.Running="running",r.Paused="paused",r.Complete="complete",r))(te||{});var ae=class{constructor(){this.animations=new Set;this.animationMap=new WeakMap;this.rafId=null;this.isRunning=false;this.lastTime=0;this.nextId=1;this.idMap=new WeakMap;this.frameListeners=new Set;this.registry=new FinalizationRegistry(e=>{this.cleanupCallbacks.forEach(n=>n(e));});this.cleanupCallbacks=new Set;this.tick=()=>{let e=performance.now(),n=e-this.lastTime,i=Math.min(n,64);this.lastTime=e;for(let s of this.frameListeners)s(i);let r=[];for(let s of this.animations){let o=s.deref();if(!o){r.push(s);continue}o.update(e),o.isComplete()&&(r.push(s),this.animationMap.delete(o),this.idMap.delete(o));}for(let s=0;s<r.length;s++)this.animations.delete(r[s]);this.animations.size>0?this.rafId=requestAnimationFrame(this.tick):this.stop();};}add(e){let n=this.idMap.get(e);if(n!==void 0)return n;let i=this.nextId++,r=new WeakRef(e);return this.animations.add(r),this.animationMap.set(e,r),this.idMap.set(e,i),this.registry.register(e,i),this.start(),i}remove(e){let n=this.animationMap.get(e);n&&(this.animations.delete(n),this.animationMap.delete(e),this.idMap.delete(e)),this.animations.size===0&&this.stop();}onCleanup(e){return this.cleanupCallbacks.add(e),()=>this.cleanupCallbacks.delete(e)}onFrame(e){return this.frameListeners.add(e),()=>this.frameListeners.delete(e)}start(){this.isRunning||(this.isRunning=true,this.lastTime=performance.now(),this.tick());}stop(){this.isRunning=false,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null);}get size(){return this.animations.size}getAliveCount(){let e=0;for(let n of this.animations)n.deref()&&e++;return e}getFPS(){let e=performance.now()-this.lastTime;return e>0?Math.round(1e3/e):60}},U=new ae;function I(t,e,n){let i=Math.min(e,n),r=Math.max(e,n);return Math.max(i,Math.min(r,t))}function B(t,e,n){return t+(e-t)*n}function ft(t,e,n,i,r){let s=n-e;return s===0?i:(t-e)*(r-i)/s+i}function dt(t){return t*Math.PI/180}function gt(t){return t*180/Math.PI}var ne=typeof process<"u"&&process.env?.NODE_ENV!=="production",le=new Set;function q(t){!ne||le.has(t)||(le.add(t),console.warn(`[SpringKit] ${t}`));}function ce(t){if(!ne)return;let{stiffness:e=100,damping:n=10,mass:i=1}=t;e>400&&n<10&&q(`High stiffness (${e}) with low damping (${n}) may cause excessive oscillation. Consider increasing damping to at least ${Math.round(e/20)} for smoother animation.`),e<20&&q(`Very low stiffness (${e}) will result in sluggish animation. Consider using stiffness >= 50 for more responsive feel.`),n>e&&q(`Damping (${n}) is higher than stiffness (${e}), which removes the "springy" feel. Consider reducing damping for bouncier animation.`),i<=0&&q(`Mass must be positive. Got ${i}. Using default mass of 1.`),i>10&&q(`High mass (${i}) will make the animation very slow. Consider mass between 0.5 and 5 for typical use cases.`);}function ht(t){if(!ne)return;let{rubberBandFactor:e,bounds:n}=t;e!==void 0&&(e<0||e>1)&&q(`rubberBandFactor should be between 0 and 1. Got ${e}. Values outside this range may cause unexpected behavior.`),n&&(n.left!==void 0&&n.right!==void 0&&n.left>n.right&&q(`Drag bounds are inverted: left (${n.left}) > right (${n.right}). This may cause unexpected behavior.`),n.top!==void 0&&n.bottom!==void 0&&n.top>n.bottom&&q(`Drag bounds are inverted: top (${n.top}) > bottom (${n.bottom}). This may cause unexpected behavior.`));}function ue(t){if(!ne)return;let{velocity:e,deceleration:n=.998}=t;e===0&&q("Decay animation started with zero velocity. The animation will complete immediately."),(n<=0||n>=1)&&q(`Deceleration should be between 0 and 1 (exclusive). Got ${n}. Typical values are 0.99-0.999.`);}function bt(){le.clear();}var me=class{constructor(e,n,i={}){this.state="idle";this.resolveComplete=null;ce(i),this.from=e,this.to=n,this.clampedFrom=e,this.clampedTo=n,this.position=e,this.velocity=i.velocity??0,this.target=n,this.config={...H,...i,stiffness:i.stiffness??H.stiffness,damping:i.damping??H.damping,mass:i.mass??H.mass,restSpeed:i.restSpeed??H.restSpeed,restDelta:i.restDelta??H.restDelta},this.finished=new Promise(r=>{this.resolveComplete=r;});}start(){return this.state==="running"?this:(this.state="running",this.config.onStart?.(),U.add(this),this)}stop(){this.state="idle",U.remove(this);}pause(){this.state==="running"&&(this.state="paused",U.remove(this));}resume(){this.state==="paused"&&(this.state="running",U.add(this));}reverse(){let e=this.from;this.from=this.to,this.to=e,this.clampedFrom=this.from,this.clampedTo=this.to,this.target=this.to;}set(e){this.to=e,this.clampedTo=e,this.target=e;}setWithVelocity(e,n){this.from=this.position,this.clampedFrom=this.position,this.to=e,this.clampedTo=e,this.target=e,n!==void 0&&(this.velocity=n),this.state!=="running"&&this.start();}update(e){if(this.state!=="running")return;let n=se(this.position,this.velocity,this.target,this.config);if(this.position=n.position,this.velocity=n.velocity,this.config.clamp){let i=Math.min(this.clampedFrom,this.clampedTo),r=Math.max(this.clampedFrom,this.clampedTo);this.position=I(this.position,i,r);}this.config.onUpdate?.(this.position),n.isRest&&(this.state="complete",U.remove(this),this.position=this.target,this.config.onUpdate?.(this.position),this.config.onComplete?.(),this.config.onRest?.(),this.resolveComplete?.());}isAnimating(){return this.state==="running"}isPaused(){return this.state==="paused"}isComplete(){return this.state==="complete"}getValue(){return this.position}getVelocity(){return this.velocity}destroy(){this.stop(),this.config.onUpdate=void 0,this.config.onStart=void 0,this.config.onComplete=void 0,this.config.onRest=void 0;}};function pe(t,e,n){return new me(t,e,n)}var fe=class{constructor(e,n={}){this.currentAnimation=null;this.subscribers=new Set;this.resolveComplete=null;this.value=e,this.config={...H,...n},this.finishedPromise=new Promise(i=>{this.resolveComplete=i;});}get(){return this.value}getVelocity(){return this.currentAnimation?.getVelocity()??0}set(e,n={}){this.currentAnimation&&(this.currentAnimation.destroy(),this.currentAnimation=null);let i=null;this.finishedPromise=new Promise(a=>{i=a,this.resolveComplete=a;});let r={...this.config,...n},s=r.onUpdate,o=r.onComplete;this.currentAnimation=pe(this.value,e,{...r,onUpdate:a=>{this.value=a,this.notify(),s?.(a);},onComplete:()=>{o?.(),i?.();}}),this.currentAnimation.start();}jump(e){this.currentAnimation&&(this.currentAnimation.destroy(),this.currentAnimation=null),this.value=e,this.notify();}stop(){this.currentAnimation&&(this.currentAnimation.destroy(),this.currentAnimation=null),this.resolveComplete&&this.resolveComplete();}setConfig(e){this.config={...this.config,...e};}subscribe(e){return this.subscribers.add(e),e(this.value),()=>{this.subscribers.delete(e);}}isAnimating(){return this.currentAnimation?.isAnimating()??false}get finished(){return this.finishedPromise}notify(){for(let e of this.subscribers)e(this.value);}destroy(){this.currentAnimation?.destroy(),this.currentAnimation=null,this.subscribers.clear();}};function F(t,e){return new fe(t,e)}var de=class{constructor(e,n={}){this.subscribers=new Set;this.resolveComplete=null;this.notifyRafId=null;this.destroyed=false;this.config={...H,...n},this.values=new Map;for(let[i,r]of Object.entries(e)){let s=F(r,this.config);s.subscribe(()=>this.scheduleNotify()),this.values.set(i,s);}this.finishedPromise=Promise.resolve(),this.resetPromise();}resetPromise(){this.finishedPromise=new Promise(e=>{this.resolveComplete=e;});}get(){let e={};for(let[n,i]of this.values)e[n]=i.get();return e}getValue(e){return this.values.get(e)?.get()??0}set(e,n={}){this.resetPromise();let i=[];for(let[r,s]of Object.entries(e)){let o=this.values.get(r);o&&(o.set(s,n),i.push(o.finished));}Promise.all(i).then(()=>{this.resolveComplete&&this.resolveComplete();});}jump(e){for(let[n,i]of Object.entries(e)){let r=this.values.get(n);r&&r.jump(i);}}subscribe(e){return this.subscribers.add(e),e(this.get()),()=>this.subscribers.delete(e)}isAnimating(){for(let e of this.values.values())if(e.isAnimating())return  true;return  false}get finished(){return this.finishedPromise}scheduleNotify(){this.destroyed||this.notifyRafId!==null||(this.notifyRafId=requestAnimationFrame(()=>{this.notifyRafId=null,this.destroyed||this.notify();}));}notify(){let e=this.get();for(let n of this.subscribers)n(e);}destroy(){this.destroyed=true,this.notifyRafId!==null&&(cancelAnimationFrame(this.notifyRafId),this.notifyRafId=null);for(let e of this.values.values())e.destroy();this.subscribers.clear();}};function N(t,e){return new de(t,e)}function Le(t,e){if(!t)return {values:{},transition:{}};let n=typeof t=="function"?t(e):t,{transition:i={},...r}=n;return {values:r,transition:i}}function yt(t,e,n){return !t||!e?{values:{},transition:{}}:Le(t[e],n)}function vt(...t){let e={};for(let n of t)n&&(Object.assign(e,n),n.transition&&(e.transition={...e.transition,...n.transition}));return e}function xt(t){return ["x","y","z","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY","perspective","transformOrigin"].includes(t)}function St(t){return typeof t=="number"||typeof t=="string"}function Ct(t){if(typeof t=="number")return {value:t,unit:""};let e=t.match(/^(-?[\d.]+)(.*)$/);return e&&e[1]?{value:parseFloat(e[1]),unit:e[2]||""}:{value:0,unit:""}}function Re(t){let e=[];if(t.x!==void 0||t.y!==void 0){let n=t.x??0,i=t.y??0;e.push(`translate(${n}px, ${i}px)`);}return t.scale!==void 0?e.push(`scale(${t.scale})`):(t.scaleX!==void 0&&e.push(`scaleX(${t.scaleX})`),t.scaleY!==void 0&&e.push(`scaleY(${t.scaleY})`)),t.rotate!==void 0&&e.push(`rotate(${t.rotate}deg)`),t.rotateX!==void 0&&e.push(`rotateX(${t.rotateX}deg)`),t.rotateY!==void 0&&e.push(`rotateY(${t.rotateY}deg)`),t.rotateZ!==void 0&&e.push(`rotateZ(${t.rotateZ}deg)`),t.skewX!==void 0&&e.push(`skewX(${t.skewX}deg)`),t.skewY!==void 0&&e.push(`skewY(${t.skewY}deg)`),e.join(" ")}function Pt(t,e){let n=Re(e);n&&(t.style.transform=n),e.opacity!==void 0&&(t.style.opacity=String(e.opacity)),e.backgroundColor!==void 0&&(t.style.backgroundColor=e.backgroundColor),e.borderRadius!==void 0&&(t.style.borderRadius=typeof e.borderRadius=="number"?`${e.borderRadius}px`:e.borderRadius),e.borderColor!==void 0&&(t.style.borderColor=e.borderColor),e.boxShadow!==void 0&&(t.style.boxShadow=e.boxShadow),e.color!==void 0&&(t.style.color=e.color),e.width!==void 0&&(t.style.width=typeof e.width=="number"?`${e.width}px`:e.width),e.height!==void 0&&(t.style.height=typeof e.height=="number"?`${e.height}px`:e.height);}function $e(t,e){let{staggerChildren:n=0,staggerDirection:i=1,delayChildren:r=0}=e,s=[];for(let o=0;o<t;o++){let a=i===-1?t-1-o:o;s.push(r+a*n);}return s}function Tt(t,e,n={}){let{when:i=false,delay:r=0}=n,s=$e(e.length,n),o=async()=>{r>0&&await new Promise(c=>setTimeout(c,r)),await t();},a=async()=>{await Promise.all(e.map((c,u)=>new Promise(f=>{setTimeout(async()=>{await c(),f();},s[u]);})));};return {parent:o,children:a,execute:async()=>{switch(i){case "beforeChildren":await o(),await a();break;case "afterChildren":await a(),await o();break;default:await Promise.all([o(),a()]);}}}}var wt={fadeIn:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},fadeInUp:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},fadeInDown:{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20}},fadeInLeft:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},fadeInRight:{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20}},scaleIn:{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8}},popIn:{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{spring:{stiffness:400,damping:15}}},exit:{opacity:0,scale:.5}},slideUp:{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0}},slideDown:{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0}},slideLeft:{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0}},slideRight:{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0}},staggerContainer:{initial:{},animate:{transition:{staggerChildren:.1,delayChildren:.1}},exit:{transition:{staggerChildren:.05,staggerDirection:-1}}},staggerItem:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}}};function Mt(t,e,n){return {initial:t,animate:e,exit:n||t}}function Et(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&Object.values(t).every(e=>typeof e=="object"||typeof e=="function")}function At(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}async function Vt(t){for(let e of t)await e().finished;}async function Lt(t){let e=t.map(n=>n().finished);await Promise.all(e);}async function Rt(t,e,n={}){let{delay:i=0,from:r="first"}=n,s=0;r==="last"?s=t.length-1:r==="center"?s=Math.floor(t.length/2):typeof r=="number"&&(s=r);let o=[],a=new Set;o.push(s),a.add(s);for(let u=1;u<t.length;u++){let f=s-u,p=s+u;p<t.length&&!a.has(p)&&(o.push(p),a.add(p)),f>=0&&!a.has(f)&&(o.push(f),a.add(f));}let l=typeof i=="function"?i:u=>i,c=[];for(let u=0;u<o.length;u++){let f=o[u],p=e(t[f],f);c.push(p);let g=l(u);g>0?setTimeout(()=>{p.start();},g):p.start();}await Promise.all(c.map(u=>u.finished));}var ge=class{constructor(e,n={}){this.subscribers=new Set;this.frameCount=0;this.pendingUpdates=new Map;let{followDelay:i=2,...r}=n;this.followDelay=i,this.leader=F(0,r),this.springs=[];for(let s=0;s<e;s++){let o=F(0,r);this.springs.push(o);}this.leader.subscribe(()=>{this.frameCount++,this.scheduleFollowerUpdates();});}scheduleFollowerUpdates(){let e=this.leader.get();for(let n=0;n<this.springs.length;n++){let i=(n+1)*this.followDelay,r=this.frameCount+i;this.pendingUpdates.set(n,r),this.scheduleFollowerUpdate(n,e,r,i);}}scheduleFollowerUpdate(e,n,i,r){let s=this.frameCount,o=i-s;if(o<=0)this.springs[e].set(n);else {let a=Math.max(o*16,0);setTimeout(()=>{this.pendingUpdates.get(e)===i&&this.springs[e].set(n);},a);}}set(e){this.leader.set(e);}jump(e){this.leader.jump(e);for(let n of this.springs)n.jump(e);}getValues(){return this.springs.map(e=>e.get())}subscribe(e){this.subscribers.add(e);let n=[];for(let i of this.springs)n.push(i.subscribe(()=>{this.notify();}));return e(this.getValues()),()=>{this.subscribers.delete(e);for(let i of n)i();}}notify(){let e=this.getValues();for(let n of this.subscribers)n(e);}destroy(){this.leader.destroy();for(let e of this.springs)e.destroy();this.subscribers.clear(),this.pendingUpdates.clear();}};function $t(t,e){return new ge(t,e)}var he=class{constructor(e){this.state="idle";this.rafId=null;this.resolveComplete=null;ue(e),this.value=0,this.velocity=e.velocity,this.deceleration=e.deceleration??.998,this.clampRange=e.clamp,this.state="idle",this.config=e,this.finished=new Promise(n=>{this.resolveComplete=n;});}start(){return this.state==="running"?this:(this.state="running",U.add(this),this)}stop(){this.state="idle",U.remove(this);}update(e){if(this.state==="running"){if(this.velocity*=this.deceleration,this.value+=this.velocity,this.clampRange){let[n,i]=this.clampRange;this.value=I(this.value,n,i),(this.value<=n&&this.velocity<0||this.value>=i&&this.velocity>0)&&(this.velocity=0);}this.config.onUpdate?.(this.value),Math.abs(this.velocity)<.01&&(this.state="complete",U.remove(this),this.config.onComplete?.(),this.resolveComplete?.());}}isComplete(){return this.state==="complete"}destroy(){this.stop(),this.config.onUpdate=void 0,this.config.onComplete=void 0;}};function It(t){return new he(t)}function kt(t,e={}){let{config:n={},times:i,onKeyframe:r,onComplete:s,onUpdate:o}=e,a=t.map((h,y)=>typeof h=="number"?{value:h,at:i?.[y]}:{...h,at:h.at??i?.[y]}),l=a.length;a.forEach((h,y)=>{h.at===void 0&&(h.at=l>1?y/(l-1):0);}),a.sort((h,y)=>(h.at??0)-(y.at??0));let c=0,u=false,f=false,p=null,g=a[0]?.value??0,m=false,b=()=>{p&&p.destroy();let y=a[c]?.config??n;p=F(g,y),p.subscribe(x=>{g=x,o?.(x);});},d=async()=>{if(m||f||c>=a.length-1)return  false;c++;let h=a[c];return h?(h.config&&b(),r?.(c),p&&(p.set(h.value),await new Promise(y=>{let x=()=>{if(m||f){y();return}p&&!p.isAnimating()?y():requestAnimationFrame(x);};setTimeout(x,16);})),true):false};return {play:async()=>{if(!m&&!u){for(u=true,f=false,c>=a.length-1&&(c=0,g=a[0]?.value??0),b(),r?.(0);await d(););!f&&!m&&(u=false,s?.());}},pause:()=>{f=true,u=false,p&&p.stop();},resume:()=>{if(!f||m)return;f=false,u=true,(async()=>{for(;await d(););!f&&!m&&(u=false,s?.());})();},stop:()=>{f=false,u=false,c=0,g=a[0]?.value??0,p&&p.jump(g);},get:()=>g,getCurrentKeyframe:()=>c,isPlaying:()=>u,jumpTo:h=>{if(h<0||h>=a.length)return;c=h;let y=a[h]?.value??0;g=y,p&&p.jump(y),o?.(y),r?.(h);},destroy:()=>{m=true,u=false,f=false,p&&(p.destroy(),p=null);}}}function Dt(t,e){return t.map((n,i)=>({value:n,at:e?.[i]}))}function Ft(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}var Ie=new Set(["x","y","z","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"]),_t=new Set(["x","y","z","width","height","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","borderWidth","borderRadius","fontSize","letterSpacing","lineHeight"]);function Ot(t){let e=[],n=t.get("x"),i=t.get("y"),r=t.get("z");(n!==void 0||i!==void 0||r!==void 0)&&e.push(`translate3d(${n??0}px, ${i??0}px, ${r??0}px)`);let s=t.get("scale"),o=t.get("scaleX"),a=t.get("scaleY");s!==void 0?e.push(`scale(${s})`):(o!==void 0||a!==void 0)&&e.push(`scale(${o??1}, ${a??1})`);let l=t.get("rotate")??t.get("rotateZ"),c=t.get("rotateX"),u=t.get("rotateY");c!==void 0&&e.push(`rotateX(${c}deg)`),u!==void 0&&e.push(`rotateY(${u}deg)`),l!==void 0&&e.push(`rotate(${l}deg)`);let f=t.get("skewX"),p=t.get("skewY");return (f!==void 0||p!==void 0)&&e.push(`skew(${f??0}deg, ${p??0}deg)`),e.join(" ")}function Yt(t,e){let n=t,i=new Map,r={};e.forEach((s,o)=>{Ie.has(o)?i.set(o,s):o==="opacity"?r.opacity=String(s):_t.has(o)?r[o]=`${s}px`:r[o]=String(s);}),i.size>0&&(n.style.transform=Ot(i)),Object.entries(r).forEach(([s,o])=>{n.style.setProperty(s,o);});}function Xt(t,e){let i=getComputedStyle(t);if(e==="opacity")return parseFloat(i.opacity)||1;if(Ie.has(e))return i.transform==="none",e==="scale"||e==="scaleX"||e==="scaleY"?1:0;let r=i.getPropertyValue(e);return parseFloat(r)||0}function ke(t,e,n={}){let{delay:i=0,onUpdate:r,onComplete:s,...o}=n,a=typeof t=="string"?document.querySelector(t):t;if(!a)return console.warn("animate: Element not found"),jt();let l=new Map,c=new Map,u=true,f=false,p,g=new Set,m=null,b=new Promise((y,x)=>{p=y;}),v=()=>{let y=Object.entries(e),x=0,S=y.length;y.forEach(([P,T])=>{let A=Array.isArray(T)?T:[T],L=Xt(a,P),E=F(L,{stiffness:o.stiffness??100,damping:o.damping??10,mass:o.mass??1});l.set(P,E),c.set(P,L),E.subscribe(R=>{if(!(!u||f)&&(c.set(P,R),Yt(a,c),r)){let O={};c.forEach((Y,_)=>{O[_]=Y;}),r(O);}}),(async()=>{for(let R of A){if(!u)break;let O=typeof R=="string"?parseFloat(R)||0:R;await new Promise(Y=>{E.set(O);let _=()=>{if(!u||!E.isAnimating())Y();else if(f){let V=setTimeout(_,100);g.add(V);}else {let V=requestAnimationFrame(_);g.add(V);}},C=requestAnimationFrame(_);g.add(C);});}if(x++,x===S&&u){u=false;try{s?.();}catch{}p();}})();});};i>0?m=setTimeout(v,i):v();let h=()=>{g.forEach(y=>{cancelAnimationFrame(y),clearTimeout(y);}),g.clear(),m!==null&&(clearTimeout(m),m=null);};return {stop:()=>{u=false,h(),l.forEach(y=>y.stop()),p();},pause:()=>{f=true;},resume:()=>{f=false;},getProgress:()=>{let y=0,x=0;return l.forEach(S=>{y+=S.isAnimating()?.5:1,x++;}),x>0?y/x:1},isAnimating:()=>u&&!f,finished:b}}function jt(){return {stop:()=>{},pause:()=>{},resume:()=>{},getProgress:()=>1,isAnimating:()=>false,finished:Promise.resolve()}}function Gt(t,e,n={}){let{stagger:i=0,...r}=n,s=document.querySelectorAll(t);return Array.from(s).map((o,a)=>ke(o,e,{...r,delay:(r.delay??0)+i*a}))}var Ht={clamp:false},be=class{constructor(e,n,i,r={}){this.source=e,this.input=n,this.output=i,this.options={...Ht,...r};}get(){let e=typeof this.source=="function"?this.source():this.source.get();return this.interpolate(e)}interpolate(e){let{input:n,output:i}=this,{extrapolate:r,extrapolateLeft:s,extrapolateRight:o,clamp:a}=this.options;if(n.length===1)return i[0];if(e<n[0]){let f=this.getExtrapolationMode(s,r);if(f==="clamp")e=n[0];else if(f==="identity")return e}else if(e>n[n.length-1]){let f=this.getExtrapolationMode(o,r);if(f==="clamp")e=n[n.length-1];else if(f==="identity")return e}let l=1;for(;l<n.length-1&&e>n[l];)l++;let c=(e-n[l-1])/(n[l]-n[l-1]),u=i[l-1]+c*(i[l]-i[l-1]);if(a){let f=Math.min(...i),p=Math.max(...i);return Math.max(f,Math.min(p,u))}return u}getExtrapolationMode(e,n){return e!==void 0?e:n!==void 0?n:"extend"}};function Ut(t,e,n,i){return new be(t,e,n,i)}var ye=class{constructor(e,n,i,r={}){this.source=e,this.input=n,this.colors=i.map(s=>this.parseColor(s)),this.options=r;}get(){let e=typeof this.source=="function"?this.source():this.source.get(),{extrapolate:n,extrapolateLeft:i,extrapolateRight:r}=this.options;if(this.input.length===1){let[u,f,p]=this.colors[0];return `rgb(${u}, ${f}, ${p})`}if(e<this.input[0]){let u=i??n??"extend";u==="clamp"?e=this.input[0]:u==="identity"&&(e=this.input[0]);}else if(e>this.input[this.input.length-1]){let u=r??n??"extend";u==="clamp"?e=this.input[this.input.length-1]:u==="identity"&&(e=this.input[this.input.length-1]);}let s=1;for(;s<this.input.length-1&&e>this.input[s];)s++;let o=(e-this.input[s-1])/(this.input[s]-this.input[s-1]),a=this.lerp(this.colors[s-1][0],this.colors[s][0],o),l=this.lerp(this.colors[s-1][1],this.colors[s][1],o),c=this.lerp(this.colors[s-1][2],this.colors[s][2],o);return `rgb(${Math.round(a)}, ${Math.round(l)}, ${Math.round(c)})`}parseColor(e){let n=e.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);if(n){let o=n[1];return o.length===3?[parseInt(o.charAt(0)+o.charAt(0),16),parseInt(o.charAt(1)+o.charAt(1),16),parseInt(o.charAt(2)+o.charAt(2),16)]:[parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16)]}let i=e.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/i);if(i)return [parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)];let r=e.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*[\d.]+\)/i);if(r)return [parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10)];let s=e.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/i);return s?this.hslToRgb(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10)):[0,0,0]}hslToRgb(e,n,i){if(e=(e%360+360)%360,n=Math.max(0,Math.min(100,n))/100,i=Math.max(0,Math.min(100,i))/100,n===0){let a=Math.round(i*255);return [a,a,a]}let r=(a,l,c)=>(c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+(l-a)*6*c:c<1/2?l:c<2/3?a+(l-a)*(2/3-c)*6:a),s=i<.5?i*(1+n):i+n-i*n,o=2*i-s;return [Math.round(r(o,s,e/360+1/3)*255),Math.round(r(o,s,e/360)*255),Math.round(r(o,s,e/360-1/3)*255)]}lerp(e,n,i){return e+(n-e)*i}};function Bt(t,e,n,i){return new ye(t,e,n,i)}var zt={axis:"both",rubberBand:false,rubberBandFactor:.5,elasticBounce:.3,momentum:true,momentumDecay:.95,stiffness:200,damping:20,mass:1,restSpeed:.01,restDelta:.01,clamp:false},ve=class{constructor(e,n={}){this.enabled=true;this.position={x:0,y:0};this._isDragging=false;this.startPosition={x:0,y:0};this.pointerStart={x:0,y:0};this.lastPosition={x:0,y:0};this.lastTime=0;this.velocity={x:0,y:0};this.currentSnap=null;this.snapTimeoutId=null;this.destroyed=false;this.onPointerDown=e=>{!this.enabled||e.button!==0||(this._isDragging=true,this.startPosition={...this.position},this.pointerStart={x:e.clientX,y:e.clientY},this.lastPosition={x:e.clientX,y:e.clientY},this.lastTime=performance.now(),this.velocity={x:0,y:0},this.element.setPointerCapture(e.pointerId),this.element.addEventListener("pointermove",this.onPointerMove),this.element.addEventListener("pointerup",this.onPointerUp),this.element.addEventListener("pointercancel",this.onPointerUp),this.config.onDragStart&&this.config.onDragStart(e));};this.onPointerMove=e=>{let n=performance.now(),i=n-this.lastTime,r=Math.max(i,16),s={x:(e.clientX-this.lastPosition.x)/r,y:(e.clientY-this.lastPosition.y)/r},o=.2;this.velocity={x:this.velocity.x*(1-o)+s.x*o,y:this.velocity.y*(1-o)+s.y*o},this.lastPosition={x:e.clientX,y:e.clientY},this.lastTime=n;let a=this.startPosition.x+(e.clientX-this.pointerStart.x),l=this.startPosition.y+(e.clientY-this.pointerStart.y);this.config.bounds&&(a=this.applyBounds(a,this.config.bounds.left??-1/0,this.config.bounds.right??1/0,"x"),l=this.applyBounds(l,this.config.bounds.top??-1/0,this.config.bounds.bottom??1/0,"y")),this.config.axis==="x"?l=0:this.config.axis==="y"&&(a=0),this.position={x:a,y:l},this.config.onDrag&&this.config.onDrag(a,l,e),this.config.onUpdate&&this.config.onUpdate(a,l);};this.onPointerUp=e=>{if(this._isDragging=false,this.element&&document.contains(this.element)){try{this.element.releasePointerCapture(e.pointerId);}catch{}this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerup",this.onPointerUp),this.element.removeEventListener("pointercancel",this.onPointerUp);}if(this.config.snap?.snapOnRelease!==false){let n=this.findNearestSnapPoint();if(n){this.snapTo(n),this.config.onDragEnd&&this.config.onDragEnd(this.position.x,this.position.y,this.velocity);return}}this.release(this.velocity.x*16,this.velocity.y*16),this.config.onDragEnd&&this.config.onDragEnd(this.position.x,this.position.y,this.velocity);};this.element=e,this.config={...zt,...n};let i={stiffness:this.config.stiffness,damping:this.config.damping,mass:this.config.mass,restSpeed:this.config.restSpeed,restDelta:this.config.restDelta,clamp:this.config.clamp};this.springX=F(0,i),this.springY=F(0,i),this.springX.subscribe(()=>{this._isDragging||(this.position.x=this.springX.get(),this.config.onUpdate&&this.config.onUpdate(this.position.x,this.position.y));}),this.springY.subscribe(()=>{this._isDragging||(this.position.y=this.springY.get(),this.config.onUpdate&&this.config.onUpdate(this.position.x,this.position.y));}),this.setupPointerEvents();}setupPointerEvents(){this.element.addEventListener("pointerdown",this.onPointerDown);}getElasticFactor(e){let n=this.config.dragElastic;return n===void 0?this.config.rubberBand?this.config.rubberBandFactor??.5:0:typeof n=="boolean"?n?.5:0:typeof n=="number"?I(n,0,1):I(n[e]??.5,0,1)}applyBounds(e,n,i,r="x"){if(!isFinite(n)&&!isFinite(i))return e;let s=isFinite(n)?n:-1/0,o=isFinite(i)?i:1/0;if(this.config.dragElastic!==void 0||this.config.rubberBand){if(e<s){let l=this.getElasticFactor(r==="x"?"left":"top");return s-(s-e)*l}if(e>o){let l=this.getElasticFactor(r==="x"?"right":"bottom");return o+(e-o)*l}}return I(e,s,o)}findNearestSnapPoint(){let e=this.config.snap;if(!e)return null;if(e.grid){let n=Math.round(this.position.x/e.grid.x)*e.grid.x,i=Math.round(this.position.y/e.grid.y)*e.grid.y;return {x:n,y:i}}if(e.points&&e.points.length>0){let n=Math.sqrt(this.velocity.x**2+this.velocity.y**2),i=e.velocityThreshold??.5;if(n>i)return null;let r=null,s=1/0;for(let o of e.points){let a=this.position.x-o.x,l=this.position.y-o.y,c=Math.sqrt(a*a+l*l),u=o.radius??50;c<u&&c<s&&(s=c,r=o);}return r}return null}getEffectiveBounds(){let e={left:this.config.bounds?.left??this.config.constraints?.bounds?.left??-1/0,right:this.config.bounds?.right??this.config.constraints?.bounds?.right??1/0,top:this.config.bounds?.top??this.config.constraints?.bounds?.top??-1/0,bottom:this.config.bounds?.bottom??this.config.constraints?.bounds?.bottom??1/0},n=this.config.constraints;if(n?.constrainToParent&&this.element.parentElement){let r=this.element.parentElement.getBoundingClientRect(),s=this.element.getBoundingClientRect(),o=this.normalizePadding(n.constraintPadding);e.left=Math.max(e.left,o.left),e.right=Math.min(e.right,r.width-s.width-o.right),e.top=Math.max(e.top,o.top),e.bottom=Math.min(e.bottom,r.height-s.height-o.bottom);}if(n?.constrainToElement){let i=n.constrainToElement.getBoundingClientRect(),r=this.element.getBoundingClientRect(),s=this.element.parentElement?.getBoundingClientRect()??{left:0,top:0},o=this.normalizePadding(n.constraintPadding),a=i.left-s.left,l=i.top-s.top;e.left=Math.max(e.left,a+o.left),e.right=Math.min(e.right,a+i.width-r.width-o.right),e.top=Math.max(e.top,l+o.top),e.bottom=Math.min(e.bottom,l+i.height-r.height-o.bottom);}return e}normalizePadding(e){return typeof e=="number"?{top:e,right:e,bottom:e,left:e}:{top:e?.top??0,right:e?.right??0,bottom:e?.bottom??0,left:e?.left??0}}enable(){this.enabled=true;}disable(){this.enabled=false,this._isDragging&&(this._isDragging=false);}isEnabled(){return this.enabled}isDragging(){return this._isDragging}reset(){this.springX.jump(0),this.springY.jump(0),this.position={x:0,y:0},this.velocity={x:0,y:0},this.currentSnap=null,this.config.onUpdate&&this.config.onUpdate(0,0);}getPosition(){return {...this.position}}getVelocity(){return {...this.velocity}}setPosition(e,n){this.position={x:e,y:n},this.springX.jump(e),this.springY.jump(n);}jumpTo(e,n){this.position={x:e,y:n},this.springX.jump(e),this.springY.jump(n),this.config.onUpdate&&this.config.onUpdate(e,n);}animateTo(e,n){this.springX.set(e),this.springY.set(n);}release(e,n){let i=this.getEffectiveBounds(),{left:r,right:s,top:o,bottom:a}=i,l=this.position.x,c=this.position.y;if(this.config.momentum){let u=this.config.momentumDecay??.95,f=Math.max(0,Math.min(.99,u)),p=f<1?1/(1-f):100,g=e*p*.1,m=n*p*.1;l+=g,c+=m;}if(this.config.modifyTarget){let u=this.config.modifyTarget({x:l,y:c});l=u.x,c=u.y;}l=I(l,r,s),c=I(c,o,a),this.config.onBoundsHit&&(this.position.x<r&&this.config.onBoundsHit("left"),this.position.x>s&&this.config.onBoundsHit("right"),this.position.y<o&&this.config.onBoundsHit("top"),this.position.y>a&&this.config.onBoundsHit("bottom")),(l!==this.position.x||this.position.x<r||this.position.x>s)&&this.springX.set(l,{velocity:e}),(c!==this.position.y||this.position.y<o||this.position.y>a)&&this.springY.set(c,{velocity:n});}snapToNearest(){let e=this.findNearestSnapPoint();e&&this.snapTo(e);}snapTo(e){this.currentSnap=e,this.config.onSnapStart&&this.config.onSnapStart(e),this.springX.set(e.x),this.springY.set(e.y),this.snapTimeoutId!==null&&clearTimeout(this.snapTimeoutId),this.snapTimeoutId=setTimeout(()=>{this.snapTimeoutId=null,!this.destroyed&&this.currentSnap===e&&this.config.onSnapComplete&&this.config.onSnapComplete(e);},500);}setConstraints(e){this.config.constraints=e;}setSnap(e){this.config.snap=e;}destroy(){this.destroyed=true,this.snapTimeoutId!==null&&(clearTimeout(this.snapTimeoutId),this.snapTimeoutId=null),this.element.removeEventListener("pointerdown",this.onPointerDown),this.springX.destroy(),this.springY.destroy();}};function qt(t,e){return new ve(t,e)}var Nt={direction:"vertical",momentum:false,momentumDecay:.95,bounce:false,stiffness:100,damping:10,mass:1,restSpeed:.01,restDelta:.01,clamp:false},xe=class{constructor(e,n={}){this.scroll={x:0,y:0};this.target={x:0,y:0};this.isScrolling=false;this.isEnabled=true;this.onWheel=e=>{if(!this.isEnabled)return;this.isScrolling||(this.isScrolling=true,this.config.onScrollStart?.());let n=e.deltaX,i=e.deltaY;if(this.config.direction==="horizontal"?i=0:this.config.direction==="vertical"&&(n=0),this.config.bounce){let r=this.container.scrollWidth-this.container.clientWidth,s=this.container.scrollHeight-this.container.clientHeight;this.target.x+=n,this.target.y+=i,this.target.x<0?this.target.x=-Math.sqrt(Math.abs(this.target.x))*10:this.target.x>r&&(this.target.x=r+Math.sqrt(Math.abs(this.target.x-r))*10),this.target.y<0?this.target.y=-Math.sqrt(Math.abs(this.target.y))*10:this.target.y>s&&(this.target.y=s+Math.sqrt(Math.abs(this.target.y-s))*10),e.preventDefault();}else {this.target.x+=n,this.target.y+=i;let r=this.container.scrollWidth-this.container.clientWidth,s=this.container.scrollHeight-this.container.clientHeight;this.target.x=Math.max(0,Math.min(this.target.x,r)),this.target.y=Math.max(0,Math.min(this.target.y,s));}this.startScrollLoop();};this.container=e,this.config={...Nt,...n};let i={stiffness:this.config.stiffness,damping:this.config.damping,mass:this.config.mass,restSpeed:this.config.restSpeed,restDelta:this.config.restDelta,clamp:this.config.clamp};this.springX=F(0,i),this.springY=F(0,i),this.springX.subscribe(()=>{this.scroll.x=this.springX.get(),this.config.onScroll?.(this.scroll.x,this.scroll.y);}),this.springY.subscribe(()=>{this.scroll.y=this.springY.get(),this.config.onScroll?.(this.scroll.x,this.scroll.y);}),this.setupScrollEvents();}setupScrollEvents(){this.container.addEventListener("wheel",this.onWheel,{passive:false});}startScrollLoop(){this.springX.set(this.target.x),this.springY.set(this.target.y);let e=()=>{Math.abs(this.scroll.x-this.target.x)<.1&&Math.abs(this.scroll.y-this.target.y)<.1&&!this.springX.isAnimating()&&!this.springY.isAnimating()&&this.isScrolling?(this.isScrolling=false,this.config.onScrollEnd?.()):this.isScrolling&&requestAnimationFrame(e);};e();}getScroll(){return {...this.scroll}}scrollTo(e,n){this.target={x:e,y:n},this.springX.set(e),this.springY.set(n);}scrollToElement(e,n=0){let i=this.container.getBoundingClientRect(),r=e.getBoundingClientRect(),s=r.left-i.left+this.scroll.x+n,o=r.top-i.top+this.scroll.y+n;this.scrollTo(s,o);}enable(){this.isEnabled=true;}disable(){this.isEnabled=false;}destroy(){this.container.removeEventListener("wheel",this.onWheel),this.springX.destroy(),this.springY.destroy();}};function Wt(t,e){return new xe(t,e)}function Se(t,e){let n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function De(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function Fe(t,e){return {x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function Zt(t,e,n,i){return t<e?e-Math.pow(e-t,i):t>n?n+Math.pow(t-n,i):t}function _e(t,e={}){let{minScale:n=.1,maxScale:i=10,rubberBand:r=true,rubberBandFactor:s=.5,spring:o={stiffness:200,damping:20},onPinch:a,onPinchStart:l,onPinchEnd:c}=e,u=true,f=false,p=0,g=1,m=1,b=1,d=0,v=0,h=0,y=new Map,x=null,S=(L,E=false,$=false)=>{let R=Array.from(y.values()),O=R[0]??{x:0,y:0},Y=R[1]??{x:0,y:0},_=R.length>=2?Fe(O,Y):{x:0,y:0};return {active:f,first:E,last:$,event:L,elapsedTime:performance.now()-v,cancelled:false,scale:m,velocity:d,distance:R.length>=2?Se(O,Y):0,initialDistance:p,origin:_,movement:m-g,offset:m-1}},P=L=>{if(u){for(let E of Array.from(L.changedTouches))y.set(E.identifier,{x:E.clientX,y:E.clientY});if(y.size===2){let E=Array.from(y.values()),$=E[0],R=E[1];p=Se($,R),g=m,v=performance.now(),h=v,f=true,x?.destroy(),x=null,l?.(S(L,true,false));}}},T=L=>{if(!(!u||!f)){for(let E of Array.from(L.changedTouches))y.has(E.identifier)&&y.set(E.identifier,{x:E.clientX,y:E.clientY});if(y.size>=2){let E=Array.from(y.values()),$=E[0],R=E[1],O=Se($,R),Y=performance.now(),_=Y-h,C=g*(O/p);r?C=Zt(C,n,i,s):C=I(C,n,i),d=_>0?(C-b)/_*1e3:0,b=m,m=C,h=Y,a?.(S(L,false,false)),L.preventDefault();}}},A=L=>{for(let E of Array.from(L.changedTouches))y.delete(E.identifier);if(f&&y.size<2){if(f=false,m<n||m>i){let E=I(m,n,i);x=F(m,{stiffness:o.stiffness,damping:o.damping}),x.subscribe(()=>{m=x.get(),a?.(S(L,false,false));}),x.set(E);}c?.(S(L,false,true));}};return t.addEventListener("touchstart",P,{passive:false}),t.addEventListener("touchmove",T,{passive:false}),t.addEventListener("touchend",A),t.addEventListener("touchcancel",A),{enable:()=>{u=true;},disable:()=>{u=false;},isEnabled:()=>u,destroy:()=>{t.removeEventListener("touchstart",P),t.removeEventListener("touchmove",T),t.removeEventListener("touchend",A),t.removeEventListener("touchcancel",A),x?.destroy();}}}function Oe(t,e={}){let{enabled:n=true,threshold:i=0,onRotate:r,onRotateStart:s,onRotateEnd:o}=e,a=n,l=false,c=0,u=0,f=0,p=0,g=0,m=0,b=0,d=new Map,v=(S,P=false,T=false)=>{let A=Array.from(d.values()),L=A[0]??{x:0,y:0},E=A[1]??{x:0,y:0},$=A.length>=2?Fe(L,E):{x:0,y:0};return {active:l,first:P,last:T,event:S,elapsedTime:performance.now()-g,cancelled:false,angle:u,velocity:p,initialAngle:c,origin:$,movement:u-c,offset:b}},h=S=>{if(a){for(let P of Array.from(S.changedTouches))d.set(P.identifier,{x:P.clientX,y:P.clientY});if(d.size===2){let P=Array.from(d.values()),T=P[0],A=P[1];c=De(T,A),g=performance.now(),m=g,f=u,l=true,s?.(v(S,true,false));}}},y=S=>{if(!(!a||!l)){for(let P of Array.from(S.changedTouches))d.has(P.identifier)&&d.set(P.identifier,{x:P.clientX,y:P.clientY});if(d.size>=2){let P=Array.from(d.values()),T=P[0],A=P[1],L=De(T,A),E=performance.now(),$=E-m,R=L-c;R>180&&(R-=360),R<-180&&(R+=360),Math.abs(R)>=i&&(u=b+R,p=$>0?(u-f)/$*1e3:0,f=u,m=E,r?.(v(S,false,false))),S.preventDefault();}}},x=S=>{for(let P of Array.from(S.changedTouches))d.delete(P.identifier);l&&d.size<2&&(l=false,b=u,o?.(v(S,false,true)));};return t.addEventListener("touchstart",h,{passive:false}),t.addEventListener("touchmove",y,{passive:false}),t.addEventListener("touchend",x),t.addEventListener("touchcancel",x),{enable:()=>{a=true;},disable:()=>{a=false;},isEnabled:()=>a,destroy:()=>{t.removeEventListener("touchstart",h),t.removeEventListener("touchmove",y),t.removeEventListener("touchend",x),t.removeEventListener("touchcancel",x);}}}function Ye(t,e={}){let{velocityThreshold:n=.5,distanceThreshold:i=50,maxDuration:r=300,axis:s="both",onSwipe:o,onSwipeStart:a,onSwipeEnd:l}=e,c=true,u=false,f={x:0,y:0},p={x:0,y:0},g=0,m=0,b=null,d=(S,P=false,T=false,A=null)=>{let L=performance.now(),E=L-g,$=L-m,R={x:S.clientX-f.x,y:S.clientY-f.y},O={x:$>0?(S.clientX-p.x)/$:0,y:$>0?(S.clientY-p.y)/$:0};return {active:u,first:P,last:T,event:S,elapsedTime:E,cancelled:false,direction:A,velocity:O,distance:R,movement:R,duration:E}},v=(S,P)=>{let T=Math.abs(S.x),A=Math.abs(S.y),L=Math.abs(P.x),E=Math.abs(P.y),$=T>=i,R=A>=i,O=L>=n,Y=E>=n;return (s==="x"||s==="both"&&T>A)&&($||O)?S.x>0?"right":"left":(s==="y"||s==="both"&&A>T)&&(R||Y)?S.y>0?"down":"up":null},h=S=>{!c||b!==null||(b=S.pointerId,f={x:S.clientX,y:S.clientY},p={...f},g=performance.now(),m=g,u=true,t.setPointerCapture(S.pointerId),a?.(d(S,true,false)));},y=S=>{if(!c||!u||S.pointerId!==b)return;let P=performance.now();p={x:S.clientX,y:S.clientY},m=P;},x=S=>{if(!u||S.pointerId!==b)return;if(u=false,b=null,performance.now()-g<=r){let T={x:S.clientX-f.x,y:S.clientY-f.y},A=performance.now()-m,L={x:A>0?(S.clientX-p.x)/A:0,y:A>0?(S.clientY-p.y)/A:0},E=v(T,L),$=d(S,false,true,E);E&&o?.($),l?.($);}else l?.(d(S,false,true,null));t.releasePointerCapture(S.pointerId);};return t.addEventListener("pointerdown",h),t.addEventListener("pointermove",y),t.addEventListener("pointerup",x),t.addEventListener("pointercancel",x),{enable:()=>{c=true;},disable:()=>{c=false;},isEnabled:()=>c,destroy:()=>{t.removeEventListener("pointerdown",h),t.removeEventListener("pointermove",y),t.removeEventListener("pointerup",x),t.removeEventListener("pointercancel",x);}}}function Xe(t,e={}){let{threshold:n=500,movementTolerance:i=10,onLongPress:r,onPressStart:s,onPressEnd:o}=e,a=true,l=false,c=false,u={x:0,y:0},f=0,p=null,g=null,m=(h,y=false,x=false)=>({active:l,first:y,last:x,event:h,elapsedTime:performance.now()-f,cancelled:false,position:u,duration:performance.now()-f,triggered:c}),b=h=>{!a||g!==null||(g=h.pointerId,u={x:h.clientX,y:h.clientY},f=performance.now(),l=true,c=false,t.setPointerCapture(h.pointerId),s?.(m(h,true,false)),p=setTimeout(()=>{l&&!c&&(c=true,r?.(m(h,false,false)));},n));},d=h=>{if(!l||h.pointerId!==g)return;let y=h.clientX-u.x,x=h.clientY-u.y;Math.sqrt(y*y+x*x)>i&&p&&(clearTimeout(p),p=null);},v=h=>{!l||h.pointerId!==g||(l=false,g=null,p&&(clearTimeout(p),p=null),o?.(m(h,false,true)),t.releasePointerCapture(h.pointerId));};return t.addEventListener("pointerdown",b),t.addEventListener("pointermove",d),t.addEventListener("pointerup",v),t.addEventListener("pointercancel",v),{enable:()=>{a=true;},disable:()=>{a=false;},isEnabled:()=>a,destroy:()=>{p&&clearTimeout(p),t.removeEventListener("pointerdown",b),t.removeEventListener("pointermove",d),t.removeEventListener("pointerup",v),t.removeEventListener("pointercancel",v);}}}function Kt(t,e){let n=[];return e.pinch&&n.push(_e(t,e.pinch)),e.rotate&&n.push(Oe(t,e.rotate)),e.swipe&&n.push(Ye(t,e.swipe)),e.longPress&&n.push(Xe(t,e.longPress)),{enable:()=>n.forEach(i=>i.enable()),disable:()=>n.forEach(i=>i.disable()),isEnabled:()=>n.every(i=>i.isEnabled()),destroy:()=>n.forEach(i=>i.destroy())}}function ie(t){if(t.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i))return je(t);let n=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/i);if(n)return {r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10)};let i=t.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*[\d.]+\)/i);if(i)return {r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10)};let r=t.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/i);return r?Ge(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10)):{r:0,g:0,b:0}}function Ce(t,e,n){let i=r=>Math.round(Math.max(0,Math.min(255,r))).toString(16).padStart(2,"0");return `#${i(t)}${i(e)}${i(n)}`}function je(t){let e=t.replace("#","");return e.length===3?{r:parseInt(e.charAt(0)+e.charAt(0),16),g:parseInt(e.charAt(1)+e.charAt(1),16),b:parseInt(e.charAt(2)+e.charAt(2),16)}:{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}}function Ge(t,e,n){if(t=(t%360+360)%360,e=Math.max(0,Math.min(100,e))/100,n=Math.max(0,Math.min(100,n))/100,e===0){let o=Math.round(n*255);return {r:o,g:o,b:o}}let i=(o,a,l)=>(l<0&&(l+=1),l>1&&(l-=1),l<1/6?o+(a-o)*6*l:l<1/2?a:l<2/3?o+(a-o)*(2/3-l)*6:o),r=n<.5?n*(1+e):n+e-n*e,s=2*n-r;return {r:Math.round(i(s,r,t/360+1/3)*255),g:Math.round(i(s,r,t/360)*255),b:Math.round(i(s,r,t/360-1/3)*255)}}function Qt(t,e,n){t=Math.max(0,Math.min(255,t))/255,e=Math.max(0,Math.min(255,e))/255,n=Math.max(0,Math.min(255,n))/255;let i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,o=0,a=0;return s!==0&&(a=(i+r)/2>.5?s/(2-i-r):s/(i+r),i===t?o=((e-n)/s+(e<n?6:0))/6:i===e?o=((n-t)/s+2)/6:o=((t-e)/s+4)/6),{h:Math.round(o*360),s:Math.round(a*100),l:Math.round((i+r)/2*100)}}function Jt(t,e,n){let i=ie(t),r=ie(e);return Ce(Math.round(B(i.r,r.r,n)),Math.round(B(i.g,r.g,n)),Math.round(B(i.b,r.b,n)))}function en(t,e={}){let{offset:n=["start","end"],smooth:i=0}=e,r=0,s=0,o=0,a=performance.now(),l=0,c=0,u=null,f=new Set,p=()=>{let d=window.scrollY,v=window.innerHeight,h=performance.now(),y=Math.max(h-a,1);l=(d-o)/y*1e3,c=d>o?1:d<o?-1:0,o=d,a=h;let x,S=true,P=1;if(t){let T=t.getBoundingClientRect(),A=T.top+d,L=T.height,E=n[0]==="start"?A:n[0]==="center"?A+L/2:A+L,$=n[1]==="start"?v:n[1]==="center"?v/2:0,R=E-v,O=E-$;x=I((d-R)/(O-R),0,1),S=T.top<v&&T.bottom>0,P=S?I((Math.min(T.bottom,v)-Math.max(T.top,0))/T.height,0,1):0;}else {let T=document.documentElement.scrollHeight-v;x=T>0?I(d/T,0,1):0;}return i>0?(s=B(s,x,1-i),r=s):r=x,{progress:r,scrollY:d,velocity:l,direction:c,isInView:S,visibleRatio:P}},g=d=>{f.forEach(v=>v(d));},m=()=>{u||(u=requestAnimationFrame(()=>{u=null;let d=p();g(d);}));},b=p();return window.addEventListener("scroll",m,{passive:true}),window.addEventListener("resize",m,{passive:true}),{get:()=>r,getInfo:()=>p(),subscribe:d=>(f.add(d),d(b),()=>f.delete(d)),destroy:()=>{u&&cancelAnimationFrame(u),window.removeEventListener("scroll",m),window.removeEventListener("resize",m),f.clear();}}}function tn(t,e={}){let{speed:n=.5,direction:i="vertical",easing:r=f=>f,rootMargin:s="0px"}=e,o=0,a=false,l=null,c=()=>{if(!a)return;let f=t.getBoundingClientRect(),p=window.innerHeight,g=f.top+f.height/2,m=p/2,d=(g-m)/p;o=r(Math.abs(d))*Math.sign(d)*n*100,i==="vertical"?t.style.transform=`translate3d(0, ${o}px, 0)`:t.style.transform=`translate3d(${o}px, 0, 0)`;};l=new IntersectionObserver(f=>{let p=f[0];p&&(a=p.isIntersecting,a&&c());},{rootMargin:s}),l.observe(t);let u=()=>{a&&requestAnimationFrame(c);};return window.addEventListener("scroll",u,{passive:true}),{getOffset:()=>o,update:c,destroy:()=>{l?.disconnect(),window.removeEventListener("scroll",u),t.style.transform="";}}}function nn(t,e={}){let{start:n="top",end:i="bottom",startOffset:r=0,endOffset:s=0,onEnter:o,onLeave:a,onProgress:l,once:c=false,scrub:u=false}=e,f=false,p=0,g=false,m=0,b=null,d=(y,x)=>{if(typeof y=="number")return y;switch(y){case "top":return x.top;case "center":return x.top+x.height/2;case "bottom":return x.bottom}},v=()=>{let y=t.getBoundingClientRect(),x=window.innerHeight,S=d(n,y)+r,P=d(i,y)+s,T=x,A=0,L=(T-S)/(T-A),E=(T-P)/(T-A),$=I(L/(E||1),0,1);typeof u=="number"&&u>0?(m=B(m,$,1-u),p=m):p=$;let R=y.top<x&&y.bottom>0;return {progress:p,scrollY:window.scrollY,velocity:0,direction:0,isInView:R,visibleRatio:R?I((Math.min(y.bottom,x)-Math.max(y.top,0))/y.height,0,1):0}},h=()=>{b||(b=requestAnimationFrame(()=>{b=null;let y=v(),x=f;f=y.progress>0&&y.progress<1,!x&&f&&(!c||!g)&&(g=true,o?.(y)),x&&!f&&a?.(y),(f||u)&&l?.(y);}));};return window.addEventListener("scroll",h,{passive:true}),window.addEventListener("resize",h,{passive:true}),h(),{isActive:()=>f,getProgress:()=>p,refresh:()=>{v();},destroy:()=>{b&&cancelAnimationFrame(b),window.removeEventListener("scroll",h),window.removeEventListener("resize",h);}}}function rn(t,e){let{inputRange:n,outputRange:i,clamp:r=true,easing:s}=e;if(n.length!==i.length)throw new Error("inputRange and outputRange must have the same length");let o=i[0],a=typeof o=="string"&&(o.startsWith("#")||o.startsWith("rgb")||o.startsWith("hsl")),l=o??0,c=new Set,u=p=>{let g=p;s&&(g=s(g));let m=n[0]??0,b=n[n.length-1]??1;r&&(g=I(g,m,b));let d=0;for(let P=0;P<n.length-1;P++){let T=n[P]??0,A=n[P+1]??1;if(g>=T&&g<=A){d=P;break}g>A&&(d=P+1);}let v=n[d]??0,h=n[d+1]??v,y=h!==v?(g-v)/(h-v):0,x=i[d]??0,S=i[d+1]??x;return a&&typeof x=="string"&&typeof S=="string"?Jt(x,S,y):B(x,S,y)},f=t.subscribe(p=>{l=u(p.progress),c.forEach(g=>g(l));});return {get:()=>l,subscribe:p=>(c.add(p),p(l),()=>c.delete(p)),destroy:()=>{f(),c.clear();}}}var on={linear:t=>t,easeIn:t=>t*t,easeOut:t=>t*(2-t),easeInOut:t=>t<.5?2*t*t:-1+(4-2*t)*t,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t};var Pe=0;function Te(t={}){let{defaults:e={},autoplay:n=false,repeat:i=0,yoyo:r=false,repeatDelay:s=0,onStart:o,onUpdate:a,onComplete:l,onRepeat:c}=t,u=[],f=new Map,p=new Map,g=new Map,m=0,b=0,d=false,v=false,h=false,y=0,x=null,S=0,P=false,T=0,A=C=>{if(C===void 0)return T;if(typeof C=="number")return C;if(C==="<"){let w=u[u.length-1];return w?w.startTime:0}if(C===">")return T;if(C.startsWith("+="))return T+parseFloat(C.slice(2));if(C.startsWith("-="))return T-parseFloat(C.slice(2));if(f.has(C))return f.get(C);let V=C.match(/^([a-zA-Z_]\w*)([+-]=?\d*\.?\d+)?$/);if(V){let w=V[1],k=V[2],D=w?f.get(w)??0:0;if(k){let M=parseFloat(k.replace("=",""));return D+M}return D}return T},L=C=>typeof C=="string"?document.querySelector(C):C instanceof HTMLElement?C:null,E=C=>{let V={};for(let[w,k]of Object.entries(C))typeof k=="number"&&!["duration","delay"].includes(w)&&(V[w]=k);return V},$=(C,V)=>{let w=[],k={};for(let[D,M]of Object.entries(V))switch(D){case "x":w.push(`translateX(${M}px)`);break;case "y":w.push(`translateY(${M}px)`);break;case "z":w.push(`translateZ(${M}px)`);break;case "scale":w.push(`scale(${M})`);break;case "scaleX":w.push(`scaleX(${M})`);break;case "scaleY":w.push(`scaleY(${M})`);break;case "rotate":case "rotation":w.push(`rotate(${M}deg)`);break;case "rotateX":w.push(`rotateX(${M}deg)`);break;case "rotateY":w.push(`rotateY(${M}deg)`);break;case "rotateZ":w.push(`rotateZ(${M}deg)`);break;case "skewX":w.push(`skewX(${M}deg)`);break;case "skewY":w.push(`skewY(${M}deg)`);break;case "opacity":k.opacity=String(M);break;default:k[D]=typeof M=="number"?`${M}px`:String(M);}w.length>0&&(C.style.transform=w.join(" "));for(let[D,M]of Object.entries(k))C.style[D]=M;},R=(C,V)=>{let w={},k=getComputedStyle(C);for(let D of Object.keys(V))switch(D){case "opacity":w[D]=parseFloat(k.opacity)||1;break;case "x":case "y":case "z":case "scale":case "scaleX":case "scaleY":case "rotate":case "rotation":case "rotateX":case "rotateY":case "rotateZ":case "skewX":case "skewY":w[D]=D.startsWith("scale")?1:0;break;default:w[D]=parseFloat(k.getPropertyValue(D))||0;}return w},O=64,Y=C=>{if(!d||h)return;let V=S?C-S:0,w=Math.min(V,O)/1e3;S=C,m+=v?-w:w,m=I(m,0,b);let k=p.get(Math.floor(m*1e3));k&&k.forEach(M=>M());let D=g.get(Math.floor(m*1e3));if(D!==void 0){h=true,D?.();return}for(let M of u){let j=I((m-M.startTime)/(M.endTime-M.startTime),0,1),G=m>=M.startTime&&m<=M.endTime;G&&!M.isActive&&(M.isActive=true,M.props.onStart?.()),M.isActive&&M.spring&&M.props.onUpdate?.(j),G&&j>=1&&!M.isComplete&&(M.isComplete=true,M.props.onComplete?.());}if(a?.(m/b),v&&m<=0||!v&&m>=b)if(i===-1||y<i){if(y++,c?.(y),r?v=!v:(m=0,u.forEach(M=>{M.isActive=false,M.isComplete=false;})),s>0){setTimeout(()=>{x=requestAnimationFrame(Y);},s*1e3);return}}else {d=false,l?.();return}x=requestAnimationFrame(Y);},_={to(C,V,w){let k=A(w)+(V.delay||0),D=V.duration||.5,M=k+D,j=L(C),G=E(V),X={id:`segment_${Pe++}`,target:C,props:V,startTime:k,endTime:M,spring:null,isActive:false,isComplete:false};if(j&&Object.keys(G).length>0){let W=R(j,G),z={...e,...V.spring};X.spring=N(W,z),X.spring.subscribe(K=>{$(j,K);});let Z=X.props.onStart;X.props.onStart=()=>{X.spring?.set(G),Z?.();};}return u.push(X),T=M,b=Math.max(b,M),_},from(C,V,w){let k=A(w)+(V.delay||0),D=V.duration||.5,M=k+D,j=L(C),G=E(V),X={id:`segment_${Pe++}`,target:C,props:V,startTime:k,endTime:M,spring:null,isActive:false,isComplete:false};if(j&&Object.keys(G).length>0){let W=R(j,G),z={...e,...V.spring};X.spring=N(G,z),$(j,G),X.spring.subscribe(K=>{$(j,K);});let Z=X.props.onStart;X.props.onStart=()=>{X.spring?.set(W),Z?.();};}return u.push(X),T=M,b=Math.max(b,M),_},fromTo(C,V,w,k){let D=A(k)+(w.delay||0),M=w.duration||.5,j=D+M,G=L(C),X=E(V),W=E(w),z={id:`segment_${Pe++}`,target:C,props:w,startTime:D,endTime:j,spring:null,isActive:false,isComplete:false};if(G&&Object.keys(W).length>0){let Z={...e,...w.spring};z.spring=N(X,Z),$(G,X),z.spring.subscribe(tt=>{$(G,tt);});let K=z.props.onStart;z.props.onStart=()=>{z.spring?.set(W),K?.();};}return u.push(z),T=j,b=Math.max(b,j),_},addLabel(C,V){let w=A(V);return f.set(C,w),_},call(C,V){let w=Math.floor(A(V)*1e3);return p.has(w)||p.set(w,[]),p.get(w).push(C),_},set(C,V,w){let k=L(C);if(k){let D=A(w);this.call(()=>{$(k,E(V));},D);}return _},addPause(C,V){let w=Math.floor(A(C)*1e3);return g.set(w,V),_},play(){return P||(P=true,o?.()),d=true,h=false,S=0,x=requestAnimationFrame(Y),_},pause(){return h=true,x&&(cancelAnimationFrame(x),x=null),_},resume(){return h&&(h=false,S=0,x=requestAnimationFrame(Y)),_},reverse(){return v=!v,_},restart(){return m=v?b:0,y=0,P=false,u.forEach(C=>{C.isActive=false,C.isComplete=false;}),this.play()},seek(C){return typeof C=="string"?m=f.get(C)??0:m=I(C,0,b),_},kill(){d=false,x&&(cancelAnimationFrame(x),x=null),u.forEach(C=>C.spring?.destroy()),u.length=0,f.clear(),p.clear(),g.clear();},time:()=>m,duration:()=>b,progress:()=>b>0?m/b:0,isPlaying:()=>d&&!h,isReversed:()=>v,getById(C){return u.find(V=>V.id===C)}};return n&&_.play(),_}function sn(t,e){return Te().to(t,e).play()}function an(t,e){let n=Te();return t.forEach((i,r)=>{n.to(i,e,r===0?0:"<");}),n.play()}function He(t){let e=[],n=/([MLCQAZHVST])([^MLCQAZHVST]*)/gi,i=t.matchAll(n);for(let r of i){let s=r[1],o=r[2];if(!s||o===void 0)continue;let a=s.toUpperCase(),l=o.trim().split(/[\s,]+/).filter(c=>c!=="").map(parseFloat).filter(c=>!isNaN(c));e.push({type:a,values:l});}return e}function Ue(t){return t.map(s=>{let{type:o,values:a}=s,l=[...a];switch(o){case "M":a[0]??0,a[1]??0;break;case "L":a[0]??0,a[1]??0;break;case "H":l[0]=a[0]??0,a[0]??0;break;case "V":l[0]=a[0]??0,a[0]??0;break;case "C":a[4]??0,a[5]??0;break;case "Q":a[2]??0,a[3]??0;break;case "A":a[5]??0,a[6]??0;break;}return {type:o,values:l}})}function Be(t,e){let n=[];if(typeof document>"u"){for(let a of t)a.type==="M"||a.type==="L"?n.push({x:a.values[0]??0,y:a.values[1]??0}):a.type==="C"&&n.push({x:a.values[4]??0,y:a.values[5]??0,cp1x:a.values[0]??0,cp1y:a.values[1]??0,cp2x:a.values[2]??0,cp2y:a.values[3]??0});return n}let i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),s=document.createElementNS(i,"path"),o="";for(let a of t)o+=a.type+a.values.join(" ");s.setAttribute("d",o),r.appendChild(s),document.body.appendChild(r);try{let l=s.getTotalLength()/(e-1);for(let c=0;c<e;c++){let u=s.getPointAtLength(c*l);n.push({x:u.x,y:u.y});}}finally{document.body.removeChild(r);}return n}function ze(t,e,n){return {x:B(t.x,e.x,n),y:B(t.y,e.y,n)}}function qe(t){if(t.length===0)return "";let e=t[0],n=`M ${e.x} ${e.y}`;for(let i=1;i<t.length;i++){let r=t[i];n+=` L ${r.x} ${r.y}`;}return n}function Ne(t,e={}){let{spring:n={stiffness:120,damping:14},samples:i=100,onProgress:r,onComplete:s}=e,o=t,a=[],l=[],c=[],u=new Set,f=He(t);a=Be(Ue(f),i),c=[...a],l=[...a];let p=F(0,n);return p.subscribe(()=>{let g=p.get();r?.(g),c=a.map((m,b)=>ze(m,l[b]??m,g)),o=qe(c),u.forEach(m=>m(o)),g>=.999&&s?.();}),{getPath:()=>o,getProgress:()=>p.get(),morphTo(g){let m=He(g),b=Be(Ue(m),i);for(a=[...c],l=b;a.length<l.length;)a.push(a[a.length-1]||{x:0,y:0});for(;l.length<a.length;)l.push(l[l.length-1]||{x:0,y:0});p.jump(0),p.set(1);},setProgress(g){let m=I(g,0,1);p.jump(m),c=a.map((b,d)=>ze(b,l[d]??b,m)),o=qe(c),u.forEach(b=>b(o));},subscribe(g){return u.add(g),g(o),()=>u.delete(g)},destroy(){p.destroy(),u.clear();}}}function ln(t,e={}){if(t.length===0)throw new Error("At least one path is required");let n=0,i=t[0],r=Ne(i,e);return {getPath:()=>r.getPath(),getCurrentIndex:()=>n,morphToIndex(s){let o=I(s,0,t.length-1);if(o!==n){n=o;let a=t[o];r.morphTo(a);}},morphToNext(){this.morphToIndex((n+1)%t.length);},morphToPrevious(){this.morphToIndex((n-1+t.length)%t.length);},subscribe:s=>r.subscribe(s),destroy:()=>r.destroy()}}var cn={circle(t,e,n){return `M ${t-n} ${e}
            A ${n} ${n} 0 1 1 ${t+n} ${e}
            A ${n} ${n} 0 1 1 ${t-n} ${e}`},rect(t,e,n,i,r=0){return r===0?`M ${t} ${e}
              L ${t+n} ${e}
              L ${t+n} ${e+i}
              L ${t} ${e+i}
              Z`:`M ${t+r} ${e}
            L ${t+n-r} ${e}
            Q ${t+n} ${e} ${t+n} ${e+r}
            L ${t+n} ${e+i-r}
            Q ${t+n} ${e+i} ${t+n-r} ${e+i}
            L ${t+r} ${e+i}
            Q ${t} ${e+i} ${t} ${e+i-r}
            L ${t} ${e+r}
            Q ${t} ${e} ${t+r} ${e}
            Z`},polygon(t,e,n,i){let r=[];for(let s=0;s<i;s++){let o=s/i*Math.PI*2-Math.PI/2,a=t+n*Math.cos(o),l=e+n*Math.sin(o);r.push(`${s===0?"M":"L"} ${a} ${l}`);}return r.join(" ")+" Z"},star(t,e,n,i,r){let s=[],o=Math.PI/r;for(let a=0;a<r*2;a++){let l=a%2===0?n:i,c=a*o-Math.PI/2,u=t+l*Math.cos(c),f=e+l*Math.sin(c);s.push(`${a===0?"M":"L"} ${u} ${f}`);}return s.join(" ")+" Z"},heart(t,e,n){let i=n/4;return `M ${t} ${e+i}
            C ${t} ${e} ${t-2*i} ${e} ${t-2*i} ${e-i}
            C ${t-2*i} ${e-2*i} ${t} ${e-2*i} ${t} ${e-i}
            C ${t} ${e-2*i} ${t+2*i} ${e-2*i} ${t+2*i} ${e-i}
            C ${t+2*i} ${e} ${t} ${e} ${t} ${e+i}
            Z`},arrow(t,e,n,i,r="right"){let s=n/2,o=i/2;switch(r){case "right":return `M ${t} ${e-o} L ${t+n} ${e} L ${t} ${e+o} Z`;case "left":return `M ${t+n} ${e-o} L ${t} ${e} L ${t+n} ${e+o} Z`;case "up":return `M ${t-s} ${e+i} L ${t} ${e} L ${t+s} ${e+i} Z`;case "down":return `M ${t-s} ${e} L ${t} ${e+i} L ${t+s} ${e} Z`}}};function re(t){let e=t.getBoundingClientRect(),n=getComputedStyle(t);return {x:e.left+window.scrollX,y:e.top+window.scrollY,width:e.width,height:e.height,opacity:parseFloat(n.opacity)||1,borderRadius:parseFloat(n.borderRadius)||0,scaleX:1,scaleY:1}}function un(t,e,n,i){let r=i.x!==void 0?e.x-n.x+(i.x-e.x):0,s=i.y!==void 0?e.y-n.y+(i.y-e.y):0,o=i.width!==void 0?i.width/n.width:1,a=i.height!==void 0?i.height/n.height:1;if(t.style.transform=`translate(${r}px, ${s}px) scale(${o}, ${a})`,t.style.transformOrigin="top left",i.opacity!==void 0&&(t.style.opacity=String(i.opacity)),i.borderRadius!==void 0){let l=i.borderRadius/Math.max(o,a);t.style.borderRadius=`${l}px`;}}function We(t){t.style.transform="",t.style.transformOrigin="",t.style.opacity="",t.style.borderRadius="";}function we(t={}){let{spring:e={stiffness:300,damping:30},onAnimationStart:n,onAnimationComplete:i,crossfade:r=false,transition:s={}}=t,o=new Map,a=new Map,l=(m,b)=>{o.has(m)||o.set(m,[]);let d=o.get(m);if(!d.some(h=>h.element===b)){let h=re(b);d.push({id:m,element:b,measurement:h,spring:null,isAnimating:false}),a.has(m)||a.set(m,h);}},c=(m,b)=>{let d=o.get(m);if(!d)return;let v=d.findIndex(h=>h.element===b);if(v!==-1){let h=d[v];a.set(m,re(b)),h.spring?.destroy(),d.splice(v,1),d.length===0&&o.delete(m);}},u=(m,b,d)=>{m.spring?.destroy();let v={x:b.x,y:b.y,width:b.width,height:b.height};r&&(v.opacity=b.opacity??1),b.borderRadius!==void 0&&(v.borderRadius=b.borderRadius),m.spring=N(v,e),m.isAnimating=true,n?.(m.id),m.spring.subscribe(x=>{un(m.element,b,d,x);});let h={x:d.x,y:d.y,width:d.width,height:d.height};r&&(h.opacity=d.opacity??1),d.borderRadius!==void 0&&(h.borderRadius=d.borderRadius),m.spring.set(h);let y=()=>{m.spring&&!m.spring.isAnimating()?(m.isAnimating=false,We(m.element),i?.(m.id)):m.isAnimating&&requestAnimationFrame(y);};requestAnimationFrame(y);};return {register:l,unregister:c,update:()=>{for(let[m,b]of o)for(let d of b){let v=a.get(m),h=re(d.element);v&&(v.x!==h.x||v.y!==h.y||v.width!==h.width||v.height!==h.height)&&u(d,v,h),d.measurement=h,a.set(m,h);}},forceUpdate:()=>{for(let[m,b]of o)for(let d of b)d.measurement=re(d.element),a.set(m,d.measurement);},destroy:()=>{for(let m of o.values())for(let b of m)b.spring?.destroy(),We(b.element);o.clear(),a.clear();}}}var mn=0;function pn(){let t=new Map;return {createGroup(e){let n=e??`layout-group-${mn++}`,i=we();return t.set(n,i),i},getGroup(e){return t.get(e)},updateAll(){for(let e of t.values())e.update();},destroy(){for(let e of t.values())e.destroy();t.clear();}}}function fn(t={}){let{root:e=typeof document<"u"?document.body:null,attribute:n="data-layout-id",debounce:i=0,...r}=t;if(!e)return {update:()=>{},forceUpdate:()=>{},destroy:()=>{}};let s=we(r),o=null,a=null,l=null,c=()=>{e.querySelectorAll(`[${n}]`).forEach(p=>{let g=p.getAttribute(n);g&&p instanceof HTMLElement&&s.register(g,p);});},u=()=>{l&&clearTimeout(l),i>0?l=setTimeout(()=>{c(),s.update();},i):(c(),s.update());};return c(),o=new MutationObserver(f=>{let p=false;for(let g of f)g.type==="childList"&&(g.addedNodes.forEach(m=>{m instanceof HTMLElement&&(m.hasAttribute(n)&&(p=true),m.querySelector(`[${n}]`)&&(p=true));}),g.removedNodes.forEach(m=>{if(m instanceof HTMLElement){let b=m.getAttribute(n);b&&s.unregister(b,m);}})),g.type==="attributes"&&g.attributeName===n&&(p=true);p&&u();}),o.observe(e,{childList:true,subtree:true,attributes:true,attributeFilter:[n]}),a=new ResizeObserver(()=>{u();}),a.observe(e),{update:()=>{c(),s.update();},forceUpdate:()=>{c(),s.forceUpdate();},destroy:()=>{l&&clearTimeout(l),o?.disconnect(),a?.disconnect(),s.destroy();}}}function dn(t){let e=t;return ()=>(e=e*1103515245+12345&2147483647,e/2147483647)}function Ze(t,e,n,i){let r=t%e,s=Math.floor(t/e),o,a;switch(i){case "top-left":o=0,a=0;break;case "top-right":o=e-1,a=0;break;case "bottom-left":o=0,a=n-1;break;case "bottom-right":o=e-1,a=n-1;break;default:o=(e-1)/2,a=(n-1)/2;break}let l=r-o,c=s-a;return Math.sqrt(l*l+c*c)}function oe(t){let{count:e,delay:n=.1,easing:i=s=>s}=t,r=[];for(let s=0;s<e;s++){let o=e>1?s/(e-1):0;r.push(i(o)*n*(e-1));}return r}function gn(t){return oe(t).reverse()}function Ke(t){let{count:e,delay:n=.1,easing:i=o=>o}=t,r=[],s=(e-1)/2;for(let o=0;o<e;o++){let a=Math.abs(o-s),l=s,c=l>0?a/l:0;r.push(i(c)*n*l);}return r}function Qe(t){let{count:e,delay:n=.1,easing:i=a=>a}=t,r=[],s=(e-1)/2,o=n*s;for(let a=0;a<e;a++){let l=Math.abs(a-s),c=s,u=c>0?1-l/c:0;r.push(i(u)*o);}return r}function Me(t){let{count:e,columns:n,origin:i="top-left",direction:r="diagonal",delay:s=.1,easing:o=c=>c}=t,a=Math.ceil(e/n),l=[];for(let c=0;c<e;c++){let u=c%n,f=Math.floor(c/n),p;switch(r){case "row":p=f/Math.max(a-1,1);break;case "column":p=u/Math.max(n-1,1);break;case "diagonal":p=(u+f)/(n+a-2);break;default:{let g=Ze(i==="center"?0:e-1,n,a,i==="center"?"top-left":i),m=Ze(c,n,a,i);p=g>0?m/g:0;break}}l.push(o(I(p,0,1))*s*Math.max(n,a));}return l}function hn(t){let{count:e,direction:n="horizontal",frequency:i=1,amplitude:r=.5,delay:s=.1,easing:o=l=>l}=t,a=[];for(let l=0;l<e;l++){let c=e>1?l/(e-1):0,u=c,f=Math.sin(c*Math.PI*2*i)*r;switch(n){case "horizontal":u=c+f*.5;break;case "vertical":u=c+Math.abs(f);break;case "diagonal":u=c+f;break}a.push(o(I(u,0,1.5))*s*(e-1));}return a}function Ee(t){let{count:e,columns:n,direction:i="clockwise",startFrom:r="edge",delay:s=.1,easing:o=d=>d}=t,a=Math.ceil(e/n),l=[],c=new Set,u=0,f=a-1,p=0,g=n-1;for(;u<=f&&p<=g;){for(let d=p;d<=g;d++){let v=u*n+d;v<e&&!c.has(`${u},${d}`)&&(l.push(v),c.add(`${u},${d}`));}u++;for(let d=u;d<=f;d++){let v=d*n+g;v<e&&!c.has(`${d},${g}`)&&(l.push(v),c.add(`${d},${g}`));}if(g--,u<=f){for(let d=g;d>=p;d--){let v=f*n+d;v<e&&!c.has(`${f},${d}`)&&(l.push(v),c.add(`${f},${d}`));}f--;}if(p<=g){for(let d=f;d>=u;d--){let v=d*n+p;v<e&&!c.has(`${d},${p}`)&&(l.push(v),c.add(`${d},${p}`));}p++;}}r==="center"&&l.reverse(),i==="counter-clockwise"&&l.reverse();let m=new Array(e).fill(0),b=s*(l.length-1);return l.forEach((d,v)=>{let h=l.length>1?v/(l.length-1):0;m[d]=o(h)*b;}),m}function Je(t){let{count:e,seed:n=Date.now(),delay:i=.1,minMultiplier:r=0,maxMultiplier:s=1,easing:o=u=>u}=t,a=dn(n),l=[],c=i*(e-1);for(let u=0;u<e;u++){let f=a(),p=r+f*(s-r);l.push(o(p)*c);}return l}function bn(t,e){let{count:n,delay:i=.1}=t,r=[],s=i*(n-1);for(let o=0;o<n;o++){let a=e(o,n);r.push(I(a,0,1)*s);}return r}function yn(t,e){return t.map((n,i)=>({...n,delay:(n.delay??0)+(e[i]??0)}))}var vn={cascade:t=>oe({count:t,delay:.05}),reveal:t=>oe({count:t,delay:.15}),pop:t=>Ke({count:t,delay:.08}),ripple:t=>Qe({count:t,delay:.08}),scatter:t=>Je({count:t,delay:.1,seed:42}),gridWave:(t,e)=>Me({count:t,columns:e,direction:"diagonal",delay:.05}),gridRadial:(t,e)=>Me({count:t,columns:e,origin:"center",direction:"radial",delay:.05}),spiralIn:(t,e)=>Ee({count:t,columns:e,startFrom:"edge",delay:.05}),spiralOut:(t,e)=>Ee({count:t,columns:e,startFrom:"center",delay:.05})};var Q=class{constructor(e,n={}){this._velocity=0;this._subscribers=new Set;this._eventListeners=new Map;this._springValue=null;this._isAnimating=false;this._destroyed=false;this._checkEndRafId=null;this._value=e,this._springConfig=n.spring??{stiffness:100,damping:15},typeof e=="number"&&(this._springValue=F(e,{...this._springConfig,onUpdate:i=>{this._destroyed||(this._value=i,this._velocity=this._springValue?.getVelocity()??0,this._notify());}}));}get(){return this._value}getVelocity(){return this._velocity}isAnimating(){return this._isAnimating}set(e,n=true){if(!this._destroyed)if(this._checkEndRafId!==null&&(cancelAnimationFrame(this._checkEndRafId),this._checkEndRafId=null),typeof e=="number"&&this._springValue&&n){this._isAnimating=true,this._emit("animationStart"),this._springValue.set(e);let i=()=>{if(this._destroyed){this._checkEndRafId=null;return}this._springValue&&Math.abs(this._springValue.getVelocity())<.01?(this._isAnimating=false,this._checkEndRafId=null,this._emit("animationEnd")):this._isAnimating?this._checkEndRafId=requestAnimationFrame(i):this._checkEndRafId=null;};this._checkEndRafId=requestAnimationFrame(i);}else this._value=e,this._velocity=0,this._notify();}jump(e){this._destroyed||(this._value=e,this._velocity=0,typeof e=="number"&&this._springValue&&this._springValue.jump(e),this._isAnimating=false,this._notify());}stop(){this._checkEndRafId!==null&&(cancelAnimationFrame(this._checkEndRafId),this._checkEndRafId=null),this._springValue&&this._springValue.jump(this._springValue.get()),this._isAnimating=false,this._emit("animationEnd");}subscribe(e){return this._subscribers.add(e),e(this._value),()=>{this._subscribers.delete(e);}}on(e,n){return this._eventListeners.has(e)||this._eventListeners.set(e,new Set),this._eventListeners.get(e).add(n),()=>{this._eventListeners.get(e)?.delete(n);}}setConfig(e){this._springConfig={...this._springConfig,...e};}destroy(){this._destroyed=true,this._checkEndRafId!==null&&(cancelAnimationFrame(this._checkEndRafId),this._checkEndRafId=null),this._subscribers.clear(),this._eventListeners.clear(),this._springValue&&(this._springValue.destroy(),this._springValue=null);}_notify(){this._subscribers.forEach(e=>{try{e(this._value);}catch(n){console.error("MotionValue subscriber error:",n);}}),this._emit("change");}_emit(e){this._eventListeners.get(e)?.forEach(n=>{try{n();}catch(i){console.error(`MotionValue ${e} listener error:`,i);}});}};function xn(t,e){return new Q(t,e)}function et(t,e){let n=new Q(e(t.get())),i=t.subscribe(s=>{n.jump(e(s));}),r=n.destroy.bind(n);return n.destroy=()=>{i(),r();},n}function Sn(t,e,n,i={}){let[r,s]=e,[o,a]=n,l=s-r;return et(t,c=>{if(l===0)return o;let u=(c-r)/l;return i.clamp&&(u=Math.max(0,Math.min(1,u))),o+u*(a-o)})}function Cn(t,e={}){let{config:n={},autoPlay:i=false,onUpdate:r,onComplete:s}=e,o=t.getTotalLength?.()??0;t.style.strokeDasharray=String(o),t.style.strokeDashoffset=String(o);let a=0,l=false,c=F(0,n),u=c.subscribe(g=>{if(l)return;a=g;let m=o*(1-g);t.style.strokeDashoffset=String(m),r?.(g);}),f=()=>new Promise(g=>{let m=()=>{l||!c.isAnimating()?g():requestAnimationFrame(m);};setTimeout(m,16);}),p={play:async(g=1)=>{l||(c.set(g),await f(),s?.());},reverse:async()=>{l||(c.set(0),await f(),s?.());},set:(g,m=false)=>{if(!l)if(m)c.set(g);else {c.jump(g),a=g;let b=o*(1-g);t.style.strokeDashoffset=String(b);}},get:()=>a,pause:()=>{l||c.stop();},resume:()=>{l||c.set(a);},reset:()=>{l||(c.jump(0),a=0,t.style.strokeDashoffset=String(o));},isAnimating:()=>c.isAnimating(),destroy:()=>{l=true,u(),c.destroy();}};return i&&p.play(),p}function Pn(t){return t.getTotalLength?.()??0}function Tn(t,e=0){let n=t.getTotalLength?.()??0;t.style.strokeDasharray=String(n),t.style.strokeDashoffset=String(n*(1-e));}function wn(t,e){try{let n=t.getTotalLength();return t.getPointAtLength(n*Math.max(0,Math.min(1,e)))}catch{return null}}function J(t){let e=t.getBoundingClientRect();return {x:e.left+window.scrollX,y:e.top+window.scrollY,width:e.width,height:e.height}}function Ae(t,e,n,i={}){let{config:r={},position:s=true,size:o=true,onComplete:a,onUpdate:l}=i,c=e.x-n.x,u=e.y-n.y,f=e.width/n.width,p=e.height/n.height,g=0,m=false,b=false,d=F(0,r),v=t.style.transform,h=t.style.transformOrigin;o&&(t.style.transformOrigin="0 0");let y=S=>{g=S;let P=1-S,T=[];if(s&&T.push(`translate(${c*P}px, ${u*P}px)`),o&&(f!==1||p!==1)){let A=1+(f-1)*P,L=1+(p-1)*P;T.push(`scale(${A}, ${L})`);}t.style.transform=T.length>0?T.join(" "):"",l?.(S);};y(0);let x=()=>{t.style.transform=v,t.style.transformOrigin=h;};return {play:async()=>{if(!b)return m=true,new Promise(S=>{let P=d.subscribe(A=>{if(b){P(),S();return}y(A);});d.set(1);let T=()=>{if(b){P(),x(),S();return}d.isAnimating()?requestAnimationFrame(T):(m=false,P(),x(),a?.(),S());};setTimeout(T,16);})},getProgress:()=>g,cancel:()=>{b=true,m=false,d.stop(),x();},isAnimating:()=>m}}async function Mn(t,e,n={}){let i=J(t);await e(),t.offsetHeight;let r=J(t);await Ae(t,i,r,n).play();}async function En(t,e,n={}){let i=t.map(s=>J(s));await e(),document.body.offsetHeight;let r=t.map((s,o)=>{let a=J(s);return Ae(s,i[o],a,n)});await Promise.all(r.map(s=>s.play()));}export{te as AnimationState,Q as MotionValue,st as adjustBounce,ot as adjustSpeed,an as allTo,ke as animate,Gt as animateAll,yn as applyStagger,Pt as applyValuesToElement,Re as buildTransformString,ee as calculateDampingRatio,ct as calculatePeriod,$e as calculateStaggerDelays,Ke as centerStagger,I as clamp,bt as clearWarnings,lt as configFromBounce,at as configFromDuration,fn as createAutoLayout,qt as createDragSpring,rt as createFeeling,Ae as createFlip,Kt as createGestures,we as createLayoutGroup,Xe as createLongPressGesture,Ne as createMorph,ln as createMorphSequence,xn as createMotionValue,Tt as createOrchestration,tn as createParallax,Cn as createPathAnimation,_e as createPinchGesture,Oe as createRotateGesture,rn as createScrollLinkedValue,en as createScrollProgress,Wt as createScrollSpring,nn as createScrollTrigger,pn as createSharedLayoutContext,N as createSpringGroup,F as createSpringValue,Ye as createSwipeGesture,Te as createTimeline,$t as createTrail,Mt as createVariantPreset,bn as customStagger,It as decay,dt as degToRad,Qe as edgeStagger,Mn as flip,En as flipBatch,Pn as getPathLength,it as getPhysicsPreset,wn as getPointAtProgress,yt as getVariant,U as globalLoop,Me as gridStagger,je as hexToRgb,Ge as hslToRgb,Ut as interpolate,Bt as interpolateColor,St as isAnimatable,mt as isCriticallyDamped,Ft as isKeyframeArray,pt as isOverdamped,xt as isTransformProperty,ut as isUnderdamped,At as isVariant,Et as isVariants,kt as keyframes,B as lerp,oe as linearStagger,ft as mapRange,J as measureElement,vt as mergeVariants,Sn as motionMapRange,Lt as parallel,ie as parseColor,Dt as parseKeyframeArray,Ct as parseValueWithUnit,Ve as physicsPresets,Tn as preparePathForAnimation,gt as radToDeg,Je as randomStagger,Le as resolveVariant,gn as reverseStagger,Ce as rgbToHex,Qt as rgbToHsl,on as scrollEasings,Vt as sequence,cn as shapes,se as simulateSpring,Ee as spiralStagger,pe as spring,nt as springPresets,Rt as stagger,vn as staggerPresets,et as transformValue,sn as tween,ue as validateDecayConfig,ht as validateDragConfig,ce as validateSpringConfig,wt as variantPresets,hn as waveStagger};//# sourceMappingURL=springkit.mjs.map
//# sourceMappingURL=springkit.mjs.map