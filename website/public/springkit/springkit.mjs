var N={stiffness:100,damping:10,mass:1,velocity:0,restSpeed:.01,restDelta:.01,clamp:false},rt={default:{stiffness:100,damping:10},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20},slow:{stiffness:280,damping:60},molasses:{stiffness:280,damping:120},bounce:{stiffness:200,damping:8},noWobble:{stiffness:170,damping:26}},Le={button:{stiffness:400,damping:30,mass:1},toggle:{stiffness:500,damping:35,mass:.8},checkbox:{stiffness:600,damping:40,mass:.5},hover:{stiffness:300,damping:25,mass:.8},focus:{stiffness:200,damping:20,mass:1},pageTransition:{stiffness:100,damping:20,mass:1.5},modalEnter:{stiffness:300,damping:25,mass:1},modalExit:{stiffness:400,damping:35,mass:.8},sidebar:{stiffness:200,damping:28,mass:1.2},dropdown:{stiffness:400,damping:30,mass:.8},toast:{stiffness:350,damping:25,mass:.9},tooltip:{stiffness:500,damping:40,mass:.6},dragRelease:{stiffness:150,damping:20,mass:1},swipe:{stiffness:250,damping:22,mass:.9},pullToRefresh:{stiffness:180,damping:18,mass:1.2},snap:{stiffness:400,damping:35,mass:.8},rubberBand:{stiffness:300,damping:15,mass:.8},cardFlip:{stiffness:150,damping:18,mass:1.5},cardHover:{stiffness:400,damping:30,mass:.7},listItem:{stiffness:300,damping:28,mass:.9},accordion:{stiffness:200,damping:25,mass:1.1},skeleton:{stiffness:80,damping:15,mass:2},progress:{stiffness:150,damping:25,mass:1},spinner:{stiffness:100,damping:12,mass:1.5},pulse:{stiffness:120,damping:10,mass:1.2},shake:{stiffness:500,damping:15,mass:.6},bounceAttention:{stiffness:400,damping:10,mass:.7},pop:{stiffness:500,damping:20,mass:.6},wiggle:{stiffness:300,damping:8,mass:.8},ios:{stiffness:300,damping:20,mass:1},android:{stiffness:350,damping:25,mass:.9},haptic:{stiffness:600,damping:45,mass:.4},pendulum:{stiffness:50,damping:5,mass:2},jelly:{stiffness:150,damping:8,mass:1.5},elastic:{stiffness:200,damping:10,mass:1.2},heavy:{stiffness:150,damping:30,mass:3},light:{stiffness:400,damping:25,mass:.5},liquid:{stiffness:100,damping:20,mass:2}};function ot(t){return {...Le[t]}}function st(t){switch(t){case "snappy":return {stiffness:400,damping:30,mass:.8};case "smooth":return {stiffness:150,damping:25,mass:1.2};case "bouncy":return {stiffness:300,damping:12,mass:1};case "heavy":return {stiffness:100,damping:30,mass:2.5};case "light":return {stiffness:400,damping:25,mass:.5};case "elastic":return {stiffness:200,damping:10,mass:1.2};default:return {stiffness:100,damping:10,mass:1}}}function at(t,e){let n=(t.stiffness??100)*e,i=(t.damping??10)*Math.sqrt(e);return {...t,stiffness:n,damping:i}}function lt(t,e){let r=40-e*35;return {...t,damping:Math.max(5,Math.min(40,r))}}function ut(t){return t<300?{stiffness:170,damping:26}:t<500?{stiffness:100,damping:20}:{stiffness:80,damping:15}}function ct(t){return t<=0?{stiffness:170,damping:26}:t<=.25?{stiffness:200,damping:12}:{stiffness:200,damping:8}}function le(t,e,n,i){let{stiffness:r=100,damping:s=10,mass:o=1,restSpeed:a=.01,restDelta:l=.01}=i,u=n-t,c=Math.abs(u),d=Math.abs(e);if(c<=l&&d<=a)return {position:n,velocity:0,isRest:true};let p=1/60,h=r*u,m=d>1e-4?s*e:0,g=(h-m)/o,f=e+g*p,x=t+f*p,S=Math.abs(n-x)<=l&&Math.abs(f)<=a;return {position:x,velocity:f,isRest:S}}function mt(t,e){return 2*Math.PI*Math.sqrt(e/t)}function ie(t,e,n){return t/(2*Math.sqrt(e*n))}function pt(t){let{stiffness:e=100,damping:n=10,mass:i=1}=t;return ie(n,e,i)<1}function ft(t){let{stiffness:e=100,damping:n=10,mass:i=1}=t,r=ie(n,e,i);return Math.abs(r-1)<.001}function dt(t){let{stiffness:e=100,damping:n=10,mass:i=1}=t;return ie(n,e,i)>1}var re=(r=>(r.Idle="idle",r.Running="running",r.Paused="paused",r.Complete="complete",r))(re||{});var ue=class{constructor(){this.animations=new Set;this.animationMap=new WeakMap;this.rafId=null;this.isRunning=false;this.lastTime=0;this.nextId=1;this.idMap=new WeakMap;this.frameListeners=new Set;this.registry=new FinalizationRegistry(e=>{this.cleanupCallbacks.forEach(n=>n(e));});this.cleanupCallbacks=new Set;this.tick=()=>{let e=performance.now(),n=e-this.lastTime,i=Math.min(n,64);this.lastTime=e;for(let s of this.frameListeners)try{s(i);}catch(o){console.error("[SpringKit] Frame listener error:",o);}let r=[];for(let s of this.animations){let o=s.deref();if(!o){r.push(s);continue}o.update(e),o.isComplete()&&(r.push(s),this.animationMap.delete(o),this.idMap.delete(o));}for(let s=0;s<r.length;s++)this.animations.delete(r[s]);this.animations.size>0?this.rafId=requestAnimationFrame(this.tick):this.stop();};}add(e){let n=this.idMap.get(e);if(n!==void 0)return n;let i=this.nextId++,r=new WeakRef(e);return this.animations.add(r),this.animationMap.set(e,r),this.idMap.set(e,i),this.registry.register(e,i),this.start(),i}remove(e){let n=this.animationMap.get(e);n&&(this.animations.delete(n),this.animationMap.delete(e),this.idMap.delete(e)),this.animations.size===0&&this.stop();}onCleanup(e){return this.cleanupCallbacks.add(e),()=>this.cleanupCallbacks.delete(e)}onFrame(e){return this.frameListeners.add(e),()=>this.frameListeners.delete(e)}start(){this.isRunning||(this.isRunning=true,this.lastTime=performance.now(),this.tick());}stop(){this.isRunning=false,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null);}get size(){return this.animations.size}getAliveCount(){let e=0;for(let n of this.animations)n.deref()&&e++;return e}getFPS(){let e=performance.now()-this.lastTime;return e>0?Math.round(1e3/e):60}},z=new ue;function $(t,e,n){let i=Math.min(e,n),r=Math.max(e,n);return Math.max(i,Math.min(r,t))}function U(t,e,n){return t+(e-t)*n}function gt(t,e,n,i,r){let s=n-e;return s===0?i:(t-e)*(r-i)/s+i}function ht(t){return t*Math.PI/180}function bt(t){return t*180/Math.PI}var Q=typeof process<"u"&&process.env?.NODE_ENV!=="production",ce=new Set;function K(t){!Q||ce.has(t)||(ce.add(t),console.warn(`[SpringKit] ${t}`));}function me(t){if(!Q)return;let{stiffness:e=100,damping:n=10,mass:i=1}=t;e>400&&n<10&&K(`High stiffness (${e}) with low damping (${n}) may cause excessive oscillation. Consider increasing damping to at least ${Math.round(e/20)} for smoother animation.`),e<20&&K(`Very low stiffness (${e}) will result in sluggish animation. Consider using stiffness >= 50 for more responsive feel.`),n>e&&K(`Damping (${n}) is higher than stiffness (${e}), which removes the "springy" feel. Consider reducing damping for bouncier animation.`),i<=0&&K(`Mass must be positive. Got ${i}. Using default mass of 1.`),i>10&&K(`High mass (${i}) will make the animation very slow. Consider mass between 0.5 and 5 for typical use cases.`);}function yt(t){if(!Q)return;let{rubberBandFactor:e,bounds:n}=t;e!==void 0&&(e<0||e>1)&&K(`rubberBandFactor should be between 0 and 1. Got ${e}. Values outside this range may cause unexpected behavior.`),n&&(n.left!==void 0&&n.right!==void 0&&n.left>n.right&&K(`Drag bounds are inverted: left (${n.left}) > right (${n.right}). This may cause unexpected behavior.`),n.top!==void 0&&n.bottom!==void 0&&n.top>n.bottom&&K(`Drag bounds are inverted: top (${n.top}) > bottom (${n.bottom}). This may cause unexpected behavior.`));}function pe(t){if(!Q)return;let{velocity:e,deceleration:n=.998}=t;e===0&&K("Decay animation started with zero velocity. The animation will complete immediately."),(n<=0||n>=1)&&K(`Deceleration should be between 0 and 1 (exclusive). Got ${n}. Typical values are 0.99-0.999.`);}function B(t,e){if(typeof t!="number"||Number.isNaN(t)){let n=`Invalid animation value in ${e}: expected number, got ${t}`;return Q&&console.error(`[SpringKit] ${n}`),0}if(!Number.isFinite(t)){let n=`Invalid animation value in ${e}: Infinity is not supported`;return Q&&console.error(`[SpringKit] ${n}`),0}return t}function vt(){ce.clear();}var fe=class{constructor(e,n,i={}){this.state="idle";this.resolveComplete=null;me(i),this.from=B(e,"spring.from"),this.to=B(n,"spring.to"),this.clampedFrom=this.from,this.clampedTo=this.to,this.position=this.from,this.velocity=i.velocity??0,this.target=this.to,this.config={...N,...i,stiffness:i.stiffness??N.stiffness,damping:i.damping??N.damping,mass:i.mass??N.mass,restSpeed:i.restSpeed??N.restSpeed,restDelta:i.restDelta??N.restDelta},this.finished=new Promise(r=>{this.resolveComplete=r;});}start(){return this.state==="running"?this:(this.state="running",this.config.onStart?.(),z.add(this),this)}stop(){this.state="idle",z.remove(this);}pause(){this.state==="running"&&(this.state="paused",z.remove(this));}resume(){this.state==="paused"&&(this.state="running",z.add(this));}reverse(){let e=this.from;this.from=this.to,this.to=e,this.clampedFrom=this.from,this.clampedTo=this.to,this.target=this.to,this.state==="running"&&(this.velocity=-this.velocity);}set(e){let n=B(e,"spring.set");this.to=n,this.clampedTo=n,this.target=n;}setWithVelocity(e,n){let i=B(e,"spring.setWithVelocity");this.from=this.position,this.clampedFrom=this.position,this.to=i,this.clampedTo=i,this.target=i,n!==void 0&&(this.velocity=B(n,"spring.setWithVelocity.velocity")),this.state!=="running"&&this.start();}update(e){if(this.state!=="running")return;let n=le(this.position,this.velocity,this.target,this.config);if(this.position=n.position,this.velocity=n.velocity,this.config.clamp){let i=Math.min(this.clampedFrom,this.clampedTo),r=Math.max(this.clampedFrom,this.clampedTo);this.position=$(this.position,i,r);}this.config.onUpdate?.(this.position),n.isRest&&(this.state="complete",z.remove(this),this.position=this.target,this.config.onUpdate?.(this.position),this.config.onComplete?.(),this.config.onRest?.(),this.resolveComplete?.());}isAnimating(){return this.state==="running"}isPaused(){return this.state==="paused"}isComplete(){return this.state==="complete"}getValue(){return this.position}getVelocity(){return this.velocity}destroy(){this.stop(),this.resolveComplete?.(),this.resolveComplete=null,this.config.onUpdate=void 0,this.config.onStart=void 0,this.config.onComplete=void 0,this.config.onRest=void 0;}};function de(t,e,n){return new fe(t,e,n)}var ge=class{constructor(e,n={}){this.currentAnimation=null;this.subscribers=new Set;this.resolveComplete=null;this.destroyed=false;this.value=B(e,"createSpringValue.initial"),this.config={...N,...n},this.finishedPromise=new Promise(i=>{this.resolveComplete=i;});}get(){return this.value}getVelocity(){return this.currentAnimation?.getVelocity()??0}set(e,n={}){if(this.destroyed)return;let i=B(e,"SpringValue.set");this.currentAnimation&&(this.currentAnimation.destroy(),this.currentAnimation=null);let r=null;this.finishedPromise=new Promise(l=>{r=l,this.resolveComplete=l;});let s={...this.config,...n},o=s.onUpdate,a=s.onComplete;this.currentAnimation=de(this.value,i,{...s,onUpdate:l=>{this.destroyed||(this.value=l,this.notify(),o?.(l));},onComplete:()=>{a?.(),r?.();}}),this.currentAnimation.start();}jump(e){if(this.destroyed)return;let n=B(e,"SpringValue.jump");this.currentAnimation&&(this.currentAnimation.destroy(),this.currentAnimation=null),this.value=n,this.notify();}stop(){this.currentAnimation&&(this.currentAnimation.destroy(),this.currentAnimation=null),this.resolveComplete&&this.resolveComplete();}setConfig(e){this.config={...this.config,...e};}subscribe(e){this.subscribers.add(e);try{e(this.value);}catch(n){console.error("[SpringKit] Subscriber error:",n);}return ()=>{this.subscribers.delete(e);}}isAnimating(){return this.currentAnimation?.isAnimating()??false}get finished(){return this.finishedPromise}notify(){for(let e of this.subscribers)try{e(this.value);}catch(n){console.error("[SpringKit] Subscriber error:",n);}}isDestroyed(){return this.destroyed}destroy(){this.destroyed||(this.destroyed=true,this.currentAnimation?.destroy(),this.currentAnimation=null,this.resolveComplete?.(),this.resolveComplete=null,this.subscribers.clear());}};function _(t,e){return new ge(t,e)}var he=class{constructor(e,n={}){this.subscribers=new Set;this.resolveComplete=null;this.notifyRafId=null;this.destroyed=false;this.config={...N,...n},this.values=new Map;for(let[i,r]of Object.entries(e)){let s=_(r,this.config);s.subscribe(()=>this.scheduleNotify()),this.values.set(i,s);}this.finishedPromise=Promise.resolve(),this.resetPromise();}resetPromise(){this.finishedPromise=new Promise(e=>{this.resolveComplete=e;});}get(){let e={};for(let[n,i]of this.values)e[n]=i.get();return e}getValue(e){return this.values.get(e)?.get()??0}set(e,n={}){if(this.destroyed)return;this.resetPromise();let i=[];for(let[r,s]of Object.entries(e)){let o=this.values.get(r);o&&typeof s=="number"&&(o.set(s,n),i.push(o.finished));}Promise.all(i).then(()=>{this.resolveComplete&&!this.destroyed&&this.resolveComplete();});}jump(e){if(!this.destroyed)for(let[n,i]of Object.entries(e)){let r=this.values.get(n);r&&typeof i=="number"&&r.jump(i);}}stop(){for(let e of this.values.values())e.stop();this.resolveComplete?.();}subscribe(e){this.subscribers.add(e);try{e(this.get());}catch(n){console.error("[SpringKit] SpringGroup subscriber error:",n);}return ()=>this.subscribers.delete(e)}isAnimating(){for(let e of this.values.values())if(e.isAnimating())return  true;return  false}get finished(){return this.finishedPromise}scheduleNotify(){this.destroyed||this.notifyRafId!==null||(this.notifyRafId=requestAnimationFrame(()=>{this.notifyRafId=null,this.destroyed||this.notify();}));}notify(){let e=this.get();for(let n of this.subscribers)try{n(e);}catch(i){console.error("[SpringKit] SpringGroup subscriber error:",i);}}destroy(){this.destroyed=true,this.notifyRafId!==null&&(cancelAnimationFrame(this.notifyRafId),this.notifyRafId=null);for(let e of this.values.values())e.destroy();this.resolveComplete?.(),this.resolveComplete=null,this.subscribers.clear();}};function W(t,e){return new he(t,e)}function Ie(t,e){if(!t)return {values:{},transition:{}};let n=typeof t=="function"?t(e):t,{transition:i={},...r}=n;return {values:r,transition:i}}function xt(t,e,n){return !t||!e?{values:{},transition:{}}:Ie(t[e],n)}function St(...t){let e={};for(let n of t)n&&(Object.assign(e,n),n.transition&&(e.transition={...e.transition,...n.transition}));return e}function Tt(t){return ["x","y","z","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY","perspective","transformOrigin"].includes(t)}function Ct(t){return typeof t=="number"||typeof t=="string"}function Pt(t){if(typeof t=="number")return {value:t,unit:""};let e=t.match(/^(-?[\d.]+)(.*)$/);return e&&e[1]?{value:parseFloat(e[1]),unit:e[2]||""}:{value:0,unit:""}}function $e(t){let e=[];if(t.x!==void 0||t.y!==void 0){let n=t.x??0,i=t.y??0;e.push(`translate(${n}px, ${i}px)`);}return t.scale!==void 0?e.push(`scale(${t.scale})`):(t.scaleX!==void 0&&e.push(`scaleX(${t.scaleX})`),t.scaleY!==void 0&&e.push(`scaleY(${t.scaleY})`)),t.rotate!==void 0&&e.push(`rotate(${t.rotate}deg)`),t.rotateX!==void 0&&e.push(`rotateX(${t.rotateX}deg)`),t.rotateY!==void 0&&e.push(`rotateY(${t.rotateY}deg)`),t.rotateZ!==void 0&&e.push(`rotateZ(${t.rotateZ}deg)`),t.skewX!==void 0&&e.push(`skewX(${t.skewX}deg)`),t.skewY!==void 0&&e.push(`skewY(${t.skewY}deg)`),e.join(" ")}function wt(t,e){let n=$e(e);n&&(t.style.transform=n),e.opacity!==void 0&&(t.style.opacity=String(e.opacity)),e.backgroundColor!==void 0&&(t.style.backgroundColor=e.backgroundColor),e.borderRadius!==void 0&&(t.style.borderRadius=typeof e.borderRadius=="number"?`${e.borderRadius}px`:e.borderRadius),e.borderColor!==void 0&&(t.style.borderColor=e.borderColor),e.boxShadow!==void 0&&(t.style.boxShadow=e.boxShadow),e.color!==void 0&&(t.style.color=e.color),e.width!==void 0&&(t.style.width=typeof e.width=="number"?`${e.width}px`:e.width),e.height!==void 0&&(t.style.height=typeof e.height=="number"?`${e.height}px`:e.height);}function ke(t,e){let{staggerChildren:n=0,staggerDirection:i=1,delayChildren:r=0}=e,s=[];for(let o=0;o<t;o++){let a=i===-1?t-1-o:o;s.push(r+a*n);}return s}function Mt(t,e,n={}){let{when:i=false,delay:r=0}=n,s=ke(e.length,n),o=async()=>{r>0&&await new Promise(u=>setTimeout(u,r)),await t();},a=async()=>{await Promise.all(e.map((u,c)=>new Promise(d=>{setTimeout(async()=>{await u(),d();},s[c]);})));};return {parent:o,children:a,execute:async()=>{switch(i){case "beforeChildren":await o(),await a();break;case "afterChildren":await a(),await o();break;default:await Promise.all([o(),a()]);}}}}var Et={fadeIn:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},fadeInUp:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},fadeInDown:{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20}},fadeInLeft:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},fadeInRight:{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20}},scaleIn:{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8}},popIn:{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{spring:{stiffness:400,damping:15}}},exit:{opacity:0,scale:.5}},slideUp:{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0}},slideDown:{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0}},slideLeft:{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0}},slideRight:{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0}},staggerContainer:{initial:{},animate:{transition:{staggerChildren:.1,delayChildren:.1}},exit:{transition:{staggerChildren:.05,staggerDirection:-1}}},staggerItem:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}}};function At(t,e,n){return {initial:t,animate:e,exit:n||t}}function Rt(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&Object.values(t).every(e=>typeof e=="object"||typeof e=="function")}function Vt(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}async function Lt(t){for(let e of t)await e().finished;}async function It(t){let e=t.map(n=>n().finished);await Promise.all(e);}async function $t(t,e,n={}){let{delay:i=0,from:r="first"}=n,s=0;r==="last"?s=t.length-1:r==="center"?s=Math.floor(t.length/2):typeof r=="number"&&(s=r);let o=[],a=new Set;o.push(s),a.add(s);for(let d=1;d<t.length;d++){let p=s-d,h=s+d;h<t.length&&!a.has(h)&&(o.push(h),a.add(h)),p>=0&&!a.has(p)&&(o.push(p),a.add(p));}let l=typeof i=="function"?i:d=>i,u=[],c=[];for(let d=0;d<o.length;d++){let p=o[d],h=e(t[p],p);u.push(h);let m=l(d);if(m>0){let g=setTimeout(()=>{h.start();},m);c.push(g);}else h.start();}try{await Promise.all(u.map(d=>d.finished));}finally{c.forEach(clearTimeout);}}var be=class{constructor(e,n={}){this.subscribers=new Set;this.frameCount=0;this.pendingUpdates=new Map;this.pendingTimeouts=new Set;this.destroyed=false;let{followDelay:i=2,...r}=n;this.followDelay=i,this.leader=_(0,r),this.springs=[];for(let s=0;s<e;s++){let o=_(0,r);this.springs.push(o);}this.leader.subscribe(()=>{this.frameCount++,this.scheduleFollowerUpdates();});}scheduleFollowerUpdates(){let e=this.leader.get();for(let n=0;n<this.springs.length;n++){let i=(n+1)*this.followDelay,r=this.frameCount+i;this.pendingUpdates.set(n,r),this.scheduleFollowerUpdate(n,e,r,i);}}scheduleFollowerUpdate(e,n,i,r){let s=this.frameCount,o=i-s;if(o<=0)this.springs[e].set(n);else {let a=Math.max(o*16,0),l=setTimeout(()=>{if(this.pendingTimeouts.delete(l),this.destroyed)return;this.pendingUpdates.get(e)===i&&this.springs[e].set(n);},a);this.pendingTimeouts.add(l);}}set(e){this.leader.set(e);}jump(e){this.leader.jump(e);for(let n of this.springs)n.jump(e);}getValues(){return this.springs.map(e=>e.get())}subscribe(e){this.subscribers.add(e);let n=[];for(let i of this.springs)n.push(i.subscribe(()=>{this.notify();}));return e(this.getValues()),()=>{this.subscribers.delete(e);for(let i of n)i();}}notify(){let e=this.getValues();for(let n of this.subscribers)n(e);}destroy(){this.destroyed=true;for(let e of this.pendingTimeouts)clearTimeout(e);this.pendingTimeouts.clear(),this.leader.destroy();for(let e of this.springs)e.destroy();this.subscribers.clear(),this.pendingUpdates.clear();}};function kt(t,e){return new be(t,e)}var ye=class{constructor(e){this.state="idle";this.rafId=null;this.resolveComplete=null;pe(e),this.value=0,this.velocity=B(e.velocity,"decay.velocity");let n=e.deceleration??.998;this.deceleration=B(n,"decay.deceleration"),(this.deceleration<=0||this.deceleration>=1)&&(this.deceleration=.998),this.clampRange=e.clamp,this.state="idle",this.config=e,this.finished=new Promise(i=>{this.resolveComplete=i;});}start(){return this.state==="running"?this:(this.state="running",z.add(this),this)}stop(){this.state="idle",z.remove(this);}update(e){if(this.state==="running"){if(this.velocity*=this.deceleration,this.value+=this.velocity,this.clampRange){let[n,i]=this.clampRange;this.value=$(this.value,n,i),(this.value<=n&&this.velocity<0||this.value>=i&&this.velocity>0)&&(this.velocity=0);}this.config.onUpdate?.(this.value),Math.abs(this.velocity)<.01&&(this.state="complete",z.remove(this),this.config.onComplete?.(),this.resolveComplete?.());}}isComplete(){return this.state==="complete"}destroy(){this.stop(),this.resolveComplete?.(),this.resolveComplete=null,this.config.onUpdate=void 0,this.config.onComplete=void 0;}};function Dt(t){return new ye(t)}function Ft(t,e={}){let{config:n={},times:i,onKeyframe:r,onComplete:s,onUpdate:o}=e,a=t.map((b,y)=>typeof b=="number"?{value:b,at:i?.[y]}:{...b,at:b.at??i?.[y]}),l=a.length;a.forEach((b,y)=>{b.at===void 0&&(b.at=l>1?y/(l-1):0);}),a.sort((b,y)=>(b.at??0)-(y.at??0));let u=0,c=false,d=false,p=null,h=a[0]?.value??0,m=false,g=null,f=null,x=()=>{p&&p.destroy();let y=a[u]?.config??n;p=_(h,y),p.subscribe(T=>{h=T,o?.(T);});},v=async()=>{if(m||d||u>=a.length-1)return  false;u++;let b=a[u];return b?(b.config&&x(),r?.(u),p&&(p.set(b.value),await new Promise(y=>{let T=()=>{if(g=null,m||d){y();return}p&&!p.isAnimating()?y():g=requestAnimationFrame(T);};f=setTimeout(()=>{f=null,m?y():T();},16);})),true):false};return {play:async()=>{if(!m&&!c){for(c=true,d=false,u>=a.length-1&&(u=0,h=a[0]?.value??0),x(),r?.(0);await v(););!d&&!m&&(c=false,s?.());}},pause:()=>{d=true,c=false,p&&p.stop();},resume:()=>{if(!d||m)return;d=false,c=true,(async()=>{for(;await v(););!d&&!m&&(c=false,s?.());})();},stop:()=>{d=false,c=false,u=0,h=a[0]?.value??0,p&&p.jump(h);},get:()=>h,getCurrentKeyframe:()=>u,isPlaying:()=>c,jumpTo:b=>{if(b<0||b>=a.length)return;u=b;let y=a[b]?.value??0;h=y,p&&p.jump(y),o?.(y),r?.(b);},destroy:()=>{m=true,c=false,d=false,g!==null&&(cancelAnimationFrame(g),g=null),f!==null&&(clearTimeout(f),f=null),p&&(p.destroy(),p=null);}}}function _t(t,e){return t.map((n,i)=>({value:n,at:e?.[i]}))}function Yt(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}var De=new Set(["x","y","z","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"]),Ot=new Set(["x","y","z","width","height","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","borderWidth","borderRadius","fontSize","letterSpacing","lineHeight"]);function Xt(t){let e=[],n=t.get("x"),i=t.get("y"),r=t.get("z");(n!==void 0||i!==void 0||r!==void 0)&&e.push(`translate3d(${n??0}px, ${i??0}px, ${r??0}px)`);let s=t.get("scale"),o=t.get("scaleX"),a=t.get("scaleY");s!==void 0?e.push(`scale(${s})`):(o!==void 0||a!==void 0)&&e.push(`scale(${o??1}, ${a??1})`);let l=t.get("rotate")??t.get("rotateZ"),u=t.get("rotateX"),c=t.get("rotateY");u!==void 0&&e.push(`rotateX(${u}deg)`),c!==void 0&&e.push(`rotateY(${c}deg)`),l!==void 0&&e.push(`rotate(${l}deg)`);let d=t.get("skewX"),p=t.get("skewY");return (d!==void 0||p!==void 0)&&e.push(`skew(${d??0}deg, ${p??0}deg)`),e.join(" ")}function jt(t,e){let n=t,i=new Map,r={};e.forEach((s,o)=>{De.has(o)?i.set(o,s):o==="opacity"?r.opacity=String(s):Ot.has(o)?r[o]=`${s}px`:r[o]=String(s);}),i.size>0&&(n.style.transform=Xt(i)),Object.entries(r).forEach(([s,o])=>{n.style.setProperty(s,o);});}function Gt(t,e){let i=getComputedStyle(t);if(e==="opacity")return parseFloat(i.opacity)||1;if(De.has(e))return i.transform==="none",e==="scale"||e==="scaleX"||e==="scaleY"?1:0;let r=i.getPropertyValue(e);return parseFloat(r)||0}function Fe(t,e,n={}){let{delay:i=0,onUpdate:r,onComplete:s,...o}=n,a=typeof t=="string"?document.querySelector(t):t;if(!a)return console.warn("animate: Element not found"),Ht();let l=new Map,u=new Map,c=true,d=false,p,h=new Set,m=new Set,g=null,f=new Promise((b,y)=>{p=b;}),v=()=>{let b=Object.entries(e),y=0,T=b.length;b.forEach(([A,P])=>{let R=Array.isArray(P)?P:[P],w=Gt(a,A),V=_(w,{stiffness:o.stiffness??100,damping:o.damping??10,mass:o.mass??1});l.set(A,V),u.set(A,w),V.subscribe(Y=>{if(!(!c||d)&&(u.set(A,Y),jt(a,u),r)){let G={};u.forEach((H,k)=>{G[k]=H;}),r(G);}}),(async()=>{for(let Y of R){if(!c)break;let G=typeof Y=="string"?parseFloat(Y)||0:Y;await new Promise(H=>{V.set(G);let k=()=>{if(!c||!V.isAnimating())H();else if(d){let L=setTimeout(()=>{m.delete(L),k();},100);m.add(L);}else {let L=requestAnimationFrame(k);h.add(L);}},C=requestAnimationFrame(k);h.add(C);});}if(y++,y===T&&c){c=false;try{s?.();}catch{}p();}})();});};i>0?g=setTimeout(v,i):v();let S=()=>{h.forEach(b=>{cancelAnimationFrame(b);}),h.clear(),m.forEach(b=>{clearTimeout(b);}),m.clear(),g!==null&&(clearTimeout(g),g=null);};return {stop:()=>{c=false,S(),l.forEach(b=>b.stop()),p();},pause:()=>{d=true;},resume:()=>{d=false;},getProgress:()=>{let b=0,y=0;return l.forEach(T=>{b+=T.isAnimating()?.5:1,y++;}),y>0?b/y:1},isAnimating:()=>c&&!d,finished:f}}function Ht(){return {stop:()=>{},pause:()=>{},resume:()=>{},getProgress:()=>1,isAnimating:()=>false,finished:Promise.resolve()}}function Ut(t,e,n={}){let{stagger:i=0,...r}=n,s=document.querySelectorAll(t);return Array.from(s).map((o,a)=>Fe(o,e,{...r,delay:(r.delay??0)+i*a}))}var Bt={clamp:false},ve=class{constructor(e,n,i,r={}){this.source=e,this.input=n,this.output=i,this.options={...Bt,...r};}get(){let e=typeof this.source=="function"?this.source():this.source.get();return Number.isFinite(e)?this.interpolate(e):this.output[0]??0}interpolate(e){let{input:n,output:i}=this,{extrapolate:r,extrapolateLeft:s,extrapolateRight:o,clamp:a}=this.options;if(n.length===1)return i[0];if(e<n[0]){let p=this.getExtrapolationMode(s,r);if(p==="clamp")e=n[0];else if(p==="identity")return e}else if(e>n[n.length-1]){let p=this.getExtrapolationMode(o,r);if(p==="clamp")e=n[n.length-1];else if(p==="identity")return e}let l=1;for(;l<n.length-1&&e>n[l];)l++;let u=n[l]-n[l-1],c=u===0?0:(e-n[l-1])/u,d=i[l-1]+c*(i[l]-i[l-1]);if(a){let p=Math.min(...i),h=Math.max(...i);return Math.max(p,Math.min(h,d))}return d}getExtrapolationMode(e,n){return e!==void 0?e:n!==void 0?n:"extend"}};function Nt(t,e,n,i){return new ve(t,e,n,i)}var xe=class{constructor(e,n,i,r={}){this.source=e,this.input=n,this.colors=i.map(s=>this.parseColor(s)),this.options=r;}get(){let e=typeof this.source=="function"?this.source():this.source.get(),{extrapolate:n,extrapolateLeft:i,extrapolateRight:r}=this.options;if(this.input.length===1){let[c,d,p]=this.colors[0];return `rgb(${c}, ${d}, ${p})`}if(e<this.input[0]){let c=i??n??"extend";c==="clamp"?e=this.input[0]:c==="identity"&&(e=this.input[0]);}else if(e>this.input[this.input.length-1]){let c=r??n??"extend";c==="clamp"?e=this.input[this.input.length-1]:c==="identity"&&(e=this.input[this.input.length-1]);}let s=1;for(;s<this.input.length-1&&e>this.input[s];)s++;let o=(e-this.input[s-1])/(this.input[s]-this.input[s-1]),a=this.lerp(this.colors[s-1][0],this.colors[s][0],o),l=this.lerp(this.colors[s-1][1],this.colors[s][1],o),u=this.lerp(this.colors[s-1][2],this.colors[s][2],o);return `rgb(${Math.round(a)}, ${Math.round(l)}, ${Math.round(u)})`}parseColor(e){let n=e.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);if(n){let o=n[1];return o.length===3?[parseInt(o.charAt(0)+o.charAt(0),16),parseInt(o.charAt(1)+o.charAt(1),16),parseInt(o.charAt(2)+o.charAt(2),16)]:[parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16)]}let i=e.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/i);if(i)return [parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)];let r=e.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*[\d.]+\)/i);if(r)return [parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10)];let s=e.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/i);return s?this.hslToRgb(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10)):[0,0,0]}hslToRgb(e,n,i){if(e=(e%360+360)%360,n=Math.max(0,Math.min(100,n))/100,i=Math.max(0,Math.min(100,i))/100,n===0){let a=Math.round(i*255);return [a,a,a]}let r=(a,l,u)=>(u<0&&(u+=1),u>1&&(u-=1),u<1/6?a+(l-a)*6*u:u<1/2?l:u<2/3?a+(l-a)*(2/3-u)*6:a),s=i<.5?i*(1+n):i+n-i*n,o=2*i-s;return [Math.round(r(o,s,e/360+1/3)*255),Math.round(r(o,s,e/360)*255),Math.round(r(o,s,e/360-1/3)*255)]}lerp(e,n,i){return e+(n-e)*i}};function zt(t,e,n,i){return new xe(t,e,n,i)}var qt={axis:"both",rubberBand:false,rubberBandFactor:.5,elasticBounce:.3,momentum:true,momentumDecay:.95,stiffness:200,damping:20,mass:1,restSpeed:.01,restDelta:.01,clamp:false},Se=class{constructor(e,n={}){this.enabled=true;this.position={x:0,y:0};this._isDragging=false;this.startPosition={x:0,y:0};this.pointerStart={x:0,y:0};this.lastPosition={x:0,y:0};this.lastTime=0;this.velocity={x:0,y:0};this.currentSnap=null;this.snapTimeoutId=null;this.destroyed=false;this.onPointerDown=e=>{!this.enabled||e.button!==0||(this._isDragging=true,this.startPosition={...this.position},this.pointerStart={x:e.clientX,y:e.clientY},this.lastPosition={x:e.clientX,y:e.clientY},this.lastTime=performance.now(),this.velocity={x:0,y:0},this.element.setPointerCapture(e.pointerId),this.element.addEventListener("pointermove",this.onPointerMove),this.element.addEventListener("pointerup",this.onPointerUp),this.element.addEventListener("pointercancel",this.onPointerUp),this.config.onDragStart&&this.config.onDragStart(e));};this.onPointerMove=e=>{let n=performance.now(),i=n-this.lastTime,r=Math.max(i,16),s={x:(e.clientX-this.lastPosition.x)/r,y:(e.clientY-this.lastPosition.y)/r},o=.2;this.velocity={x:this.velocity.x*(1-o)+s.x*o,y:this.velocity.y*(1-o)+s.y*o},this.lastPosition={x:e.clientX,y:e.clientY},this.lastTime=n;let a=this.startPosition.x+(e.clientX-this.pointerStart.x),l=this.startPosition.y+(e.clientY-this.pointerStart.y);this.config.bounds&&(a=this.applyBounds(a,this.config.bounds.left??-1/0,this.config.bounds.right??1/0,"x"),l=this.applyBounds(l,this.config.bounds.top??-1/0,this.config.bounds.bottom??1/0,"y")),this.config.axis==="x"?l=0:this.config.axis==="y"&&(a=0),this.position={x:a,y:l},this.config.onDrag&&this.config.onDrag(a,l,e),this.config.onUpdate&&this.config.onUpdate(a,l);};this.onPointerUp=e=>{if(this._isDragging=false,this.element&&document.contains(this.element)){try{this.element.releasePointerCapture(e.pointerId);}catch{}this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerup",this.onPointerUp),this.element.removeEventListener("pointercancel",this.onPointerUp);}if(this.config.snap?.snapOnRelease!==false){let n=this.findNearestSnapPoint();if(n){this.snapTo(n),this.config.onDragEnd&&this.config.onDragEnd(this.position.x,this.position.y,this.velocity);return}}this.release(this.velocity.x*16,this.velocity.y*16),this.config.onDragEnd&&this.config.onDragEnd(this.position.x,this.position.y,this.velocity);};this.element=e,this.config={...qt,...n};let i={stiffness:this.config.stiffness,damping:this.config.damping,mass:this.config.mass,restSpeed:this.config.restSpeed,restDelta:this.config.restDelta,clamp:this.config.clamp};this.springX=_(0,i),this.springY=_(0,i),this.springX.subscribe(()=>{this._isDragging||(this.position.x=this.springX.get(),this.config.onUpdate&&this.config.onUpdate(this.position.x,this.position.y));}),this.springY.subscribe(()=>{this._isDragging||(this.position.y=this.springY.get(),this.config.onUpdate&&this.config.onUpdate(this.position.x,this.position.y));}),this.setupPointerEvents();}setupPointerEvents(){this.element.addEventListener("pointerdown",this.onPointerDown);}getElasticFactor(e){let n=this.config.dragElastic;return n===void 0?this.config.rubberBand?this.config.rubberBandFactor??.5:0:typeof n=="boolean"?n?.5:0:typeof n=="number"?$(n,0,1):$(n[e]??.5,0,1)}applyBounds(e,n,i,r="x"){if(!isFinite(n)&&!isFinite(i))return e;let s=isFinite(n)?n:-1/0,o=isFinite(i)?i:1/0;if(this.config.dragElastic!==void 0||this.config.rubberBand){if(e<s){let l=this.getElasticFactor(r==="x"?"left":"top");return s-(s-e)*l}if(e>o){let l=this.getElasticFactor(r==="x"?"right":"bottom");return o+(e-o)*l}}return $(e,s,o)}findNearestSnapPoint(){let e=this.config.snap;if(!e)return null;if(e.grid){let n=Math.round(this.position.x/e.grid.x)*e.grid.x,i=Math.round(this.position.y/e.grid.y)*e.grid.y;return {x:n,y:i}}if(e.points&&e.points.length>0){let n=Math.sqrt(this.velocity.x**2+this.velocity.y**2),i=e.velocityThreshold??.5;if(n>i)return null;let r=null,s=1/0;for(let o of e.points){let a=this.position.x-o.x,l=this.position.y-o.y,u=Math.sqrt(a*a+l*l),c=o.radius??50;u<c&&u<s&&(s=u,r=o);}return r}return null}getEffectiveBounds(){let e={left:this.config.bounds?.left??this.config.constraints?.bounds?.left??-1/0,right:this.config.bounds?.right??this.config.constraints?.bounds?.right??1/0,top:this.config.bounds?.top??this.config.constraints?.bounds?.top??-1/0,bottom:this.config.bounds?.bottom??this.config.constraints?.bounds?.bottom??1/0},n=this.config.constraints;if(n?.constrainToParent&&this.element.parentElement){let r=this.element.parentElement.getBoundingClientRect(),s=this.element.getBoundingClientRect(),o=this.normalizePadding(n.constraintPadding);e.left=Math.max(e.left,o.left),e.right=Math.min(e.right,r.width-s.width-o.right),e.top=Math.max(e.top,o.top),e.bottom=Math.min(e.bottom,r.height-s.height-o.bottom);}if(n?.constrainToElement){let i=n.constrainToElement.getBoundingClientRect(),r=this.element.getBoundingClientRect(),s=this.element.parentElement?.getBoundingClientRect()??{left:0,top:0},o=this.normalizePadding(n.constraintPadding),a=i.left-s.left,l=i.top-s.top;e.left=Math.max(e.left,a+o.left),e.right=Math.min(e.right,a+i.width-r.width-o.right),e.top=Math.max(e.top,l+o.top),e.bottom=Math.min(e.bottom,l+i.height-r.height-o.bottom);}return e}normalizePadding(e){return typeof e=="number"?{top:e,right:e,bottom:e,left:e}:{top:e?.top??0,right:e?.right??0,bottom:e?.bottom??0,left:e?.left??0}}enable(){this.enabled=true;}disable(){this.enabled=false,this._isDragging&&(this._isDragging=false);}isEnabled(){return this.enabled}isDragging(){return this._isDragging}reset(){this.springX.jump(0),this.springY.jump(0),this.position={x:0,y:0},this.velocity={x:0,y:0},this.currentSnap=null,this.config.onUpdate&&this.config.onUpdate(0,0);}getPosition(){return {...this.position}}getVelocity(){return {...this.velocity}}setPosition(e,n){if(this.destroyed)return;let i=Number.isFinite(e)?e:this.position.x,r=Number.isFinite(n)?n:this.position.y;this.position={x:i,y:r},this.springX.jump(i),this.springY.jump(r);}jumpTo(e,n){if(this.destroyed)return;let i=Number.isFinite(e)?e:this.position.x,r=Number.isFinite(n)?n:this.position.y;this.position={x:i,y:r},this.springX.jump(i),this.springY.jump(r),this.config.onUpdate&&this.config.onUpdate(i,r);}animateTo(e,n){if(this.destroyed)return;let i=Number.isFinite(e)?e:this.position.x,r=Number.isFinite(n)?n:this.position.y;this.springX.set(i),this.springY.set(r);}release(e,n){let i=this.getEffectiveBounds(),{left:r,right:s,top:o,bottom:a}=i,l=this.position.x,u=this.position.y;if(this.config.momentum){let c=this.config.momentumDecay??.95,d=Math.max(0,Math.min(.99,c)),p=d<1?1/(1-d):100,h=e*p*.1,m=n*p*.1;l+=h,u+=m;}if(this.config.modifyTarget){let c=this.config.modifyTarget({x:l,y:u});l=c.x,u=c.y;}l=$(l,r,s),u=$(u,o,a),this.config.onBoundsHit&&(this.position.x<r&&this.config.onBoundsHit("left"),this.position.x>s&&this.config.onBoundsHit("right"),this.position.y<o&&this.config.onBoundsHit("top"),this.position.y>a&&this.config.onBoundsHit("bottom")),(l!==this.position.x||this.position.x<r||this.position.x>s)&&this.springX.set(l,{velocity:e}),(u!==this.position.y||this.position.y<o||this.position.y>a)&&this.springY.set(u,{velocity:n});}snapToNearest(){let e=this.findNearestSnapPoint();e&&this.snapTo(e);}snapTo(e){this.currentSnap=e,this.config.onSnapStart&&this.config.onSnapStart(e),this.springX.set(e.x),this.springY.set(e.y),this.snapTimeoutId!==null&&clearTimeout(this.snapTimeoutId),this.snapTimeoutId=setTimeout(()=>{this.snapTimeoutId=null,!this.destroyed&&this.currentSnap===e&&this.config.onSnapComplete&&this.config.onSnapComplete(e);},500);}setConstraints(e){this.config.constraints=e;}setSnap(e){this.config.snap=e;}destroy(){this.destroyed=true,this.snapTimeoutId!==null&&(clearTimeout(this.snapTimeoutId),this.snapTimeoutId=null),this.element.removeEventListener("pointerdown",this.onPointerDown),this.springX.destroy(),this.springY.destroy();}};function Kt(t,e){return new Se(t,e)}var Wt={direction:"vertical",momentum:false,momentumDecay:.95,bounce:false,stiffness:100,damping:10,mass:1,restSpeed:.01,restDelta:.01,clamp:false},Te=class{constructor(e,n={}){this.scroll={x:0,y:0};this.target={x:0,y:0};this.isScrolling=false;this.isEnabled=true;this.pendingRafId=null;this.destroyed=false;this.onWheel=e=>{if(!this.isEnabled)return;this.isScrolling||(this.isScrolling=true,this.config.onScrollStart?.());let n=e.deltaX,i=e.deltaY;if(this.config.direction==="horizontal"?i=0:this.config.direction==="vertical"&&(n=0),this.config.bounce){let r=this.container.scrollWidth-this.container.clientWidth,s=this.container.scrollHeight-this.container.clientHeight;this.target.x+=n,this.target.y+=i,this.target.x<0?this.target.x=-Math.sqrt(Math.abs(this.target.x))*10:this.target.x>r&&(this.target.x=r+Math.sqrt(Math.abs(this.target.x-r))*10),this.target.y<0?this.target.y=-Math.sqrt(Math.abs(this.target.y))*10:this.target.y>s&&(this.target.y=s+Math.sqrt(Math.abs(this.target.y-s))*10),e.preventDefault();}else {this.target.x+=n,this.target.y+=i;let r=this.container.scrollWidth-this.container.clientWidth,s=this.container.scrollHeight-this.container.clientHeight;this.target.x=Math.max(0,Math.min(this.target.x,r)),this.target.y=Math.max(0,Math.min(this.target.y,s));}this.startScrollLoop();};this.container=e,this.config={...Wt,...n};let i={stiffness:this.config.stiffness,damping:this.config.damping,mass:this.config.mass,restSpeed:this.config.restSpeed,restDelta:this.config.restDelta,clamp:this.config.clamp};this.springX=_(0,i),this.springY=_(0,i),this.springX.subscribe(()=>{this.scroll.x=this.springX.get(),this.config.onScroll?.(this.scroll.x,this.scroll.y);}),this.springY.subscribe(()=>{this.scroll.y=this.springY.get(),this.config.onScroll?.(this.scroll.x,this.scroll.y);}),this.setupScrollEvents();}setupScrollEvents(){this.container.addEventListener("wheel",this.onWheel,{passive:false});}startScrollLoop(){this.springX.set(this.target.x),this.springY.set(this.target.y);let e=()=>{if(this.pendingRafId=null,this.destroyed)return;Math.abs(this.scroll.x-this.target.x)<.1&&Math.abs(this.scroll.y-this.target.y)<.1&&!this.springX.isAnimating()&&!this.springY.isAnimating()&&this.isScrolling?(this.isScrolling=false,this.config.onScrollEnd?.()):this.isScrolling&&(this.pendingRafId=requestAnimationFrame(e));};e();}getScroll(){return {...this.scroll}}scrollTo(e,n){this.target={x:e,y:n},this.springX.set(e),this.springY.set(n);}scrollToElement(e,n=0){let i=this.container.getBoundingClientRect(),r=e.getBoundingClientRect(),s=r.left-i.left+this.scroll.x+n,o=r.top-i.top+this.scroll.y+n;this.scrollTo(s,o);}enable(){this.isEnabled=true;}disable(){this.isEnabled=false;}destroy(){this.destroyed=true,this.pendingRafId!==null&&(cancelAnimationFrame(this.pendingRafId),this.pendingRafId=null),this.container.removeEventListener("wheel",this.onWheel),this.springX.destroy(),this.springY.destroy();}};function Zt(t,e){return new Te(t,e)}function Ce(t,e){let n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function _e(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function Ye(t,e){return {x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function Qt(t,e,n,i){return t<e?e-Math.pow(e-t,i):t>n?n+Math.pow(t-n,i):t}function Oe(t,e={}){let{minScale:n=.1,maxScale:i=10,rubberBand:r=true,rubberBandFactor:s=.5,spring:o={stiffness:200,damping:20},onPinch:a,onPinchStart:l,onPinchEnd:u}=e,c=true,d=false,p=0,h=1,m=1,g=1,f=0,x=0,v=0,S=new Map,b=null,y=(R,w=false,V=false)=>{let I=Array.from(S.values()),Y=I[0]??{x:0,y:0},G=I[1]??{x:0,y:0},H=I.length>=2?Ye(Y,G):{x:0,y:0};return {active:d,first:w,last:V,event:R,elapsedTime:performance.now()-x,cancelled:false,scale:m,velocity:f,distance:I.length>=2?Ce(Y,G):0,initialDistance:p,origin:H,movement:m-h,offset:m-1}},T=R=>{if(c){for(let w of Array.from(R.changedTouches))S.set(w.identifier,{x:w.clientX,y:w.clientY});if(S.size===2){let w=Array.from(S.values()),V=w[0],I=w[1];p=Ce(V,I),h=m,x=performance.now(),v=x,d=true,b?.destroy(),b=null,l?.(y(R,true,false));}}},A=R=>{if(!(!c||!d)){for(let w of Array.from(R.changedTouches))S.has(w.identifier)&&S.set(w.identifier,{x:w.clientX,y:w.clientY});if(S.size>=2){let w=Array.from(S.values()),V=w[0],I=w[1],Y=Ce(V,I),G=performance.now(),H=G-v,k=h*(Y/p);r?k=Qt(k,n,i,s):k=$(k,n,i),f=H>0?(k-g)/H*1e3:0,g=m,m=k,v=G,a?.(y(R,false,false)),R.preventDefault();}}},P=R=>{for(let w of Array.from(R.changedTouches))S.delete(w.identifier);if(d&&S.size<2){if(d=false,m<n||m>i){let w=$(m,n,i);b=_(m,{stiffness:o.stiffness,damping:o.damping}),b.subscribe(()=>{m=b.get(),a?.(y(R,false,false));}),b.set(w);}u?.(y(R,false,true));}};return t.addEventListener("touchstart",T,{passive:false}),t.addEventListener("touchmove",A,{passive:false}),t.addEventListener("touchend",P),t.addEventListener("touchcancel",P),{enable:()=>{c=true;},disable:()=>{c=false;},isEnabled:()=>c,destroy:()=>{t.removeEventListener("touchstart",T),t.removeEventListener("touchmove",A),t.removeEventListener("touchend",P),t.removeEventListener("touchcancel",P),b?.destroy();}}}function Xe(t,e={}){let{enabled:n=true,threshold:i=0,onRotate:r,onRotateStart:s,onRotateEnd:o}=e,a=n,l=false,u=0,c=0,d=0,p=0,h=0,m=0,g=0,f=new Map,x=(y,T=false,A=false)=>{let P=Array.from(f.values()),R=P[0]??{x:0,y:0},w=P[1]??{x:0,y:0},V=P.length>=2?Ye(R,w):{x:0,y:0};return {active:l,first:T,last:A,event:y,elapsedTime:performance.now()-h,cancelled:false,angle:c,velocity:p,initialAngle:u,origin:V,movement:c-u,offset:g}},v=y=>{if(a){for(let T of Array.from(y.changedTouches))f.set(T.identifier,{x:T.clientX,y:T.clientY});if(f.size===2){let T=Array.from(f.values()),A=T[0],P=T[1];u=_e(A,P),h=performance.now(),m=h,d=c,l=true,s?.(x(y,true,false));}}},S=y=>{if(!(!a||!l)){for(let T of Array.from(y.changedTouches))f.has(T.identifier)&&f.set(T.identifier,{x:T.clientX,y:T.clientY});if(f.size>=2){let T=Array.from(f.values()),A=T[0],P=T[1],R=_e(A,P),w=performance.now(),V=w-m,I=R-u;I>180&&(I-=360),I<-180&&(I+=360),Math.abs(I)>=i&&(c=g+I,p=V>0?(c-d)/V*1e3:0,d=c,m=w,r?.(x(y,false,false))),y.preventDefault();}}},b=y=>{for(let T of Array.from(y.changedTouches))f.delete(T.identifier);l&&f.size<2&&(l=false,g=c,o?.(x(y,false,true)));};return t.addEventListener("touchstart",v,{passive:false}),t.addEventListener("touchmove",S,{passive:false}),t.addEventListener("touchend",b),t.addEventListener("touchcancel",b),{enable:()=>{a=true;},disable:()=>{a=false;},isEnabled:()=>a,destroy:()=>{t.removeEventListener("touchstart",v),t.removeEventListener("touchmove",S),t.removeEventListener("touchend",b),t.removeEventListener("touchcancel",b);}}}function je(t,e={}){let{velocityThreshold:n=.5,distanceThreshold:i=50,maxDuration:r=300,axis:s="both",onSwipe:o,onSwipeStart:a,onSwipeEnd:l}=e,u=true,c=false,d={x:0,y:0},p={x:0,y:0},h=0,m=0,g=null,f=(y,T=false,A=false,P=null)=>{let R=performance.now(),w=R-h,V=R-m,I={x:y.clientX-d.x,y:y.clientY-d.y},Y={x:V>0?(y.clientX-p.x)/V:0,y:V>0?(y.clientY-p.y)/V:0};return {active:c,first:T,last:A,event:y,elapsedTime:w,cancelled:false,direction:P,velocity:Y,distance:I,movement:I,duration:w}},x=(y,T)=>{let A=Math.abs(y.x),P=Math.abs(y.y),R=Math.abs(T.x),w=Math.abs(T.y),V=A>=i,I=P>=i,Y=R>=n,G=w>=n;return (s==="x"||s==="both"&&A>P)&&(V||Y)?y.x>0?"right":"left":(s==="y"||s==="both"&&P>A)&&(I||G)?y.y>0?"down":"up":null},v=y=>{!u||g!==null||(g=y.pointerId,d={x:y.clientX,y:y.clientY},p={...d},h=performance.now(),m=h,c=true,t.setPointerCapture(y.pointerId),a?.(f(y,true,false)));},S=y=>{if(!u||!c||y.pointerId!==g)return;let T=performance.now();p={x:y.clientX,y:y.clientY},m=T;},b=y=>{if(!c||y.pointerId!==g)return;if(c=false,g=null,performance.now()-h<=r){let A={x:y.clientX-d.x,y:y.clientY-d.y},P=performance.now()-m,R={x:P>0?(y.clientX-p.x)/P:0,y:P>0?(y.clientY-p.y)/P:0},w=x(A,R),V=f(y,false,true,w);w&&o?.(V),l?.(V);}else l?.(f(y,false,true,null));try{t.releasePointerCapture(y.pointerId);}catch{}};return t.addEventListener("pointerdown",v),t.addEventListener("pointermove",S),t.addEventListener("pointerup",b),t.addEventListener("pointercancel",b),{enable:()=>{u=true;},disable:()=>{u=false;},isEnabled:()=>u,destroy:()=>{t.removeEventListener("pointerdown",v),t.removeEventListener("pointermove",S),t.removeEventListener("pointerup",b),t.removeEventListener("pointercancel",b);}}}function Ge(t,e={}){let{threshold:n=500,movementTolerance:i=10,onLongPress:r,onPressStart:s,onPressEnd:o}=e,a=true,l=false,u=false,c={x:0,y:0},d=0,p=null,h=null,m=(v,S=false,b=false)=>({active:l,first:S,last:b,event:v,elapsedTime:performance.now()-d,cancelled:false,position:c,duration:performance.now()-d,triggered:u}),g=v=>{!a||h!==null||(h=v.pointerId,c={x:v.clientX,y:v.clientY},d=performance.now(),l=true,u=false,t.setPointerCapture(v.pointerId),s?.(m(v,true,false)),p=setTimeout(()=>{l&&!u&&(u=true,r?.(m(v,false,false)));},n));},f=v=>{if(!l||v.pointerId!==h)return;let S=v.clientX-c.x,b=v.clientY-c.y;Math.sqrt(S*S+b*b)>i&&p&&(clearTimeout(p),p=null);},x=v=>{if(!(!l||v.pointerId!==h)){l=false,h=null,p&&(clearTimeout(p),p=null),o?.(m(v,false,true));try{t.releasePointerCapture(v.pointerId);}catch{}}};return t.addEventListener("pointerdown",g),t.addEventListener("pointermove",f),t.addEventListener("pointerup",x),t.addEventListener("pointercancel",x),{enable:()=>{a=true;},disable:()=>{a=false;},isEnabled:()=>a,destroy:()=>{p&&clearTimeout(p),t.removeEventListener("pointerdown",g),t.removeEventListener("pointermove",f),t.removeEventListener("pointerup",x),t.removeEventListener("pointercancel",x);}}}function Jt(t,e){let n=[];return e.pinch&&n.push(Oe(t,e.pinch)),e.rotate&&n.push(Xe(t,e.rotate)),e.swipe&&n.push(je(t,e.swipe)),e.longPress&&n.push(Ge(t,e.longPress)),{enable:()=>n.forEach(i=>i.enable()),disable:()=>n.forEach(i=>i.disable()),isEnabled:()=>n.every(i=>i.isEnabled()),destroy:()=>n.forEach(i=>i.destroy())}}function oe(t){if(t.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i))return He(t);let n=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/i);if(n)return {r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10)};let i=t.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*[\d.]+\)/i);if(i)return {r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10)};let r=t.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/i);return r?Ue(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10)):{r:0,g:0,b:0}}function Pe(t,e,n){let i=r=>Math.round(Math.max(0,Math.min(255,r))).toString(16).padStart(2,"0");return `#${i(t)}${i(e)}${i(n)}`}function He(t){let e=t.replace("#","");return e.length===3?{r:parseInt(e.charAt(0)+e.charAt(0),16),g:parseInt(e.charAt(1)+e.charAt(1),16),b:parseInt(e.charAt(2)+e.charAt(2),16)}:{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}}function Ue(t,e,n){if(t=(t%360+360)%360,e=Math.max(0,Math.min(100,e))/100,n=Math.max(0,Math.min(100,n))/100,e===0){let o=Math.round(n*255);return {r:o,g:o,b:o}}let i=(o,a,l)=>(l<0&&(l+=1),l>1&&(l-=1),l<1/6?o+(a-o)*6*l:l<1/2?a:l<2/3?o+(a-o)*(2/3-l)*6:o),r=n<.5?n*(1+e):n+e-n*e,s=2*n-r;return {r:Math.round(i(s,r,t/360+1/3)*255),g:Math.round(i(s,r,t/360)*255),b:Math.round(i(s,r,t/360-1/3)*255)}}function en(t,e,n){t=Math.max(0,Math.min(255,t))/255,e=Math.max(0,Math.min(255,e))/255,n=Math.max(0,Math.min(255,n))/255;let i=Math.max(t,e,n),r=Math.min(t,e,n),s=i-r,o=0,a=0;return s!==0&&(a=(i+r)/2>.5?s/(2-i-r):s/(i+r),i===t?o=((e-n)/s+(e<n?6:0))/6:i===e?o=((n-t)/s+2)/6:o=((t-e)/s+4)/6),{h:Math.round(o*360),s:Math.round(a*100),l:Math.round((i+r)/2*100)}}function tn(t,e,n){let i=oe(t),r=oe(e);return Pe(Math.round(U(i.r,r.r,n)),Math.round(U(i.g,r.g,n)),Math.round(U(i.b,r.b,n)))}function nn(t,e={}){let{offset:n=["start","end"],smooth:i=0}=e,r=0,s=0,o=0,a=performance.now(),l=0,u=0,c=null,d=new Set,p=()=>{let f=window.scrollY,x=window.innerHeight,v=performance.now(),S=Math.max(v-a,1);l=(f-o)/S*1e3,u=f>o?1:f<o?-1:0,o=f,a=v;let b,y=true,T=1;if(t){let A=t.getBoundingClientRect(),P=A.top+f,R=A.height,w=n[0]==="start"?P:n[0]==="center"?P+R/2:P+R,V=n[1]==="start"?x:n[1]==="center"?x/2:0,I=w-x,Y=w-V;b=$((f-I)/(Y-I),0,1),y=A.top<x&&A.bottom>0,T=y?$((Math.min(A.bottom,x)-Math.max(A.top,0))/A.height,0,1):0;}else {let A=document.documentElement.scrollHeight-x;b=A>0?$(f/A,0,1):0;}return i>0?(s=U(s,b,1-i),r=s):r=b,{progress:r,scrollY:f,velocity:l,direction:u,isInView:y,visibleRatio:T}},h=f=>{d.forEach(x=>x(f));},m=()=>{c||(c=requestAnimationFrame(()=>{c=null;let f=p();h(f);}));},g=p();return window.addEventListener("scroll",m,{passive:true}),window.addEventListener("resize",m,{passive:true}),{get:()=>r,getInfo:()=>p(),subscribe:f=>(d.add(f),f(g),()=>d.delete(f)),destroy:()=>{c&&cancelAnimationFrame(c),window.removeEventListener("scroll",m),window.removeEventListener("resize",m),d.clear();}}}function rn(t,e={}){let{speed:n=.5,direction:i="vertical",easing:r=h=>h,rootMargin:s="0px"}=e,o=0,a=false,l=null,u=null,c=false,d=()=>{if(!a)return;let h=t.getBoundingClientRect(),m=window.innerHeight,g=h.top+h.height/2,f=m/2,v=(g-f)/m;o=r(Math.abs(v))*Math.sign(v)*n*100,i==="vertical"?t.style.transform=`translate3d(0, ${o}px, 0)`:t.style.transform=`translate3d(${o}px, 0, 0)`;};l=new IntersectionObserver(h=>{let m=h[0];m&&(a=m.isIntersecting,a&&d());},{rootMargin:s}),l.observe(t);let p=()=>{c||a&&u===null&&(u=requestAnimationFrame(()=>{u=null,c||d();}));};return window.addEventListener("scroll",p,{passive:true}),{getOffset:()=>o,update:d,destroy:()=>{c=true,u!==null&&(cancelAnimationFrame(u),u=null),l?.disconnect(),window.removeEventListener("scroll",p),t.style.transform="";}}}function on(t,e={}){let{start:n="top",end:i="bottom",startOffset:r=0,endOffset:s=0,onEnter:o,onLeave:a,onProgress:l,once:u=false,scrub:c=false}=e,d=false,p=0,h=false,m=0,g=null,f=(S,b)=>{if(typeof S=="number")return S;switch(S){case "top":return b.top;case "center":return b.top+b.height/2;case "bottom":return b.bottom}},x=()=>{let S=t.getBoundingClientRect(),b=window.innerHeight,y=f(n,S)+r,T=f(i,S)+s,A=b,P=0,R=(A-y)/(A-P),w=(A-T)/(A-P),V=$(R/(w||1),0,1);typeof c=="number"&&c>0?(m=U(m,V,1-c),p=m):p=V;let I=S.top<b&&S.bottom>0;return {progress:p,scrollY:window.scrollY,velocity:0,direction:0,isInView:I,visibleRatio:I?$((Math.min(S.bottom,b)-Math.max(S.top,0))/S.height,0,1):0}},v=()=>{g||(g=requestAnimationFrame(()=>{g=null;let S=x(),b=d;d=S.progress>0&&S.progress<1,!b&&d&&(!u||!h)&&(h=true,o?.(S)),b&&!d&&a?.(S),(d||c)&&l?.(S);}));};return window.addEventListener("scroll",v,{passive:true}),window.addEventListener("resize",v,{passive:true}),v(),{isActive:()=>d,getProgress:()=>p,refresh:()=>{x();},destroy:()=>{g&&cancelAnimationFrame(g),window.removeEventListener("scroll",v),window.removeEventListener("resize",v);}}}function sn(t,e){let{inputRange:n,outputRange:i,clamp:r=true,easing:s}=e;if(n.length!==i.length)throw new Error("inputRange and outputRange must have the same length");let o=i[0],a=typeof o=="string"&&(o.startsWith("#")||o.startsWith("rgb")||o.startsWith("hsl")),l=o??0,u=new Set,c=p=>{let h=p;s&&(h=s(h));let m=n[0]??0,g=n[n.length-1]??1;r&&(h=$(h,m,g));let f=0;for(let T=0;T<n.length-1;T++){let A=n[T]??0,P=n[T+1]??1;if(h>=A&&h<=P){f=T;break}h>P&&(f=T+1);}let x=n[f]??0,v=n[f+1]??x,S=v!==x?(h-x)/(v-x):0,b=i[f]??0,y=i[f+1]??b;return a&&typeof b=="string"&&typeof y=="string"?tn(b,y,S):U(b,y,S)},d=t.subscribe(p=>{l=c(p.progress),u.forEach(h=>h(l));});return {get:()=>l,subscribe:p=>(u.add(p),p(l),()=>u.delete(p)),destroy:()=>{d(),u.clear();}}}var an={linear:t=>t,easeIn:t=>t*t,easeOut:t=>t*(2-t),easeInOut:t=>t<.5?2*t*t:-1+(4-2*t)*t,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t};var we=0;function Me(t={}){let{defaults:e={},autoplay:n=false,repeat:i=0,yoyo:r=false,repeatDelay:s=0,onStart:o,onUpdate:a,onComplete:l,onRepeat:u}=t,c=[],d=new Map,p=new Map,h=new Map,m=0,g=0,f=false,x=false,v=false,S=0,b=null,y=null,T=0,A=false,P=0,R=C=>{if(C===void 0)return P;if(typeof C=="number")return C;if(C==="<"){let E=c[c.length-1];return E?E.startTime:0}if(C===">")return P;if(C.startsWith("+="))return P+parseFloat(C.slice(2));if(C.startsWith("-="))return P-parseFloat(C.slice(2));if(d.has(C))return d.get(C);let L=C.match(/^([a-zA-Z_]\w*)([+-]=?\d*\.?\d+)?$/);if(L){let E=L[1],D=L[2],F=E?d.get(E)??0:0;if(D){let M=parseFloat(D.replace("=",""));return F+M}return F}return P},w=C=>typeof C=="string"?document.querySelector(C):C instanceof HTMLElement?C:null,V=C=>{let L={};for(let[E,D]of Object.entries(C))typeof D=="number"&&!["duration","delay"].includes(E)&&(L[E]=D);return L},I=(C,L)=>{let E=[],D={};for(let[F,M]of Object.entries(L))switch(F){case "x":E.push(`translateX(${M}px)`);break;case "y":E.push(`translateY(${M}px)`);break;case "z":E.push(`translateZ(${M}px)`);break;case "scale":E.push(`scale(${M})`);break;case "scaleX":E.push(`scaleX(${M})`);break;case "scaleY":E.push(`scaleY(${M})`);break;case "rotate":case "rotation":E.push(`rotate(${M}deg)`);break;case "rotateX":E.push(`rotateX(${M}deg)`);break;case "rotateY":E.push(`rotateY(${M}deg)`);break;case "rotateZ":E.push(`rotateZ(${M}deg)`);break;case "skewX":E.push(`skewX(${M}deg)`);break;case "skewY":E.push(`skewY(${M}deg)`);break;case "opacity":D.opacity=String(M);break;default:D[F]=typeof M=="number"?`${M}px`:String(M);}E.length>0&&(C.style.transform=E.join(" "));for(let[F,M]of Object.entries(D))C.style[F]=M;},Y=(C,L)=>{let E={},D=getComputedStyle(C);for(let F of Object.keys(L))switch(F){case "opacity":E[F]=parseFloat(D.opacity)||1;break;case "x":case "y":case "z":case "scale":case "scaleX":case "scaleY":case "rotate":case "rotation":case "rotateX":case "rotateY":case "rotateZ":case "skewX":case "skewY":E[F]=F.startsWith("scale")?1:0;break;default:E[F]=parseFloat(D.getPropertyValue(F))||0;}return E},G=64,H=C=>{if(!f||v)return;let L=T?C-T:0,E=Math.min(L,G)/1e3;T=C,m+=x?-E:E,m=$(m,0,g);let D=p.get(Math.floor(m*1e3));D&&D.forEach(M=>{try{M();}catch(O){console.error("[SpringKit] Timeline callback error:",O);}});let F=h.get(Math.floor(m*1e3));if(F!==void 0){v=true;try{F?.();}catch(M){console.error("[SpringKit] Timeline pause callback error:",M);}return}for(let M of c){let O=$((m-M.startTime)/(M.endTime-M.startTime),0,1),j=m>=M.startTime&&m<=M.endTime;j&&!M.isActive&&(M.isActive=true,M.props.onStart?.()),M.isActive&&M.spring&&M.props.onUpdate?.(O),j&&O>=1&&!M.isComplete&&(M.isComplete=true,M.props.onComplete?.());}if(a?.(m/g),x&&m<=0||!x&&m>=g)if(i===-1||S<i){if(S++,u?.(S),r?x=!x:(m=0,c.forEach(M=>{M.isActive=false,M.isComplete=false;})),s>0){y=setTimeout(()=>{y=null,b=requestAnimationFrame(H);},s*1e3);return}}else {f=false,l?.();return}b=requestAnimationFrame(H);},k={to(C,L,E){let D=R(E)+(L.delay||0),F=L.duration||.5,M=D+F,O=w(C),j=V(L),X={id:`segment_${we++}`,target:C,props:L,startTime:D,endTime:M,spring:null,isActive:false,isComplete:false};if(O&&Object.keys(j).length>0){let Z=Y(O,j),q={...e,...L.spring};X.spring=W(Z,q),X.spring.subscribe(ee=>{I(O,ee);});let J=X.props.onStart;X.props.onStart=()=>{X.spring?.set(j),J?.();};}return c.push(X),P=M,g=Math.max(g,M),k},from(C,L,E){let D=R(E)+(L.delay||0),F=L.duration||.5,M=D+F,O=w(C),j=V(L),X={id:`segment_${we++}`,target:C,props:L,startTime:D,endTime:M,spring:null,isActive:false,isComplete:false};if(O&&Object.keys(j).length>0){let Z=Y(O,j),q={...e,...L.spring};X.spring=W(j,q),I(O,j),X.spring.subscribe(ee=>{I(O,ee);});let J=X.props.onStart;X.props.onStart=()=>{X.spring?.set(Z),J?.();};}return c.push(X),P=M,g=Math.max(g,M),k},fromTo(C,L,E,D){let F=R(D)+(E.delay||0),M=E.duration||.5,O=F+M,j=w(C),X=V(L),Z=V(E),q={id:`segment_${we++}`,target:C,props:E,startTime:F,endTime:O,spring:null,isActive:false,isComplete:false};if(j&&Object.keys(Z).length>0){let J={...e,...E.spring};q.spring=W(X,J),I(j,X),q.spring.subscribe(it=>{I(j,it);});let ee=q.props.onStart;q.props.onStart=()=>{q.spring?.set(Z),ee?.();};}return c.push(q),P=O,g=Math.max(g,O),k},addLabel(C,L){let E=R(L);return d.set(C,E),k},call(C,L){let E=Math.floor(R(L)*1e3);return p.has(E)||p.set(E,[]),p.get(E).push(C),k},set(C,L,E){let D=w(C);if(D){let F=R(E);this.call(()=>{I(D,V(L));},F);}return k},addPause(C,L){let E=Math.floor(R(C)*1e3);return h.set(E,L),k},play(){return A||(A=true,o?.()),f=true,v=false,T=0,b=requestAnimationFrame(H),k},pause(){return v=true,b&&(cancelAnimationFrame(b),b=null),k},resume(){return v&&(v=false,T=0,b=requestAnimationFrame(H)),k},reverse(){return x=!x,k},restart(){return m=x?g:0,S=0,A=false,c.forEach(C=>{C.isActive=false,C.isComplete=false;}),this.play()},seek(C){return typeof C=="string"?m=d.get(C)??0:m=$(C,0,g),k},kill(){f=false,b&&(cancelAnimationFrame(b),b=null),y&&(clearTimeout(y),y=null),c.forEach(C=>C.spring?.destroy()),c.length=0,d.clear(),p.clear(),h.clear();},time:()=>m,duration:()=>g,progress:()=>g>0?m/g:0,isPlaying:()=>f&&!v,isReversed:()=>x,getById(C){return c.find(L=>L.id===C)}};return n&&k.play(),k}function ln(t,e){return Me().to(t,e).play()}function un(t,e){let n=Me();return t.forEach((i,r)=>{n.to(i,e,r===0?0:"<");}),n.play()}function Be(t){let e=[],n=/([MLCQAZHVST])([^MLCQAZHVST]*)/gi,i=t.matchAll(n);for(let r of i){let s=r[1],o=r[2];if(!s||o===void 0)continue;let a=s.toUpperCase(),l=o.trim().split(/[\s,]+/).filter(u=>u!=="").map(parseFloat).filter(u=>!isNaN(u));e.push({type:a,values:l});}return e}function Ne(t){return t.map(s=>{let{type:o,values:a}=s,l=[...a];switch(o){case "M":a[0]??0,a[1]??0;break;case "L":a[0]??0,a[1]??0;break;case "H":l[0]=a[0]??0,a[0]??0;break;case "V":l[0]=a[0]??0,a[0]??0;break;case "C":a[4]??0,a[5]??0;break;case "Q":a[2]??0,a[3]??0;break;case "A":a[5]??0,a[6]??0;break;}return {type:o,values:l}})}function cn(){if(typeof document>"u")return  false;try{let t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg"),n=document.createElementNS(t,"path");n.setAttribute("d","M0,0 L10,10"),e.appendChild(n),document.body.appendChild(e);let i=typeof n.getTotalLength=="function",r=!1;if(i)try{n.getTotalLength(),r=!0;}catch{r=!1;}return document.body.removeChild(e),r}catch{return  false}}function mn(t,e){let n=[];for(let i of t)if(i.type==="M"||i.type==="L")n.push({x:i.values[0]??0,y:i.values[1]??0});else if(i.type==="C")n.push({x:i.values[4]??0,y:i.values[5]??0,cp1x:i.values[0]??0,cp1y:i.values[1]??0,cp2x:i.values[2]??0,cp2y:i.values[3]??0});else if(i.type==="Q")n.push({x:i.values[2]??0,y:i.values[3]??0,cp1x:i.values[0]??0,cp1y:i.values[1]??0});else if(i.type==="A")n.push({x:i.values[5]??0,y:i.values[6]??0});else if(i.type==="H"){let r=n[n.length-1];n.push({x:i.values[0]??0,y:r?.y??0});}else if(i.type==="V"){let r=n[n.length-1];n.push({x:r?.x??0,y:i.values[0]??0});}if(n.length>0&&n.length<e){let i=[],r=(n.length-1)/(e-1);for(let s=0;s<e;s++){let o=s*r,a=Math.floor(o),l=o-a;if(a>=n.length-1)i.push(n[n.length-1]);else {let u=n[a],c=n[a+1];i.push({x:U(u.x,c.x,l),y:U(u.y,c.y,l)});}}return i}return n}function ze(t,e){if(!cn())return mn(t,e);let n=[],i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),s=document.createElementNS(i,"path"),o="";for(let a of t)o+=a.type+a.values.join(" ");s.setAttribute("d",o),r.appendChild(s),document.body.appendChild(r);try{let l=s.getTotalLength()/(e-1);for(let u=0;u<e;u++){let c=s.getPointAtLength(u*l);n.push({x:c.x,y:c.y});}}finally{document.body.removeChild(r);}return n}function qe(t,e,n){return {x:U(t.x,e.x,n),y:U(t.y,e.y,n)}}function Ke(t){if(t.length===0)return "";let e=t[0],n=`M ${e.x} ${e.y}`;for(let i=1;i<t.length;i++){let r=t[i];n+=` L ${r.x} ${r.y}`;}return n}function We(t,e={}){let{spring:n={stiffness:120,damping:14},samples:i=100,onProgress:r,onComplete:s}=e,o=t,a=[],l=[],u=[],c=new Set,d=Be(t);a=ze(Ne(d),i),u=[...a],l=[...a];let p=_(0,n);return p.subscribe(()=>{let h=p.get();r?.(h),u=a.map((m,g)=>qe(m,l[g]??m,h)),o=Ke(u),c.forEach(m=>{try{m(o);}catch(g){console.error("[SpringKit] Morph subscriber error:",g);}}),h>=.999&&s?.();}),{getPath:()=>o,getProgress:()=>p.get(),morphTo(h){let m=Be(h),g=ze(Ne(m),i);for(a=[...u],l=g;a.length<l.length;)a.push(a[a.length-1]||{x:0,y:0});for(;l.length<a.length;)l.push(l[l.length-1]||{x:0,y:0});p.jump(0),p.set(1);},setProgress(h){let m=$(h,0,1);p.jump(m),u=a.map((g,f)=>qe(g,l[f]??g,m)),o=Ke(u),c.forEach(g=>{try{g(o);}catch(f){console.error("[SpringKit] Morph subscriber error:",f);}});},subscribe(h){c.add(h);try{h(o);}catch(m){console.error("[SpringKit] Morph subscriber error:",m);}return ()=>c.delete(h)},destroy(){p.destroy(),c.clear();}}}function pn(t,e={}){if(t.length===0)throw new Error("At least one path is required");let n=0,i=t[0],r=We(i,e);return {getPath:()=>r.getPath(),getCurrentIndex:()=>n,morphToIndex(s){let o=$(s,0,t.length-1);if(o!==n){n=o;let a=t[o];r.morphTo(a);}},morphToNext(){this.morphToIndex((n+1)%t.length);},morphToPrevious(){this.morphToIndex((n-1+t.length)%t.length);},subscribe:s=>r.subscribe(s),destroy:()=>r.destroy()}}var fn={circle(t,e,n){return `M ${t-n} ${e}
            A ${n} ${n} 0 1 1 ${t+n} ${e}
            A ${n} ${n} 0 1 1 ${t-n} ${e}`},rect(t,e,n,i,r=0){return r===0?`M ${t} ${e}
              L ${t+n} ${e}
              L ${t+n} ${e+i}
              L ${t} ${e+i}
              Z`:`M ${t+r} ${e}
            L ${t+n-r} ${e}
            Q ${t+n} ${e} ${t+n} ${e+r}
            L ${t+n} ${e+i-r}
            Q ${t+n} ${e+i} ${t+n-r} ${e+i}
            L ${t+r} ${e+i}
            Q ${t} ${e+i} ${t} ${e+i-r}
            L ${t} ${e+r}
            Q ${t} ${e} ${t+r} ${e}
            Z`},polygon(t,e,n,i){let r=[];for(let s=0;s<i;s++){let o=s/i*Math.PI*2-Math.PI/2,a=t+n*Math.cos(o),l=e+n*Math.sin(o);r.push(`${s===0?"M":"L"} ${a} ${l}`);}return r.join(" ")+" Z"},star(t,e,n,i,r){let s=[],o=Math.PI/r;for(let a=0;a<r*2;a++){let l=a%2===0?n:i,u=a*o-Math.PI/2,c=t+l*Math.cos(u),d=e+l*Math.sin(u);s.push(`${a===0?"M":"L"} ${c} ${d}`);}return s.join(" ")+" Z"},heart(t,e,n){let i=n/4;return `M ${t} ${e+i}
            C ${t} ${e} ${t-2*i} ${e} ${t-2*i} ${e-i}
            C ${t-2*i} ${e-2*i} ${t} ${e-2*i} ${t} ${e-i}
            C ${t} ${e-2*i} ${t+2*i} ${e-2*i} ${t+2*i} ${e-i}
            C ${t+2*i} ${e} ${t} ${e} ${t} ${e+i}
            Z`},arrow(t,e,n,i,r="right"){let s=n/2,o=i/2;switch(r){case "right":return `M ${t} ${e-o} L ${t+n} ${e} L ${t} ${e+o} Z`;case "left":return `M ${t+n} ${e-o} L ${t} ${e} L ${t+n} ${e+o} Z`;case "up":return `M ${t-s} ${e+i} L ${t} ${e} L ${t+s} ${e+i} Z`;case "down":return `M ${t-s} ${e} L ${t} ${e+i} L ${t+s} ${e} Z`}}};function se(t){let e=t.getBoundingClientRect(),n=getComputedStyle(t);return {x:e.left+window.scrollX,y:e.top+window.scrollY,width:e.width,height:e.height,opacity:parseFloat(n.opacity)||1,borderRadius:parseFloat(n.borderRadius)||0,scaleX:1,scaleY:1}}function dn(t,e,n,i){let r=i.x!==void 0?e.x-n.x+(i.x-e.x):0,s=i.y!==void 0?e.y-n.y+(i.y-e.y):0,o=i.width!==void 0?i.width/n.width:1,a=i.height!==void 0?i.height/n.height:1;if(t.style.transform=`translate(${r}px, ${s}px) scale(${o}, ${a})`,t.style.transformOrigin="top left",i.opacity!==void 0&&(t.style.opacity=String(i.opacity)),i.borderRadius!==void 0){let l=i.borderRadius/Math.max(o,a);t.style.borderRadius=`${l}px`;}}function Ze(t){t.style.transform="",t.style.transformOrigin="",t.style.opacity="",t.style.borderRadius="";}function Ee(t={}){let{spring:e={stiffness:300,damping:30},onAnimationStart:n,onAnimationComplete:i,crossfade:r=false,transition:s={}}=t,o=new Map,a=new Map,l=(m,g)=>{o.has(m)||o.set(m,[]);let f=o.get(m);if(!f.some(v=>v.element===g)){let v=se(g);f.push({id:m,element:g,measurement:v,spring:null,isAnimating:false,pendingRafId:null}),a.has(m)||a.set(m,v);}},u=(m,g)=>{let f=o.get(m);if(!f)return;let x=f.findIndex(v=>v.element===g);if(x!==-1){let v=f[x];a.set(m,se(g)),v.pendingRafId!==null&&(cancelAnimationFrame(v.pendingRafId),v.pendingRafId=null),v.spring?.destroy(),f.splice(x,1),f.length===0&&o.delete(m);}},c=(m,g,f)=>{m.spring?.destroy();let x={x:g.x,y:g.y,width:g.width,height:g.height};r&&(x.opacity=g.opacity??1),g.borderRadius!==void 0&&(x.borderRadius=g.borderRadius),m.spring=W(x,e),m.isAnimating=true,n?.(m.id),m.spring.subscribe(b=>{dn(m.element,g,f,b);});let v={x:f.x,y:f.y,width:f.width,height:f.height};r&&(v.opacity=f.opacity??1),f.borderRadius!==void 0&&(v.borderRadius=f.borderRadius),m.spring.set(v);let S=()=>{m.pendingRafId=null,m.spring&&!m.spring.isAnimating()?(m.isAnimating=false,Ze(m.element),i?.(m.id)):m.isAnimating&&(m.pendingRafId=requestAnimationFrame(S));};m.pendingRafId=requestAnimationFrame(S);};return {register:l,unregister:u,update:()=>{for(let[m,g]of o)for(let f of g){let x=a.get(m),v=se(f.element);x&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&c(f,x,v),f.measurement=v,a.set(m,v);}},forceUpdate:()=>{for(let[m,g]of o)for(let f of g)f.measurement=se(f.element),a.set(m,f.measurement);},destroy:()=>{for(let m of o.values())for(let g of m)g.pendingRafId!==null&&(cancelAnimationFrame(g.pendingRafId),g.pendingRafId=null),g.spring?.destroy(),Ze(g.element);o.clear(),a.clear();}}}var gn=0;function hn(){let t=new Map;return {createGroup(e){let n=e??`layout-group-${gn++}`,i=Ee();return t.set(n,i),i},getGroup(e){return t.get(e)},updateAll(){for(let e of t.values())e.update();},destroy(){for(let e of t.values())e.destroy();t.clear();}}}function bn(t={}){let{root:e=typeof document<"u"?document.body:null,attribute:n="data-layout-id",debounce:i=0,...r}=t;if(!e)return {update:()=>{},forceUpdate:()=>{},destroy:()=>{}};let s=Ee(r),o=null,a=null,l=null,u=()=>{e.querySelectorAll(`[${n}]`).forEach(p=>{let h=p.getAttribute(n);h&&p instanceof HTMLElement&&s.register(h,p);});},c=()=>{l&&clearTimeout(l),i>0?l=setTimeout(()=>{u(),s.update();},i):(u(),s.update());};return u(),o=new MutationObserver(d=>{let p=false;for(let h of d)h.type==="childList"&&(h.addedNodes.forEach(m=>{m instanceof HTMLElement&&(m.hasAttribute(n)&&(p=true),m.querySelector(`[${n}]`)&&(p=true));}),h.removedNodes.forEach(m=>{if(m instanceof HTMLElement){let g=m.getAttribute(n);g&&s.unregister(g,m);}})),h.type==="attributes"&&h.attributeName===n&&(p=true);p&&c();}),o.observe(e,{childList:true,subtree:true,attributes:true,attributeFilter:[n]}),a=new ResizeObserver(()=>{c();}),a.observe(e),{update:()=>{u(),s.update();},forceUpdate:()=>{u(),s.forceUpdate();},destroy:()=>{l&&clearTimeout(l),o?.disconnect(),a?.disconnect(),s.destroy();}}}function yn(t){let e=t;return ()=>(e=e*1103515245+12345&2147483647,e/2147483647)}function Qe(t,e,n,i){let r=t%e,s=Math.floor(t/e),o,a;switch(i){case "top-left":o=0,a=0;break;case "top-right":o=e-1,a=0;break;case "bottom-left":o=0,a=n-1;break;case "bottom-right":o=e-1,a=n-1;break;default:o=(e-1)/2,a=(n-1)/2;break}let l=r-o,u=s-a;return Math.sqrt(l*l+u*u)}function ae(t){let{count:e,delay:n=.1,easing:i=s=>s}=t,r=[];for(let s=0;s<e;s++){let o=e>1?s/(e-1):0;r.push(i(o)*n*(e-1));}return r}function vn(t){return ae(t).reverse()}function Je(t){let{count:e,delay:n=.1,easing:i=o=>o}=t,r=[],s=(e-1)/2;for(let o=0;o<e;o++){let a=Math.abs(o-s),l=s,u=l>0?a/l:0;r.push(i(u)*n*l);}return r}function et(t){let{count:e,delay:n=.1,easing:i=a=>a}=t,r=[],s=(e-1)/2,o=n*s;for(let a=0;a<e;a++){let l=Math.abs(a-s),u=s,c=u>0?1-l/u:0;r.push(i(c)*o);}return r}function Ae(t){let{count:e,columns:n,origin:i="top-left",direction:r="diagonal",delay:s=.1,easing:o=u=>u}=t,a=Math.ceil(e/n),l=[];for(let u=0;u<e;u++){let c=u%n,d=Math.floor(u/n),p;switch(r){case "row":p=d/Math.max(a-1,1);break;case "column":p=c/Math.max(n-1,1);break;case "diagonal":p=(c+d)/(n+a-2);break;default:{let h=Qe(i==="center"?0:e-1,n,a,i==="center"?"top-left":i),m=Qe(u,n,a,i);p=h>0?m/h:0;break}}l.push(o($(p,0,1))*s*Math.max(n,a));}return l}function xn(t){let{count:e,direction:n="horizontal",frequency:i=1,amplitude:r=.5,delay:s=.1,easing:o=l=>l}=t,a=[];for(let l=0;l<e;l++){let u=e>1?l/(e-1):0,c=u,d=Math.sin(u*Math.PI*2*i)*r;switch(n){case "horizontal":c=u+d*.5;break;case "vertical":c=u+Math.abs(d);break;case "diagonal":c=u+d;break}a.push(o($(c,0,1.5))*s*(e-1));}return a}function Re(t){let{count:e,columns:n,direction:i="clockwise",startFrom:r="edge",delay:s=.1,easing:o=f=>f}=t,a=Math.ceil(e/n),l=[],u=new Set,c=0,d=a-1,p=0,h=n-1;for(;c<=d&&p<=h;){for(let f=p;f<=h;f++){let x=c*n+f;x<e&&!u.has(`${c},${f}`)&&(l.push(x),u.add(`${c},${f}`));}c++;for(let f=c;f<=d;f++){let x=f*n+h;x<e&&!u.has(`${f},${h}`)&&(l.push(x),u.add(`${f},${h}`));}if(h--,c<=d){for(let f=h;f>=p;f--){let x=d*n+f;x<e&&!u.has(`${d},${f}`)&&(l.push(x),u.add(`${d},${f}`));}d--;}if(p<=h){for(let f=d;f>=c;f--){let x=f*n+p;x<e&&!u.has(`${f},${p}`)&&(l.push(x),u.add(`${f},${p}`));}p++;}}r==="center"&&l.reverse(),i==="counter-clockwise"&&l.reverse();let m=new Array(e).fill(0),g=s*(l.length-1);return l.forEach((f,x)=>{let v=l.length>1?x/(l.length-1):0;m[f]=o(v)*g;}),m}function tt(t){let{count:e,seed:n=Date.now(),delay:i=.1,minMultiplier:r=0,maxMultiplier:s=1,easing:o=c=>c}=t,a=yn(n),l=[],u=i*(e-1);for(let c=0;c<e;c++){let d=a(),p=r+d*(s-r);l.push(o(p)*u);}return l}function Sn(t,e){let{count:n,delay:i=.1}=t,r=[],s=i*(n-1);for(let o=0;o<n;o++){let a=e(o,n);r.push($(a,0,1)*s);}return r}function Tn(t,e){return t.map((n,i)=>({...n,delay:(n.delay??0)+(e[i]??0)}))}var Cn={cascade:t=>ae({count:t,delay:.05}),reveal:t=>ae({count:t,delay:.15}),pop:t=>Je({count:t,delay:.08}),ripple:t=>et({count:t,delay:.08}),scatter:t=>tt({count:t,delay:.1,seed:42}),gridWave:(t,e)=>Ae({count:t,columns:e,direction:"diagonal",delay:.05}),gridRadial:(t,e)=>Ae({count:t,columns:e,origin:"center",direction:"radial",delay:.05}),spiralIn:(t,e)=>Re({count:t,columns:e,startFrom:"edge",delay:.05}),spiralOut:(t,e)=>Re({count:t,columns:e,startFrom:"center",delay:.05})};var te=class{constructor(e,n={}){this._velocity=0;this._subscribers=new Set;this._eventListeners=new Map;this._springValue=null;this._isAnimating=false;this._destroyed=false;this._checkEndRafId=null;this._value=e,this._springConfig=n.spring??{stiffness:100,damping:15},typeof e=="number"&&(this._springValue=_(e,{...this._springConfig,onUpdate:i=>{this._destroyed||(this._value=i,this._velocity=this._springValue?.getVelocity()??0,this._notify());}}));}get(){return this._value}getVelocity(){return this._velocity}isAnimating(){return this._isAnimating}isDestroyed(){return this._destroyed}set(e,n=true){if(!this._destroyed)if(this._checkEndRafId!==null&&(cancelAnimationFrame(this._checkEndRafId),this._checkEndRafId=null),typeof e=="number"&&this._springValue&&n){this._isAnimating=true,this._emit("animationStart"),this._springValue.set(e);let i=()=>{if(this._destroyed){this._checkEndRafId=null;return}this._springValue&&Math.abs(this._springValue.getVelocity())<.01?(this._isAnimating=false,this._checkEndRafId=null,this._emit("animationEnd")):this._isAnimating?this._checkEndRafId=requestAnimationFrame(i):this._checkEndRafId=null;};this._checkEndRafId=requestAnimationFrame(i);}else this._value=e,this._velocity=0,this._notify();}jump(e){this._destroyed||(this._value=e,this._velocity=0,typeof e=="number"&&this._springValue&&this._springValue.jump(e),this._isAnimating=false,this._notify());}stop(){this._checkEndRafId!==null&&(cancelAnimationFrame(this._checkEndRafId),this._checkEndRafId=null),this._springValue&&this._springValue.stop(),this._isAnimating=false,this._emit("animationEnd");}subscribe(e){return this._subscribers.add(e),e(this._value),()=>{this._subscribers.delete(e);}}on(e,n){return this._eventListeners.has(e)||this._eventListeners.set(e,new Set),this._eventListeners.get(e).add(n),()=>{this._eventListeners.get(e)?.delete(n);}}setConfig(e){this._springConfig={...this._springConfig,...e},this._springValue&&this._springValue.setConfig(e);}destroy(){this._destroyed=true,this._checkEndRafId!==null&&(cancelAnimationFrame(this._checkEndRafId),this._checkEndRafId=null),this._subscribers.clear(),this._eventListeners.clear(),this._springValue&&(this._springValue.destroy(),this._springValue=null);}_notify(){this._subscribers.forEach(e=>{try{e(this._value);}catch(n){console.error("MotionValue subscriber error:",n);}}),this._emit("change");}_emit(e){this._eventListeners.get(e)?.forEach(n=>{try{n();}catch(i){console.error(`MotionValue ${e} listener error:`,i);}});}};function Pn(t,e){return new te(t,e)}function nt(t,e){let n=new te(e(t.get())),i=t.subscribe(s=>{n.jump(e(s));}),r=n.destroy.bind(n);return n.destroy=()=>{i(),r();},n}function wn(t,e,n,i={}){let[r,s]=e,[o,a]=n,l=s-r;return nt(t,u=>{if(l===0)return o;let c=(u-r)/l;return i.clamp&&(c=Math.max(0,Math.min(1,c))),o+c*(a-o)})}function Mn(t,e={}){let{config:n={},autoPlay:i=false,onUpdate:r,onComplete:s}=e,o=t.getTotalLength?.()??0;t.style.strokeDasharray=String(o),t.style.strokeDashoffset=String(o);let a=0,l=false,u=null,c=null,d=_(0,n),p=d.subscribe(g=>{if(l)return;a=g;let f=o*(1-g);t.style.strokeDashoffset=String(f),r?.(g);}),h=()=>new Promise(g=>{let f=()=>{u=null,l||!d.isAnimating()?g():u=requestAnimationFrame(f);};c=setTimeout(()=>{c=null,f();},16);}),m={play:async(g=1)=>{l||(d.set(g),await h(),s?.());},reverse:async()=>{l||(d.set(0),await h(),s?.());},set:(g,f=false)=>{if(!l)if(f)d.set(g);else {d.jump(g),a=g;let x=o*(1-g);t.style.strokeDashoffset=String(x);}},get:()=>a,pause:()=>{l||d.stop();},resume:()=>{l||d.set(a);},reset:()=>{l||(d.jump(0),a=0,t.style.strokeDashoffset=String(o));},isAnimating:()=>d.isAnimating(),destroy:()=>{l=true,u!==null&&(cancelAnimationFrame(u),u=null),c!==null&&(clearTimeout(c),c=null),p(),d.destroy();}};return i&&m.play(),m}function En(t){return t.getTotalLength?.()??0}function An(t,e=0){let n=t.getTotalLength?.()??0;t.style.strokeDasharray=String(n),t.style.strokeDashoffset=String(n*(1-e));}function Rn(t,e){try{let n=t.getTotalLength();return t.getPointAtLength(n*Math.max(0,Math.min(1,e)))}catch{return null}}function ne(t){let e=t.getBoundingClientRect();return {x:e.left+window.scrollX,y:e.top+window.scrollY,width:e.width,height:e.height}}function Ve(t,e,n,i={}){let{config:r={},position:s=true,size:o=true,onComplete:a,onUpdate:l}=i,u=e.x-n.x,c=e.y-n.y,d=n.width===0?1:e.width/n.width,p=n.height===0?1:e.height/n.height,h=0,m=false,g=false,f=null,x=null,v=null,S=_(0,r),b=t.style.transform,y=t.style.transformOrigin;o&&(t.style.transformOrigin="0 0");let T=P=>{h=P;let R=1-P,w=[];if(s&&w.push(`translate(${u*R}px, ${c*R}px)`),o&&(d!==1||p!==1)){let V=1+(d-1)*R,I=1+(p-1)*R;w.push(`scale(${V}, ${I})`);}t.style.transform=w.length>0?w.join(" "):"";try{l?.(P);}catch(V){console.error("[SpringKit] FLIP onUpdate error:",V);}};T(0);let A=()=>{t.style.transform=b,t.style.transformOrigin=y;};return {play:async()=>{if(!g)return m=true,new Promise(P=>{v=P;let R=S.subscribe(V=>{if(g){R(),v=null,P();return}T(V);});S.set(1);let w=()=>{if(f=null,g){R(),A(),v=null,P();return}if(S.isAnimating())f=requestAnimationFrame(w);else {m=false,R(),A();try{a?.();}catch(V){console.error("[SpringKit] FLIP onComplete error:",V);}v=null,P();}};x=setTimeout(()=>{x=null,w();},16);})},getProgress:()=>h,cancel:()=>{g=true,m=false,f!==null&&(cancelAnimationFrame(f),f=null),x!==null&&(clearTimeout(x),x=null),S.stop(),A(),v&&(v(),v=null);},isAnimating:()=>m}}async function Vn(t,e,n={}){let i=ne(t);await e(),t.offsetHeight;let r=ne(t);await Ve(t,i,r,n).play();}async function Ln(t,e,n={}){let i=t.map(s=>ne(s));await e(),document.body.offsetHeight;let r=t.map((s,o)=>{let a=ne(s);return Ve(s,i[o],a,n)});await Promise.all(r.map(s=>s.play()));}export{re as AnimationState,te as MotionValue,lt as adjustBounce,at as adjustSpeed,un as allTo,Fe as animate,Ut as animateAll,Tn as applyStagger,wt as applyValuesToElement,$e as buildTransformString,ie as calculateDampingRatio,mt as calculatePeriod,ke as calculateStaggerDelays,Je as centerStagger,$ as clamp,vt as clearWarnings,ct as configFromBounce,ut as configFromDuration,bn as createAutoLayout,Kt as createDragSpring,st as createFeeling,Ve as createFlip,Jt as createGestures,Ee as createLayoutGroup,Ge as createLongPressGesture,We as createMorph,pn as createMorphSequence,Pn as createMotionValue,Mt as createOrchestration,rn as createParallax,Mn as createPathAnimation,Oe as createPinchGesture,Xe as createRotateGesture,sn as createScrollLinkedValue,nn as createScrollProgress,Zt as createScrollSpring,on as createScrollTrigger,hn as createSharedLayoutContext,W as createSpringGroup,_ as createSpringValue,je as createSwipeGesture,Me as createTimeline,kt as createTrail,At as createVariantPreset,Sn as customStagger,Dt as decay,ht as degToRad,et as edgeStagger,Vn as flip,Ln as flipBatch,En as getPathLength,ot as getPhysicsPreset,Rn as getPointAtProgress,xt as getVariant,z as globalLoop,Ae as gridStagger,He as hexToRgb,Ue as hslToRgb,Nt as interpolate,zt as interpolateColor,Ct as isAnimatable,ft as isCriticallyDamped,Yt as isKeyframeArray,dt as isOverdamped,Tt as isTransformProperty,pt as isUnderdamped,Vt as isVariant,Rt as isVariants,Ft as keyframes,U as lerp,ae as linearStagger,gt as mapRange,ne as measureElement,St as mergeVariants,wn as motionMapRange,It as parallel,oe as parseColor,_t as parseKeyframeArray,Pt as parseValueWithUnit,Le as physicsPresets,An as preparePathForAnimation,bt as radToDeg,tt as randomStagger,Ie as resolveVariant,vn as reverseStagger,Pe as rgbToHex,en as rgbToHsl,an as scrollEasings,Lt as sequence,fn as shapes,le as simulateSpring,Re as spiralStagger,de as spring,rt as springPresets,$t as stagger,Cn as staggerPresets,nt as transformValue,ln as tween,pe as validateDecayConfig,yt as validateDragConfig,me as validateSpringConfig,Et as variantPresets,xn as waveStagger};//# sourceMappingURL=springkit.mjs.map
//# sourceMappingURL=springkit.mjs.map