import Nt,{createContext,useRef,useState,useContext,useCallback,useEffect,memo,useLayoutEffect,useMemo,cloneElement,Children,isValidElement}from'react';import {jsx,Fragment}from'react/jsx-runtime';var J={stiffness:100,damping:10,mass:1,velocity:0,restSpeed:.01,restDelta:.01,clamp:false};function Tt(n,e,t,r){let{stiffness:i=100,damping:s=10,mass:o=1,restSpeed:a=.01,restDelta:c=.01}=r,u=t-n,l=Math.abs(u),m=Math.abs(e);if(l<=c&&m<=a)return {position:t,velocity:0,isRest:true};let p=1/60,d=i*u,f=m>1e-4?s*e:0,g=(d-f)/o,h=e+g*p,b=n+h*p,S=l<=c&&Math.abs(h)<=a;return {position:b,velocity:h,isRest:S}}var He=class{constructor(){this.animations=new Set;this.animationMap=new WeakMap;this.rafId=null;this.isRunning=false;this.lastTime=0;this.nextId=1;this.idMap=new WeakMap;this.frameListeners=new Set;this.registry=new FinalizationRegistry(e=>{this.cleanupCallbacks.forEach(t=>t(e));});this.cleanupCallbacks=new Set;this.tick=()=>{let e=performance.now(),t=e-this.lastTime,r=Math.min(t,64);this.lastTime=e;for(let s of this.frameListeners)s(r);let i=[];for(let s of this.animations){let o=s.deref();if(!o){i.push(s);continue}o.update(e),o.isComplete()&&(i.push(s),this.animationMap.delete(o),this.idMap.delete(o));}for(let s=0;s<i.length;s++)this.animations.delete(i[s]);this.animations.size>0?this.rafId=requestAnimationFrame(this.tick):this.stop();};}add(e){let t=this.idMap.get(e);if(t!==void 0)return t;let r=this.nextId++,i=new WeakRef(e);return this.animations.add(i),this.animationMap.set(e,i),this.idMap.set(e,r),this.registry.register(e,r),this.start(),r}remove(e){let t=this.animationMap.get(e);t&&(this.animations.delete(t),this.animationMap.delete(e),this.idMap.delete(e)),this.animations.size===0&&this.stop();}onCleanup(e){return this.cleanupCallbacks.add(e),()=>this.cleanupCallbacks.delete(e)}onFrame(e){return this.frameListeners.add(e),()=>this.frameListeners.delete(e)}start(){this.isRunning||(this.isRunning=true,this.lastTime=performance.now(),this.tick());}stop(){this.isRunning=false,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null);}get size(){return this.animations.size}getAliveCount(){let e=0;for(let t of this.animations)t.deref()&&e++;return e}getFPS(){let e=performance.now()-this.lastTime;return e>0?Math.round(1e3/e):60}},ye=new He;function $(n,e,t){let r=Math.min(e,t),i=Math.max(e,t);return Math.max(r,Math.min(i,n))}function ee(n,e,t){return n+(e-n)*t}var Pt=typeof process<"u"&&process.env?.NODE_ENV!=="production",Ct=new Set;function Ce(n){!Pt||Ct.has(n)||(Ct.add(n),console.warn(`[SpringKit] ${n}`));}function Mt(n){if(!Pt)return;let{stiffness:e=100,damping:t=10,mass:r=1}=n;e>400&&t<10&&Ce(`High stiffness (${e}) with low damping (${t}) may cause excessive oscillation. Consider increasing damping to at least ${Math.round(e/20)} for smoother animation.`),e<20&&Ce(`Very low stiffness (${e}) will result in sluggish animation. Consider using stiffness >= 50 for more responsive feel.`),t>e&&Ce(`Damping (${t}) is higher than stiffness (${e}), which removes the "springy" feel. Consider reducing damping for bouncier animation.`),r<=0&&Ce(`Mass must be positive. Got ${r}. Using default mass of 1.`),r>10&&Ce(`High mass (${r}) will make the animation very slow. Consider mass between 0.5 and 5 for typical use cases.`);}var Ge=class{constructor(e,t,r={}){this.state="idle";this.resolveComplete=null;Mt(r),this.from=e,this.to=t,this.clampedFrom=e,this.clampedTo=t,this.position=e,this.velocity=r.velocity??0,this.target=t,this.config={...J,...r,stiffness:r.stiffness??J.stiffness,damping:r.damping??J.damping,mass:r.mass??J.mass,restSpeed:r.restSpeed??J.restSpeed,restDelta:r.restDelta??J.restDelta},this.finished=new Promise(i=>{this.resolveComplete=i;});}start(){return this.state==="running"?this:(this.state="running",this.config.onStart?.(),ye.add(this),this)}stop(){this.state="idle",ye.remove(this);}pause(){this.state==="running"&&(this.state="paused",ye.remove(this));}resume(){this.state==="paused"&&(this.state="running",ye.add(this));}reverse(){let e=this.from;this.from=this.to,this.to=e,this.clampedFrom=this.from,this.clampedTo=this.to,this.target=this.to;}set(e){this.to=e,this.clampedTo=e,this.target=e;}setWithVelocity(e,t){this.from=this.position,this.clampedFrom=this.position,this.to=e,this.clampedTo=e,this.target=e,t!==void 0&&(this.velocity=t),this.state!=="running"&&this.start();}update(e){if(this.state!=="running")return;let t=Tt(this.position,this.velocity,this.target,this.config);if(this.position=t.position,this.velocity=t.velocity,this.config.clamp){let r=Math.min(this.clampedFrom,this.clampedTo),i=Math.max(this.clampedFrom,this.clampedTo);this.position=$(this.position,r,i);}this.config.onUpdate?.(this.position),t.isRest&&(this.state="complete",ye.remove(this),this.position=this.target,this.config.onUpdate?.(this.position),this.config.onComplete?.(),this.config.onRest?.(),this.resolveComplete?.());}isAnimating(){return this.state==="running"}isPaused(){return this.state==="paused"}isComplete(){return this.state==="complete"}getValue(){return this.position}getVelocity(){return this.velocity}destroy(){this.stop(),this.config.onUpdate=void 0,this.config.onStart=void 0,this.config.onComplete=void 0,this.config.onRest=void 0;}};function Rt(n,e,t){return new Ge(n,e,t)}var Ye=class{constructor(e,t={}){this.currentAnimation=null;this.subscribers=new Set;this.resolveComplete=null;this.value=e,this.config={...J,...t},this.finishedPromise=new Promise(r=>{this.resolveComplete=r;});}get(){return this.value}getVelocity(){return this.currentAnimation?.getVelocity()??0}set(e,t={}){this.currentAnimation&&(this.currentAnimation.destroy(),this.currentAnimation=null),this.finishedPromise=new Promise(o=>{this.resolveComplete=o;});let r={...this.config,...t},i=r.onUpdate,s=r.onComplete;this.currentAnimation=Rt(this.value,e,{...r,onUpdate:o=>{this.value=o,this.notify(),i?.(o);},onComplete:()=>{s?.(),this.resolveComplete&&this.resolveComplete();}}),this.currentAnimation.start();}jump(e){this.currentAnimation&&(this.currentAnimation.destroy(),this.currentAnimation=null),this.value=e,this.notify();}stop(){this.currentAnimation&&(this.currentAnimation.destroy(),this.currentAnimation=null),this.resolveComplete&&this.resolveComplete();}setConfig(e){this.config={...this.config,...e};}subscribe(e){return this.subscribers.add(e),e(this.value),()=>{this.subscribers.delete(e);}}isAnimating(){return this.currentAnimation?.isAnimating()??false}get finished(){return this.finishedPromise}notify(){for(let e of this.subscribers)e(this.value);}destroy(){this.currentAnimation?.destroy(),this.currentAnimation=null,this.subscribers.clear();}};function I(n,e){return new Ye(n,e)}var Xe=class{constructor(e,t={}){this.subscribers=new Set;this.resolveComplete=null;this.config={...J,...t},this.values=new Map;for(let[r,i]of Object.entries(e)){let s=I(i,this.config);s.subscribe(()=>this.notify()),this.values.set(r,s);}this.finishedPromise=Promise.resolve(),this.resetPromise();}resetPromise(){this.finishedPromise=new Promise(e=>{this.resolveComplete=e;});}get(){let e={};for(let[t,r]of this.values)e[t]=r.get();return e}getValue(e){return this.values.get(e)?.get()??0}set(e,t={}){this.resetPromise();let r=[];for(let[i,s]of Object.entries(e)){let o=this.values.get(i);o&&(o.set(s,t),r.push(o.finished));}Promise.all(r).then(()=>{this.resolveComplete&&this.resolveComplete();});}jump(e){for(let[t,r]of Object.entries(e)){let i=this.values.get(t);i&&i.jump(r);}}subscribe(e){return this.subscribers.add(e),e(this.get()),()=>this.subscribers.delete(e)}isAnimating(){for(let e of this.values.values())if(e.isAnimating())return  true;return  false}get finished(){return this.finishedPromise}notify(){let e=this.get();for(let t of this.subscribers)t(e);}destroy(){for(let e of this.values.values())e.destroy();this.subscribers.clear();}};function _(n,e){return new Xe(n,e)}function wt(n,e){if(!n)return {values:{},transition:{}};let t=typeof n=="function"?n(e):n,{transition:r={},...i}=t;return {values:i,transition:r}}function ve(n,e,t){return !n||!e?{values:{},transition:{}}:wt(n[e],t)}function _e(n,e){let{staggerChildren:t=0,staggerDirection:r=1,delayChildren:i=0}=e,s=[];for(let o=0;o<n;o++){let a=r===-1?n-1-o:o;s.push(i+a*t);}return s}var Be=class{constructor(e,t={}){this.subscribers=new Set;this.frameCount=0;this.pendingUpdates=new Map;let{followDelay:r=2,...i}=t;this.followDelay=r,this.leader=I(0,i),this.springs=[];for(let s=0;s<e;s++){let o=I(0,i);this.springs.push(o);}this.leader.subscribe(()=>{this.frameCount++,this.scheduleFollowerUpdates();});}scheduleFollowerUpdates(){let e=this.leader.get();for(let t=0;t<this.springs.length;t++){let r=(t+1)*this.followDelay,i=this.frameCount+r;this.pendingUpdates.set(t,i),this.scheduleFollowerUpdate(t,e,i,r);}}scheduleFollowerUpdate(e,t,r,i){let s=this.frameCount,o=r-s;if(o<=0)this.springs[e].set(t);else {let a=Math.max(o*16,0);setTimeout(()=>{this.pendingUpdates.get(e)===r&&this.springs[e].set(t);},a);}}set(e){this.leader.set(e);}jump(e){this.leader.jump(e);for(let t of this.springs)t.jump(e);}getValues(){return this.springs.map(e=>e.get())}subscribe(e){this.subscribers.add(e);let t=[];for(let r of this.springs)t.push(r.subscribe(()=>{this.notify();}));return e(this.getValues()),()=>{this.subscribers.delete(e);for(let r of t)r();}}notify(){let e=this.getValues();for(let t of this.subscribers)t(e);}destroy(){this.leader.destroy();for(let e of this.springs)e.destroy();this.subscribers.clear(),this.pendingUpdates.clear();}};function Ne(n,e){return new Be(n,e)}var bn={axis:"both",rubberBand:false,rubberBandFactor:.5,elasticBounce:.3,momentum:true,momentumDecay:.95,stiffness:200,damping:20,mass:1,restSpeed:.01,restDelta:.01,clamp:false},qe=class{constructor(e,t={}){this.enabled=true;this.position={x:0,y:0};this._isDragging=false;this.startPosition={x:0,y:0};this.pointerStart={x:0,y:0};this.lastPosition={x:0,y:0};this.lastTime=0;this.velocity={x:0,y:0};this.currentSnap=null;this.onPointerDown=e=>{!this.enabled||e.button!==0||(this._isDragging=true,this.startPosition={...this.position},this.pointerStart={x:e.clientX,y:e.clientY},this.lastPosition={x:e.clientX,y:e.clientY},this.lastTime=performance.now(),this.velocity={x:0,y:0},this.element.setPointerCapture(e.pointerId),this.element.addEventListener("pointermove",this.onPointerMove),this.element.addEventListener("pointerup",this.onPointerUp),this.element.addEventListener("pointercancel",this.onPointerUp),this.config.onDragStart&&this.config.onDragStart(e));};this.onPointerMove=e=>{let t=performance.now(),r=t-this.lastTime;this.velocity={x:(e.clientX-this.lastPosition.x)/Math.max(r,1),y:(e.clientY-this.lastPosition.y)/Math.max(r,1)},this.lastPosition={x:e.clientX,y:e.clientY},this.lastTime=t;let i=this.startPosition.x+(e.clientX-this.pointerStart.x),s=this.startPosition.y+(e.clientY-this.pointerStart.y);this.config.bounds&&(i=this.applyBounds(i,this.config.bounds.left??-1/0,this.config.bounds.right??1/0),s=this.applyBounds(s,this.config.bounds.top??-1/0,this.config.bounds.bottom??1/0)),this.config.axis==="x"?s=0:this.config.axis==="y"&&(i=0),this.position={x:i,y:s},this.config.onDrag&&this.config.onDrag(i,s,e),this.config.onUpdate&&this.config.onUpdate(i,s);};this.onPointerUp=e=>{if(this._isDragging=false,this.element.releasePointerCapture(e.pointerId),this.element.removeEventListener("pointermove",this.onPointerMove),this.element.removeEventListener("pointerup",this.onPointerUp),this.element.removeEventListener("pointercancel",this.onPointerUp),this.config.snap?.snapOnRelease!==false){let t=this.findNearestSnapPoint();if(t){this.snapTo(t),this.config.onDragEnd&&this.config.onDragEnd(this.position.x,this.position.y,this.velocity);return}}this.release(this.velocity.x*16,this.velocity.y*16),this.config.onDragEnd&&this.config.onDragEnd(this.position.x,this.position.y,this.velocity);};this.element=e,this.config={...bn,...t};let r={stiffness:this.config.stiffness,damping:this.config.damping,mass:this.config.mass,restSpeed:this.config.restSpeed,restDelta:this.config.restDelta,clamp:this.config.clamp};this.springX=I(0,r),this.springY=I(0,r),this.springX.subscribe(()=>{this._isDragging||(this.position.x=this.springX.get(),this.config.onUpdate&&this.config.onUpdate(this.position.x,this.position.y));}),this.springY.subscribe(()=>{this._isDragging||(this.position.y=this.springY.get(),this.config.onUpdate&&this.config.onUpdate(this.position.x,this.position.y));}),this.setupPointerEvents();}setupPointerEvents(){this.element.addEventListener("pointerdown",this.onPointerDown);}applyBounds(e,t,r){if(!isFinite(t)&&!isFinite(r))return e;let i=isFinite(t)?t:-1/0,s=isFinite(r)?r:1/0;if(this.config.rubberBand){let o=this.config.rubberBandFactor||.5;if(e<i)return i-(i-e)*o;if(e>s)return s+(e-s)*o}return $(e,i,s)}findNearestSnapPoint(){let e=this.config.snap;if(!e)return null;if(e.grid){let t=Math.round(this.position.x/e.grid.x)*e.grid.x,r=Math.round(this.position.y/e.grid.y)*e.grid.y;return {x:t,y:r}}if(e.points&&e.points.length>0){let t=Math.sqrt(this.velocity.x**2+this.velocity.y**2),r=e.velocityThreshold??.5;if(t>r)return null;let i=null,s=1/0;for(let o of e.points){let a=this.position.x-o.x,c=this.position.y-o.y,u=Math.sqrt(a*a+c*c),l=o.radius??50;u<l&&u<s&&(s=u,i=o);}return i}return null}getEffectiveBounds(){let e={left:this.config.bounds?.left??this.config.constraints?.bounds?.left??-1/0,right:this.config.bounds?.right??this.config.constraints?.bounds?.right??1/0,top:this.config.bounds?.top??this.config.constraints?.bounds?.top??-1/0,bottom:this.config.bounds?.bottom??this.config.constraints?.bounds?.bottom??1/0},t=this.config.constraints;if(t?.constrainToParent&&this.element.parentElement){let i=this.element.parentElement.getBoundingClientRect(),s=this.element.getBoundingClientRect(),o=this.normalizePadding(t.constraintPadding);e.left=Math.max(e.left,o.left),e.right=Math.min(e.right,i.width-s.width-o.right),e.top=Math.max(e.top,o.top),e.bottom=Math.min(e.bottom,i.height-s.height-o.bottom);}if(t?.constrainToElement){let r=t.constrainToElement.getBoundingClientRect(),i=this.element.getBoundingClientRect(),s=this.element.parentElement?.getBoundingClientRect()??{left:0,top:0},o=this.normalizePadding(t.constraintPadding),a=r.left-s.left,c=r.top-s.top;e.left=Math.max(e.left,a+o.left),e.right=Math.min(e.right,a+r.width-i.width-o.right),e.top=Math.max(e.top,c+o.top),e.bottom=Math.min(e.bottom,c+r.height-i.height-o.bottom);}return e}normalizePadding(e){return typeof e=="number"?{top:e,right:e,bottom:e,left:e}:{top:e?.top??0,right:e?.right??0,bottom:e?.bottom??0,left:e?.left??0}}enable(){this.enabled=true;}disable(){this.enabled=false,this._isDragging&&(this._isDragging=false);}isEnabled(){return this.enabled}isDragging(){return this._isDragging}reset(){this.springX.jump(0),this.springY.jump(0),this.position={x:0,y:0},this.velocity={x:0,y:0},this.currentSnap=null,this.config.onUpdate&&this.config.onUpdate(0,0);}getPosition(){return {...this.position}}getVelocity(){return {...this.velocity}}setPosition(e,t){this.position={x:e,y:t},this.springX.jump(e),this.springY.jump(t);}jumpTo(e,t){this.position={x:e,y:t},this.springX.jump(e),this.springY.jump(t),this.config.onUpdate&&this.config.onUpdate(e,t);}animateTo(e,t){this.springX.set(e),this.springY.set(t);}release(e,t){let r=this.getEffectiveBounds(),{left:i,right:s,top:o,bottom:a}=r,c=this.position.x,u=this.position.y;if(this.config.momentum){let l=this.config.momentumDecay??.95,m=e*(1/(1-l))*.1,p=t*(1/(1-l))*.1;c+=m,u+=p;}c=$(c,i,s),u=$(u,o,a),this.config.onBoundsHit&&(this.position.x<i&&this.config.onBoundsHit("left"),this.position.x>s&&this.config.onBoundsHit("right"),this.position.y<o&&this.config.onBoundsHit("top"),this.position.y>a&&this.config.onBoundsHit("bottom")),(c!==this.position.x||this.position.x<i||this.position.x>s)&&this.springX.set(c,{velocity:e}),(u!==this.position.y||this.position.y<o||this.position.y>a)&&this.springY.set(u,{velocity:t});}snapToNearest(){let e=this.findNearestSnapPoint();e&&this.snapTo(e);}snapTo(e){this.currentSnap=e,this.config.onSnapStart&&this.config.onSnapStart(e),this.springX.set(e.x),this.springY.set(e.y),setTimeout(()=>{this.currentSnap===e&&this.config.onSnapComplete&&this.config.onSnapComplete(e);},500);}setConstraints(e){this.config.constraints=e;}setSnap(e){this.config.snap=e;}destroy(){this.element.removeEventListener("pointerdown",this.onPointerDown),this.springX.destroy(),this.springY.destroy();}};function ze(n,e){return new qe(n,e)}function We(n){if(n.match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i))return yn(n);let t=n.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/i);if(t)return {r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)};let r=n.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*[\d.]+\)/i);if(r)return {r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10)};let i=n.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/i);return i?vn(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)):{r:0,g:0,b:0}}function Vt(n,e,t){let r=i=>Math.round(Math.max(0,Math.min(255,i))).toString(16).padStart(2,"0");return `#${r(n)}${r(e)}${r(t)}`}function yn(n){let e=n.replace("#","");return e.length===3?{r:parseInt(e.charAt(0)+e.charAt(0),16),g:parseInt(e.charAt(1)+e.charAt(1),16),b:parseInt(e.charAt(2)+e.charAt(2),16)}:{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}}function vn(n,e,t){if(n=(n%360+360)%360,e=Math.max(0,Math.min(100,e))/100,t=Math.max(0,Math.min(100,t))/100,e===0){let o=Math.round(t*255);return {r:o,g:o,b:o}}let r=(o,a,c)=>(c<0&&(c+=1),c>1&&(c-=1),c<1/6?o+(a-o)*6*c:c<1/2?a:c<2/3?o+(a-o)*(2/3-c)*6:o),i=t<.5?t*(1+e):t+e-t*e,s=2*t-i;return {r:Math.round(r(s,i,n/360+1/3)*255),g:Math.round(r(s,i,n/360)*255),b:Math.round(r(s,i,n/360-1/3)*255)}}function xn(n,e,t){let r=We(n),i=We(e);return Vt(Math.round(ee(r.r,i.r,t)),Math.round(ee(r.g,i.g,t)),Math.round(ee(r.b,i.b,t)))}function Ze(n,e={}){let{offset:t=["start","end"],smooth:r=0}=e,i=0,s=0,o=0,a=performance.now(),c=0,u=0,l=null,m=new Set,p=()=>{let h=window.scrollY,b=window.innerHeight,S=performance.now(),x=Math.max(S-a,1);c=(h-o)/x*1e3,u=h>o?1:h<o?-1:0,o=h,a=S;let y,V=true,C=1;if(n){let P=n.getBoundingClientRect(),A=P.top+h,F=P.height,Y=t[0]==="start"?A:t[0]==="center"?A+F/2:A+F,H=t[1]==="start"?b:t[1]==="center"?b/2:0,N=Y-b,W=Y-H;y=$((h-N)/(W-N),0,1),V=P.top<b&&P.bottom>0,C=V?$((Math.min(P.bottom,b)-Math.max(P.top,0))/P.height,0,1):0;}else {let P=document.documentElement.scrollHeight-b;y=P>0?$(h/P,0,1):0;}return r>0?(s=ee(s,y,1-r),i=s):i=y,{progress:i,scrollY:h,velocity:c,direction:u,isInView:V,visibleRatio:C}},d=h=>{m.forEach(b=>b(h));},f=()=>{l||(l=requestAnimationFrame(()=>{l=null;let h=p();d(h);}));},g=p();return window.addEventListener("scroll",f,{passive:true}),window.addEventListener("resize",f,{passive:true}),{get:()=>i,getInfo:()=>p(),subscribe:h=>(m.add(h),h(g),()=>m.delete(h)),destroy:()=>{l&&cancelAnimationFrame(l),window.removeEventListener("scroll",f),window.removeEventListener("resize",f),m.clear();}}}function Qe(n,e={}){let{speed:t=.5,direction:r="vertical",easing:i=m=>m,rootMargin:s="0px"}=e,o=0,a=false,c=null,u=()=>{if(!a)return;let m=n.getBoundingClientRect(),p=window.innerHeight,d=m.top+m.height/2,f=p/2,h=(d-f)/p;o=i(Math.abs(h))*Math.sign(h)*t*100,r==="vertical"?n.style.transform=`translate3d(0, ${o}px, 0)`:n.style.transform=`translate3d(${o}px, 0, 0)`;};c=new IntersectionObserver(m=>{let p=m[0];p&&(a=p.isIntersecting,a&&u());},{rootMargin:s}),c.observe(n);let l=()=>{a&&requestAnimationFrame(u);};return window.addEventListener("scroll",l,{passive:true}),{getOffset:()=>o,update:u,destroy:()=>{c?.disconnect(),window.removeEventListener("scroll",l),n.style.transform="";}}}function Ke(n,e={}){let{start:t="top",end:r="bottom",startOffset:i=0,endOffset:s=0,onEnter:o,onLeave:a,onProgress:c,once:u=false,scrub:l=false}=e,m=false,p=0,d=false,f=0,g=null,h=(x,y)=>{if(typeof x=="number")return x;switch(x){case "top":return y.top;case "center":return y.top+y.height/2;case "bottom":return y.bottom}},b=()=>{let x=n.getBoundingClientRect(),y=window.innerHeight,V=h(t,x)+i,C=h(r,x)+s,P=y,A=0,F=(P-V)/(P-A),Y=(P-C)/(P-A),H=$(F/(Y||1),0,1);typeof l=="number"&&l>0?(f=ee(f,H,1-l),p=f):p=H;let N=x.top<y&&x.bottom>0;return {progress:p,scrollY:window.scrollY,velocity:0,direction:0,isInView:N,visibleRatio:N?$((Math.min(x.bottom,y)-Math.max(x.top,0))/x.height,0,1):0}},S=()=>{g||(g=requestAnimationFrame(()=>{g=null;let x=b(),y=m;m=x.progress>0&&x.progress<1,!y&&m&&(!u||!d)&&(d=true,o?.(x)),y&&!m&&a?.(x),(m||l)&&c?.(x);}));};return window.addEventListener("scroll",S,{passive:true}),window.addEventListener("resize",S,{passive:true}),S(),{isActive:()=>m,getProgress:()=>p,refresh:()=>{b();},destroy:()=>{g&&cancelAnimationFrame(g),window.removeEventListener("scroll",S),window.removeEventListener("resize",S);}}}function Je(n,e){let{inputRange:t,outputRange:r,clamp:i=true,easing:s}=e;if(t.length!==r.length)throw new Error("inputRange and outputRange must have the same length");let o=r[0],a=typeof o=="string"&&(o.startsWith("#")||o.startsWith("rgb")||o.startsWith("hsl")),c=o??0,u=new Set,l=p=>{let d=p;s&&(d=s(d));let f=t[0]??0,g=t[t.length-1]??1;i&&(d=$(d,f,g));let h=0;for(let C=0;C<t.length-1;C++){let P=t[C]??0,A=t[C+1]??1;if(d>=P&&d<=A){h=C;break}d>A&&(h=C+1);}let b=t[h]??0,S=t[h+1]??b,x=S!==b?(d-b)/(S-b):0,y=r[h]??0,V=r[h+1]??y;return a&&typeof y=="string"&&typeof V=="string"?xn(y,V,x):ee(y,V,x)},m=n.subscribe(p=>{c=l(p.progress),u.forEach(d=>d(c));});return {get:()=>c,subscribe:p=>(u.add(p),p(c),()=>u.delete(p)),destroy:()=>{m(),u.clear();}}}var et=0;function tt(n={}){let{defaults:e={},autoplay:t=false,repeat:r=0,yoyo:i=false,repeatDelay:s=0,onStart:o,onUpdate:a,onComplete:c,onRepeat:u}=n,l=[],m=new Map,p=new Map,d=new Map,f=0,g=0,h=false,b=false,S=false,x=0,y=null,V=0,C=false,P=0,A=v=>{if(v===void 0)return P;if(typeof v=="number")return v;if(v==="<"){let T=l[l.length-1];return T?T.startTime:0}if(v===">")return P;if(v.startsWith("+="))return P+parseFloat(v.slice(2));if(v.startsWith("-="))return P-parseFloat(v.slice(2));if(m.has(v))return m.get(v);let R=v.match(/^([a-zA-Z_]\w*)([+-]=?\d*\.?\d+)?$/);if(R){let T=R[1],L=R[2],w=T?m.get(T)??0:0;if(L){let E=parseFloat(L.replace("=",""));return w+E}return w}return P},F=v=>typeof v=="string"?document.querySelector(v):v instanceof HTMLElement?v:null,Y=v=>{let R={};for(let[T,L]of Object.entries(v))typeof L=="number"&&!["duration","delay"].includes(T)&&(R[T]=L);return R},H=(v,R)=>{let T=[],L={};for(let[w,E]of Object.entries(R))switch(w){case "x":T.push(`translateX(${E}px)`);break;case "y":T.push(`translateY(${E}px)`);break;case "z":T.push(`translateZ(${E}px)`);break;case "scale":T.push(`scale(${E})`);break;case "scaleX":T.push(`scaleX(${E})`);break;case "scaleY":T.push(`scaleY(${E})`);break;case "rotate":case "rotation":T.push(`rotate(${E}deg)`);break;case "rotateX":T.push(`rotateX(${E}deg)`);break;case "rotateY":T.push(`rotateY(${E}deg)`);break;case "rotateZ":T.push(`rotateZ(${E}deg)`);break;case "skewX":T.push(`skewX(${E}deg)`);break;case "skewY":T.push(`skewY(${E}deg)`);break;case "opacity":L.opacity=String(E);break;default:L[w]=typeof E=="number"?`${E}px`:String(E);}T.length>0&&(v.style.transform=T.join(" "));for(let[w,E]of Object.entries(L))v.style[w]=E;},N=(v,R)=>{let T={},L=getComputedStyle(v);for(let w of Object.keys(R))switch(w){case "opacity":T[w]=parseFloat(L.opacity)||1;break;case "x":case "y":case "z":case "scale":case "scaleX":case "scaleY":case "rotate":case "rotation":case "rotateX":case "rotateY":case "rotateZ":case "skewX":case "skewY":T[w]=w.startsWith("scale")?1:0;break;default:T[w]=parseFloat(L.getPropertyValue(w))||0;}return T},W=v=>{if(!h||S)return;let R=V?(v-V)/1e3:0;V=v,f+=b?-R:R,f=$(f,0,g);let T=p.get(Math.floor(f*1e3));T&&T.forEach(w=>w());let L=d.get(Math.floor(f*1e3));if(L!==void 0){S=true,L?.();return}for(let w of l){let E=$((f-w.startTime)/(w.endTime-w.startTime),0,1),G=f>=w.startTime&&f<=w.endTime;G&&!w.isActive&&(w.isActive=true,w.props.onStart?.()),w.isActive&&w.spring&&w.props.onUpdate?.(E),G&&E>=1&&!w.isComplete&&(w.isComplete=true,w.props.onComplete?.());}if(a?.(f/g),b&&f<=0||!b&&f>=g)if(r===-1||x<r){if(x++,u?.(x),i?b=!b:(f=0,l.forEach(w=>{w.isActive=false,w.isComplete=false;})),s>0){setTimeout(()=>{y=requestAnimationFrame(W);},s*1e3);return}}else {h=false,c?.();return}y=requestAnimationFrame(W);},k={to(v,R,T){let L=A(T)+(R.delay||0),w=R.duration||.5,E=L+w,G=F(v),X=Y(R),D={id:`segment_${et++}`,target:v,props:R,startTime:L,endTime:E,spring:null,isActive:false,isComplete:false};if(G&&Object.keys(X).length>0){let q=N(G,X),z={...e,...R.spring};D.spring=_(q,z),D.spring.subscribe(K=>{H(G,K);});let le=D.props.onStart;D.props.onStart=()=>{D.spring?.set(X),le?.();};}return l.push(D),P=E,g=Math.max(g,E),k},from(v,R,T){let L=A(T)+(R.delay||0),w=R.duration||.5,E=L+w,G=F(v),X=Y(R),D={id:`segment_${et++}`,target:v,props:R,startTime:L,endTime:E,spring:null,isActive:false,isComplete:false};if(G&&Object.keys(X).length>0){let q=N(G,X),z={...e,...R.spring};D.spring=_(X,z),H(G,X),D.spring.subscribe(K=>{H(G,K);});let le=D.props.onStart;D.props.onStart=()=>{D.spring?.set(q),le?.();};}return l.push(D),P=E,g=Math.max(g,E),k},fromTo(v,R,T,L){let w=A(L)+(T.delay||0),E=T.duration||.5,G=w+E,X=F(v),D=Y(R),q=Y(T),z={id:`segment_${et++}`,target:v,props:T,startTime:w,endTime:G,spring:null,isActive:false,isComplete:false};if(X&&Object.keys(q).length>0){let le={...e,...T.spring};z.spring=_(D,le),H(X,D),z.spring.subscribe(Fe=>{H(X,Fe);});let K=z.props.onStart;z.props.onStart=()=>{z.spring?.set(q),K?.();};}return l.push(z),P=G,g=Math.max(g,G),k},addLabel(v,R){let T=A(R);return m.set(v,T),k},call(v,R){let T=Math.floor(A(R)*1e3);return p.has(T)||p.set(T,[]),p.get(T).push(v),k},set(v,R,T){let L=F(v);if(L){let w=A(T);this.call(()=>{H(L,Y(R));},w);}return k},addPause(v,R){let T=Math.floor(A(v)*1e3);return d.set(T,R),k},play(){return C||(C=true,o?.()),h=true,S=false,V=0,y=requestAnimationFrame(W),k},pause(){return S=true,y&&(cancelAnimationFrame(y),y=null),k},resume(){return S&&(S=false,V=0,y=requestAnimationFrame(W)),k},reverse(){return b=!b,k},restart(){return f=b?g:0,x=0,C=false,l.forEach(v=>{v.isActive=false,v.isComplete=false;}),this.play()},seek(v){return typeof v=="string"?f=m.get(v)??0:f=$(v,0,g),k},kill(){h=false,y&&(cancelAnimationFrame(y),y=null),l.forEach(v=>v.spring?.destroy()),l.length=0,m.clear(),p.clear(),d.clear();},time:()=>f,duration:()=>g,progress:()=>g>0?f/g:0,isPlaying:()=>h&&!S,isReversed:()=>b,getById(v){return l.find(R=>R.id===v)}};return t&&k.play(),k}function Et(n){let e=[],t=/([MLCQAZHVST])([^MLCQAZHVST]*)/gi,i=n.matchAll(t);for(let s of i){let o=s[1],a=s[2];if(!o||a===void 0)continue;let c=o.toUpperCase(),u=a.trim().split(/[\s,]+/).filter(l=>l!=="").map(parseFloat).filter(l=>!isNaN(l));e.push({type:c,values:u});}return e}function Lt(n){return n.map(s=>{let{type:o,values:a}=s,c=[...a];switch(o){case "M":a[0]??0,a[1]??0;break;case "L":a[0]??0,a[1]??0;break;case "H":c[0]=a[0]??0,a[0]??0;break;case "V":c[0]=a[0]??0,a[0]??0;break;case "C":a[4]??0,a[5]??0;break;case "Q":a[2]??0,a[3]??0;break;case "A":a[5]??0,a[6]??0;break;}return {type:o,values:c}})}function At(n,e){let t=[];if(typeof document>"u"){for(let a of n)a.type==="M"||a.type==="L"?t.push({x:a.values[0]??0,y:a.values[1]??0}):a.type==="C"&&t.push({x:a.values[4]??0,y:a.values[5]??0,cp1x:a.values[0]??0,cp1y:a.values[1]??0,cp2x:a.values[2]??0,cp2y:a.values[3]??0});return t}let r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"path"),o="";for(let a of n)o+=a.type+a.values.join(" ");s.setAttribute("d",o),i.appendChild(s),document.body.appendChild(i);try{let c=s.getTotalLength()/(e-1);for(let u=0;u<e;u++){let l=s.getPointAtLength(u*c);t.push({x:l.x,y:l.y});}}finally{document.body.removeChild(i);}return t}function Ot(n,e,t){return {x:ee(n.x,e.x,t),y:ee(n.y,e.y,t)}}function kt(n){if(n.length===0)return "";let e=n[0],t=`M ${e.x} ${e.y}`;for(let r=1;r<n.length;r++){let i=n[r];t+=` L ${i.x} ${i.y}`;}return t}function Pe(n,e={}){let{spring:t={stiffness:120,damping:14},samples:r=100,onProgress:i,onComplete:s}=e,o=n,a=[],c=[],u=[],l=new Set,m=Et(n);a=At(Lt(m),r),u=[...a],c=[...a];let p=I(0,t);return p.subscribe(()=>{let d=p.get();i?.(d),u=a.map((f,g)=>Ot(f,c[g]??f,d)),o=kt(u),l.forEach(f=>f(o)),d>=.999&&s?.();}),{getPath:()=>o,getProgress:()=>p.get(),morphTo(d){let f=Et(d),g=At(Lt(f),r);for(a=[...u],c=g;a.length<c.length;)a.push(a[a.length-1]||{x:0,y:0});for(;c.length<a.length;)c.push(c[c.length-1]||{x:0,y:0});p.jump(0),p.set(1);},setProgress(d){let f=$(d,0,1);p.jump(f),u=a.map((g,h)=>Ot(g,c[h]??g,f)),o=kt(u),l.forEach(g=>g(o));},subscribe(d){return l.add(d),d(o),()=>l.delete(d)},destroy(){p.destroy(),l.clear();}}}function nt(n,e={}){if(n.length===0)throw new Error("At least one path is required");let t=0,r=n[0],i=Pe(r,e);return {getPath:()=>i.getPath(),getCurrentIndex:()=>t,morphToIndex(s){let o=$(s,0,n.length-1);if(o!==t){t=o;let a=n[o];i.morphTo(a);}},morphToNext(){this.morphToIndex((t+1)%n.length);},morphToPrevious(){this.morphToIndex((t-1+n.length)%n.length);},subscribe:s=>i.subscribe(s),destroy:()=>i.destroy()}}function Ae(n){let e=n.getBoundingClientRect(),t=getComputedStyle(n);return {x:e.left+window.scrollX,y:e.top+window.scrollY,width:e.width,height:e.height,opacity:parseFloat(t.opacity)||1,borderRadius:parseFloat(t.borderRadius)||0,scaleX:1,scaleY:1}}function Sn(n,e,t,r){let i=r.x!==void 0?e.x-t.x+(r.x-e.x):0,s=r.y!==void 0?e.y-t.y+(r.y-e.y):0,o=r.width!==void 0?r.width/t.width:1,a=r.height!==void 0?r.height/t.height:1;if(n.style.transform=`translate(${i}px, ${s}px) scale(${o}, ${a})`,n.style.transformOrigin="top left",r.opacity!==void 0&&(n.style.opacity=String(r.opacity)),r.borderRadius!==void 0){let c=r.borderRadius/Math.max(o,a);n.style.borderRadius=`${c}px`;}}function It(n){n.style.transform="",n.style.transformOrigin="",n.style.opacity="",n.style.borderRadius="";}function pe(n={}){let{spring:e={stiffness:300,damping:30},onAnimationStart:t,onAnimationComplete:r,crossfade:i=false,transition:s={}}=n,o=new Map,a=new Map,c=(f,g)=>{o.has(f)||o.set(f,[]);let h=o.get(f);if(!h.some(S=>S.element===g)){let S=Ae(g);h.push({id:f,element:g,measurement:S,spring:null,isAnimating:false}),a.has(f)||a.set(f,S);}},u=(f,g)=>{let h=o.get(f);if(!h)return;let b=h.findIndex(S=>S.element===g);if(b!==-1){let S=h[b];a.set(f,Ae(g)),S.spring?.destroy(),h.splice(b,1),h.length===0&&o.delete(f);}},l=(f,g,h)=>{f.spring?.destroy();({x:s.x||e,y:s.y||e,width:s.width||e,height:s.height||e,opacity:s.opacity||e,borderRadius:s.borderRadius||e});let S={x:g.x,y:g.y,width:g.width,height:g.height};i&&(S.opacity=g.opacity??1),g.borderRadius!==void 0&&(S.borderRadius=g.borderRadius),f.spring=_(S,e),f.isAnimating=true,t?.(f.id),f.spring.subscribe(V=>{Sn(f.element,g,h,V);});let x={x:h.x,y:h.y,width:h.width,height:h.height};i&&(x.opacity=h.opacity??1),h.borderRadius!==void 0&&(x.borderRadius=h.borderRadius),f.spring.set(x);let y=()=>{f.spring&&!f.spring.isAnimating()?(f.isAnimating=false,It(f.element),r?.(f.id)):f.isAnimating&&requestAnimationFrame(y);};requestAnimationFrame(y);};return {register:c,unregister:u,update:()=>{for(let[f,g]of o)for(let h of g){let b=a.get(f),S=Ae(h.element);b&&(b.x!==S.x||b.y!==S.y||b.width!==S.width||b.height!==S.height)&&l(h,b,S),h.measurement=S,a.set(f,S);}},forceUpdate:()=>{for(let[f,g]of o)for(let h of g)h.measurement=Ae(h.element),a.set(f,h.measurement);},destroy:()=>{for(let f of o.values())for(let g of f)g.spring?.destroy(),It(g.element);o.clear(),a.clear();}}}var Tn=0;function rt(){let n=new Map;return {createGroup(e){let t=e??`layout-group-${Tn++}`,r=pe();return n.set(t,r),r},getGroup(e){return n.get(e)},updateAll(){for(let e of n.values())e.update();},destroy(){for(let e of n.values())e.destroy();n.clear();}}}function ot(n={}){let{root:e=typeof document<"u"?document.body:null,attribute:t="data-layout-id",debounce:r=0,...i}=n;if(!e)return {update:()=>{},forceUpdate:()=>{},destroy:()=>{}};let s=pe(i),o=null,a=null,c=null,u=()=>{e.querySelectorAll(`[${t}]`).forEach(p=>{let d=p.getAttribute(t);d&&p instanceof HTMLElement&&s.register(d,p);});},l=()=>{c&&clearTimeout(c),r>0?c=setTimeout(()=>{u(),s.update();},r):(u(),s.update());};return u(),o=new MutationObserver(m=>{let p=false;for(let d of m)d.type==="childList"&&(d.addedNodes.forEach(f=>{f instanceof HTMLElement&&(f.hasAttribute(t)&&(p=true),f.querySelector(`[${t}]`)&&(p=true));}),d.removedNodes.forEach(f=>{if(f instanceof HTMLElement){let g=f.getAttribute(t);g&&s.unregister(g,f);}})),d.type==="attributes"&&d.attributeName===t&&(p=true);p&&l();}),o.observe(e,{childList:true,subtree:true,attributes:true,attributeFilter:[t]}),a=new ResizeObserver(()=>{l();}),a.observe(e),{update:()=>{u(),s.update();},forceUpdate:()=>{u(),s.forceUpdate();},destroy:()=>{c&&clearTimeout(c),o?.disconnect(),a?.disconnect(),s.destroy();}}}var Me=class{constructor(e,t={}){this._velocity=0;this._subscribers=new Set;this._eventListeners=new Map;this._springValue=null;this._isAnimating=false;this._destroyed=false;this._value=e,this._springConfig=t.spring??{stiffness:100,damping:15},typeof e=="number"&&(this._springValue=I(e,{...this._springConfig,onUpdate:r=>{this._destroyed||(this._value=r,this._velocity=this._springValue?.getVelocity()??0,this._notify());}}));}get(){return this._value}getVelocity(){return this._velocity}isAnimating(){return this._isAnimating}set(e,t=true){if(!this._destroyed)if(typeof e=="number"&&this._springValue&&t){this._isAnimating=true,this._emit("animationStart"),this._springValue.set(e);let r=()=>{this._springValue&&Math.abs(this._springValue.getVelocity())<.01?(this._isAnimating=false,this._emit("animationEnd")):this._isAnimating&&requestAnimationFrame(r);};requestAnimationFrame(r);}else this._value=e,this._velocity=0,this._notify();}jump(e){this._destroyed||(this._value=e,this._velocity=0,typeof e=="number"&&this._springValue&&this._springValue.jump(e),this._isAnimating=false,this._notify());}stop(){this._springValue&&this._springValue.jump(this._springValue.get()),this._isAnimating=false,this._emit("animationEnd");}subscribe(e){return this._subscribers.add(e),e(this._value),()=>{this._subscribers.delete(e);}}on(e,t){return this._eventListeners.has(e)||this._eventListeners.set(e,new Set),this._eventListeners.get(e).add(t),()=>{this._eventListeners.get(e)?.delete(t);}}setConfig(e){this._springConfig={...this._springConfig,...e};}destroy(){this._destroyed=true,this._subscribers.clear(),this._eventListeners.clear(),this._springValue&&(this._springValue.destroy(),this._springValue=null);}_notify(){this._subscribers.forEach(e=>{try{e(this._value);}catch(t){console.error("MotionValue subscriber error:",t);}}),this._emit("change");}_emit(e){this._eventListeners.get(e)?.forEach(t=>{try{t();}catch(r){console.error(`MotionValue ${e} listener error:`,r);}});}};function B(n,e){return new Me(n,e)}function Ut(n,e){let t=new Me(e(n.get()));return n.subscribe(r=>{t.jump(e(r));}),t}function Cn(n,e,t,r={}){let[i,s]=e,[o,a]=t;return Ut(n,c=>{let u=(c-i)/(s-i);return r.clamp&&(u=Math.max(0,Math.min(1,u))),o+u*(a-o)})}function me(n){let e=n.getBoundingClientRect();return {x:e.left+window.scrollX,y:e.top+window.scrollY,width:e.width,height:e.height}}function $t(n,e,t,r={}){let{config:i={},position:s=true,size:o=true,onComplete:a,onUpdate:c}=r,u=e.x-t.x,l=e.y-t.y,m=e.width/t.width,p=e.height/t.height,d=0,f=false,g=false,h=I(0,i),b=n.style.transform,S=n.style.transformOrigin;o&&(n.style.transformOrigin="0 0");let x=V=>{d=V;let C=1-V,P=[];if(s&&P.push(`translate(${u*C}px, ${l*C}px)`),o&&(m!==1||p!==1)){let A=1+(m-1)*C,F=1+(p-1)*C;P.push(`scale(${A}, ${F})`);}n.style.transform=P.length>0?P.join(" "):"",c?.(V);};x(0);let y=()=>{n.style.transform=b,n.style.transformOrigin=S;};return {play:async()=>{if(!g)return f=true,new Promise(V=>{let C=h.subscribe(A=>{if(g){C(),V();return}x(A);});h.set(1);let P=()=>{if(g){C(),y(),V();return}h.isAnimating()?requestAnimationFrame(P):(f=false,C(),y(),a?.(),V());};setTimeout(P,16);})},getProgress:()=>d,cancel:()=>{g=true,f=false,h.stop(),y();},isAnimating:()=>f}}async function it(n,e,t={}){let r=me(n);await e(),n.offsetHeight;let i=me(n);await $t(n,r,i,t).play();}function at(n,e={}){let t=useRef(null),[,r]=useState({}),i=useRef(true),s=useRef(JSON.stringify(n));return t.current||(t.current=_(n,e),t.current.subscribe(()=>r({}))),useEffect(()=>{if(i.current){i.current=false;return}let o=JSON.stringify(n);o!==s.current&&(t.current?.set(n,e),s.current=o);},[JSON.stringify(n)]),useEffect(()=>()=>t.current?.destroy(),[]),t.current.get()}function wn(n,e={}){let t=useRef(null);return t.current||(t.current=I(n,e)),useEffect(()=>()=>t.current?.destroy(),[]),t.current}function An(n,e,t={}){let r=useRef([]),[,i]=useState({});return useEffect(()=>{r.current.forEach(s=>s?.destroy()),r.current=[];for(let s=0;s<n;s++){let o=e(s),a=o.from??o.values,c=_(a,{...t,...o.config});c.subscribe(()=>i({})),r.current.push(c),setTimeout(()=>{c.set(o.values);},o.delay??0);}return ()=>{r.current.forEach(s=>s?.destroy());}},[n,t]),r.current.map(s=>s?.get()??{})}function kn(n,e,t={}){let r=useRef(null),[i,s]=useState(()=>Array.from({length:n},()=>({...e}))),o=useRef(true),a=useRef(JSON.stringify(e));return useEffect(()=>{let c=Object.keys(e),u=new Map;c.forEach(m=>{let p=[],d=e[m];for(let f=0;f<n;f++){let g=I(d,t);p.push(g);}u.set(m,p);}),r.current=u;let l=[];return u.forEach((m,p)=>{m.forEach((d,f)=>{let g=d.subscribe(()=>{s(h=>{let b=[...h];b[f]||(b[f]={...e});let S={...b[f]};return u.forEach((x,y)=>{S[y]=x[f].get();}),b[f]=S,b});});l.push(g);});}),()=>{l.forEach(m=>m()),u.forEach(m=>{m.forEach(p=>p.destroy());}),r.current=null;}},[n]),useEffect(()=>{if(!r.current)return;let c=JSON.stringify(e);if(o.current){o.current=false,a.current=c;return}if(c===a.current)return;a.current=c;let u=Object.keys(e),l=50;u.forEach(m=>{let p=r.current?.get(m);if(!p)return;let d=e[m];p.forEach((f,g)=>{setTimeout(()=>{f.set(d,t);},g*l);});});},[JSON.stringify(e),t.stiffness,t.damping]),i}function Un(n={}){let e=useRef(null),t=useRef({x:0,y:0}),[r,i]=useState(null),[s,o]=useState(false),[,a]=useState({}),c=useRef(n);c.current=n;let u=p=>{i(p);};useEffect(()=>(e.current&&(e.current.destroy(),e.current=null),r&&(e.current=ze(r,{...c.current,onDragStart:p=>{o(true),c.current.onDragStart?.(p);},onDragEnd:(p,d,f)=>{o(false),c.current.onDragEnd?.(p,d,f);},onUpdate:(p,d)=>{t.current={x:p,y:d},a({}),c.current.onUpdate?.(p,d);}})),()=>{e.current?.destroy(),e.current=null;}),[r]);let l=p=>{let d=p.x??t.current.x,f=p.y??t.current.y;e.current?.setPosition(d,f);},m=()=>{e.current?.reset(),t.current={x:0,y:0},a({});};return [t.current,{ref:u,set:l,reset:m,isDragging:s}]}function Dn(n){let e=useRef({isDragging:false,startX:0,startY:0,currentX:0,currentY:0});return {onPointerDown:o=>{e.current={isDragging:true,startX:o.clientX,startY:o.clientY,currentX:o.clientX,currentY:o.clientY};},onPointerMove:o=>{if(!e.current.isDragging)return;let a=o.clientX-e.current.startX,c=o.clientY-e.current.startY;n.onDrag?.({x:a,y:c}),e.current.currentX=o.clientX,e.current.currentY=o.clientY;},onPointerUp:()=>{e.current.isDragging=false;},onPointerCancel:()=>{e.current.isDragging=false;}}}var te=createContext(null);te.displayName="PresenceContext";function Fn(){let n=useContext(te);return n===null?[true,()=>{}]:[n.isPresent,n.safeToRemove]}function Hn(){let n=useContext(te);return n===null?true:n.isPresent}function Gn(){return useContext(te)?.custom}function Xn(){let n=useRef(null),e=useRef(new Map),t=useRef(new Map),r=useRef(false),i=useRef([]);useCallback((u,l)=>(null),[]);let o=useCallback(()=>{let u=n.current;if(!u)return;let l=[],m={};t.current.forEach((p,d)=>{switch(d){case "x":l.push(`translateX(${p}px)`);break;case "y":l.push(`translateY(${p}px)`);break;case "z":l.push(`translateZ(${p}px)`);break;case "scale":l.push(`scale(${p})`);break;case "scaleX":l.push(`scaleX(${p})`);break;case "scaleY":l.push(`scaleY(${p})`);break;case "rotate":case "rotateZ":l.push(`rotate(${p}deg)`);break;case "rotateX":l.push(`rotateX(${p}deg)`);break;case "rotateY":l.push(`rotateY(${p}deg)`);break;case "opacity":m.opacity=String(p);break;default:m[d]=`${p}px`;}}),l.length>0&&(u.style.transform=l.join(" ")),Object.entries(m).forEach(([p,d])=>{u.style.setProperty(p,d);});},[]),a=useCallback(async(u,l={})=>{let{config:m={},delay:p=0,onComplete:d}=l;p>0&&await new Promise(g=>setTimeout(g,p)),r.current=true;let f=[];for(let[g,h]of Object.entries(u)){let b=Array.isArray(h)?h:[h];t.current.get(g)??0;let x=Promise.resolve();for(let y of b)x=x.then(()=>new Promise(V=>{let C=e.current.get(g);if(!C){C=I(t.current.get(g)??0,m),e.current.set(g,C);let A=C.subscribe(F=>{t.current.set(g,F),o();});i.current.push(A);}(m.stiffness||m.damping||m.mass)&&C.setConfig(m),C.set(y);let P=()=>{C&&!C.isAnimating()?V():requestAnimationFrame(P);};setTimeout(P,16);}));f.push(x);}await Promise.all(f),r.current=false,d?.();},[o]),c={stop:useCallback(()=>{e.current.forEach(u=>{u.stop();}),r.current=false;},[]),get:useCallback(u=>t.current.get(u),[]),isAnimating:useCallback(()=>r.current,[])};return useEffect(()=>()=>{i.current.forEach(u=>u()),e.current.forEach(u=>u.destroy()),e.current.clear();},[]),[n,a,c]}function Ht(n,e){let t=useRef(null);return t.current===null&&(t.current=B(n,e)),useEffect(()=>()=>{t.current?.destroy();},[]),t.current}function Bn(n){let[e,t]=useState(n.get());return useEffect(()=>n.subscribe(i=>{t(i);}),[n]),e}function Nn(n,e){let t=Ht(n,e);return useEffect(()=>{t.set(n);},[n,t]),t}function qn(n,e){let t=useRef(null);if(t.current===null){let r={};for(let i in n)if(Object.prototype.hasOwnProperty.call(n,i)){let s=n[i];r[i]=B(s,e);}t.current=r;}return useEffect(()=>()=>{if(t.current){let r=t.current;for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&r[i].destroy();}},[]),t.current}function zn(n,e,t,r){let i=useRef(null),s=useRef(null),o=useMemo(()=>{if(typeof e=="function")return e;if(!t)throw new Error("useTransform: outputRange is required when using range mapping");let a=e;return typeof t[0]=="number"?c=>{let u=0;for(;u<a.length-1;u++){let g=a[u+1];if(g!==void 0&&c<=g)break}let l=a[u]??0,m=a[Math.min(u+1,a.length-1)]??1,p=t[u]??0,d=t[Math.min(u+1,t.length-1)]??1,f=m!==l?(c-l)/(m-l):0;return r?.ease&&(f=r.ease(f)),r?.clamp&&(f=Math.max(0,Math.min(1,f))),p+f*(d-p)}:c=>{let u=0;for(;u<a.length-1;u++){let d=a[u+1];if(d!==void 0&&c<=d)break}let l=a[u]??0,m=a[u+1]??1;return (m!==l?(c-l)/(m-l):0)<.5?t[u]:t[u+1]}},[e,t,r?.clamp,r?.ease]);return i.current===null&&(i.current=B(o(n.get()))),useEffect(()=>(s.current=n.subscribe(a=>{i.current?.jump(o(a));}),()=>{s.current?.();}),[n,o]),useEffect(()=>()=>{i.current?.destroy();},[]),i.current}function Wn(n,e){let t=useRef(null),r=useRef([]),i=()=>n.map(s=>s.get());return t.current===null&&(t.current=B(e(i()))),useEffect(()=>(r.current=n.map(s=>s.subscribe(()=>{t.current?.jump(e(i()));})),()=>{r.current.forEach(s=>s());}),[n,e]),useEffect(()=>()=>{t.current?.destroy();},[]),t.current}function Zn(n,e){let t=useRef(null),r=useRef(null);return t.current===null&&(t.current=B(e(n.getVelocity()))),useEffect(()=>{let i=()=>{t.current?.jump(e(n.getVelocity())),r.current=requestAnimationFrame(i);};return r.current=requestAnimationFrame(i),()=>{r.current&&cancelAnimationFrame(r.current);}},[n,e]),useEffect(()=>()=>{t.current?.destroy();},[]),t.current}function Qn(n,e,t,r){let i=useRef(null),s=useRef(null),o=useMemo(()=>a=>{let c=0;for(;c<e.length-1;c++){let f=e[c+1];if(f!==void 0&&a<=f)break}let u=e[c]??0,l=e[c+1]??1,m=t[c]??0,p=t[c+1]??1,d=(a-u)/(l-u);return m+d*(p-m)},[e,t]);return i.current===null&&(i.current=B(o(n.get()),{spring:r})),useEffect(()=>(s.current=n.subscribe(a=>{i.current?.set(o(a));}),()=>{s.current?.();}),[n,o]),useEffect(()=>()=>{i.current?.destroy();},[]),i.current}var U=typeof window<"u",Yt=!U,j=U?useLayoutEffect:useEffect;function er(){return !!Yt}function tr(n){return U&&typeof requestAnimationFrame<"u"?requestAnimationFrame(n):0}function nr(n){U&&typeof cancelAnimationFrame<"u"&&cancelAnimationFrame(n);}function rr(n={}){let{once:e=false,amount:t="some",margin:r="0px",root:i}=n,s=useRef(null),[o,a]=useState(false),[c,u]=useState(),l=useRef(false);return useEffect(()=>{if(!U)return;let m=s.current;if(!m||e&&l.current)return;let p;t==="some"?p=0:t==="all"?p=1:p=t;let d=new IntersectionObserver(f=>{let[g]=f;if(g){let h=g.isIntersecting;u(g),a(h),h&&e&&(l.current=true,d.disconnect());}},{root:i?.current??null,rootMargin:r,threshold:p});return d.observe(m),()=>{d.disconnect();}},[e,t,r,i]),{ref:s,inView:o,entry:c}}function or(n,e={}){let t=useRef(null),r=useRef(n),i=useRef(false);r.current=n;let{once:s=false,amount:o="some",margin:a="0px",root:c}=e;return useEffect(()=>{if(!U)return;let u=t.current;if(!u||s&&i.current)return;let l;o==="some"?l=0:o==="all"?l=1:l=o;let m=new IntersectionObserver(p=>{let[d]=p;d?.isIntersecting&&(r.current(d),s&&(i.current=true,m.disconnect()));},{root:c?.current??null,rootMargin:a,threshold:l});return m.observe(u),()=>m.disconnect()},[s,o,a,c]),t}function ir(n={}){let e=useRef(new Map),[t,r]=useState(new Map),i=useRef(null),{once:s=false,amount:o="some",margin:a="0px",root:c}=n;return useEffect(()=>{if(!U)return;let m;return o==="some"?m=0:o==="all"?m=1:m=o,i.current=new IntersectionObserver(p=>{r(d=>{let f=new Map(d);return p.forEach(g=>{let h=g.target.dataset.inviewId;h&&(f.set(h,g.isIntersecting),g.isIntersecting&&s&&i.current?.unobserve(g.target));}),f});},{root:c?.current??null,rootMargin:a,threshold:m}),e.current.forEach(p=>{i.current?.observe(p);}),()=>{i.current?.disconnect();}},[s,o,a,c]),{setRef:(m,p)=>{if(p)p.dataset.inviewId=m,e.current.set(m,p),i.current?.observe(p);else {let d=e.current.get(m);d&&(i.current?.unobserve(d),e.current.delete(m));}},getInView:m=>t.get(m)??false,inViewMap:t}}function sr(n={}){let{target:e,container:t,offset:r=["start start","end end"],axis:i="y"}=n,s=useRef(null),o=useRef(null),a=useRef(null),c=useRef(null);return s.current===null&&(s.current=B(0),o.current=B(0),a.current=B(0),c.current=B(0)),useEffect(()=>{if(!U)return;let u=s.current,l=o.current,m=a.current,p=c.current,d=t?.current??e?.current??window,f=d===window,g=()=>{if(f)return {x:window.scrollX||window.pageXOffset,y:window.scrollY||window.pageYOffset};let C=d;return {x:C.scrollLeft,y:C.scrollTop}},h=()=>{if(f)return {width:document.documentElement.scrollWidth-window.innerWidth,height:document.documentElement.scrollHeight-window.innerHeight};let C=d;return {width:C.scrollWidth-C.clientWidth,height:C.scrollHeight-C.clientHeight}},b=()=>{let C=g(),P=h();u.jump(C.x),l.jump(C.y),m.jump(P.width>0?C.x/P.width:0),p.jump(P.height>0?C.y/P.height:0);},S=()=>{let C=e?.current;if(!C){b();return}let P=g();u.jump(P.x),l.jump(P.y);let A=C.getBoundingClientRect(),F=window.innerHeight,[H,N]=r,W=Xt(H,A,F),k=Xt(N,A,F),v=i==="y"?A.top:A.left,R=k-W,T=R!==0?(W-v)/R:0,L=Math.max(0,Math.min(1,T));i==="y"?p.jump(L):m.jump(L);},x=null,y=()=>{x===null&&(x=requestAnimationFrame(()=>{e?.current?S():b(),x=null;}));};y();let V=f?window:d;return V.addEventListener("scroll",y,{passive:true}),window.addEventListener("resize",y,{passive:true}),()=>{V.removeEventListener("scroll",y),window.removeEventListener("resize",y),x!==null&&cancelAnimationFrame(x);}},[e,t,r,i]),useEffect(()=>()=>{s.current?.destroy(),o.current?.destroy(),a.current?.destroy(),c.current?.destroy();},[]),{scrollX:s.current,scrollY:o.current,scrollXProgress:a.current,scrollYProgress:c.current}}function Xt(n,e,t,r,i){let s=n.split(" "),o=s[0]||"start",a=s[1]||"start",c;o==="start"?c=e.top:o==="center"?c=e.top+e.height/2:o==="end"?c=e.bottom:o.endsWith("px")?c=e.top+parseFloat(o):o.endsWith("%")?c=e.top+e.height*parseFloat(o)/100:c=e.top;let u;return a==="start"?u=0:a==="center"?u=t/2:a==="end"?u=t:a.endsWith("px")?u=parseFloat(a):a.endsWith("%")?u=t*parseFloat(a)/100:u=0,u-c}function ar(n="y"){let e=useRef(null),t=useRef(0),r=useRef(Date.now());return e.current===null&&(e.current=B(0)),useEffect(()=>{if(!U)return;let i=e.current,s=()=>{let o=Date.now(),a=n==="y"?window.scrollY||window.pageYOffset:window.scrollX||window.pageXOffset,c=o-r.current,u=a-t.current;c>0&&i.jump(u/c*1e3),t.current=a,r.current=o;};return window.addEventListener("scroll",s,{passive:true}),()=>{window.removeEventListener("scroll",s);}},[n]),useEffect(()=>()=>{e.current?.destroy();},[]),e.current}function dt(n={}){let{hover:e=true,press:t=true,focus:r=true,drag:i=false}=n,s=useRef(null),[o,a]=useState({isHovered:false,isPressed:false,isFocused:false,isDragging:false}),c={...e&&{onMouseEnter:()=>a(u=>({...u,isHovered:true})),onMouseLeave:()=>a(u=>({...u,isHovered:false,isPressed:false}))},...t&&{onMouseDown:()=>a(u=>({...u,isPressed:true})),onMouseUp:()=>a(u=>({...u,isPressed:false})),onTouchStart:()=>a(u=>({...u,isPressed:true})),onTouchEnd:()=>a(u=>({...u,isPressed:false}))},...r&&{onFocus:()=>a(u=>({...u,isFocused:true})),onBlur:()=>a(u=>({...u,isFocused:false}))},...i&&{onDragStart:()=>a(u=>({...u,isDragging:true})),onDragEnd:()=>a(u=>({...u,isDragging:false}))}};return useEffect(()=>{if(!t||!U)return;let u=()=>{a(l=>l.isPressed?{...l,isPressed:false}:l);};return window.addEventListener("mouseup",u),window.addEventListener("touchend",u),()=>{window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u);}},[t]),{ref:s,...o,handlers:c}}function ur(){let n=useRef(null),[e,t]=useState(false);return {ref:n,isHovered:e,handlers:{onMouseEnter:()=>t(true),onMouseLeave:()=>t(false)}}}function cr(){let n=useRef(null),[e,t]=useState(false),r={onMouseDown:()=>t(true),onMouseUp:()=>t(false),onMouseLeave:()=>t(false),onTouchStart:()=>t(true),onTouchEnd:()=>t(false)};return useEffect(()=>{if(!U)return;let i=()=>t(false);return window.addEventListener("mouseup",i),window.addEventListener("touchend",i),()=>{window.removeEventListener("mouseup",i),window.removeEventListener("touchend",i);}},[]),{ref:n,isPressed:e,handlers:r}}function lr(){let n=useRef(null),[e,t]=useState(false);return {ref:n,isFocused:e,handlers:{onFocus:()=>t(true),onBlur:()=>t(false)}}}function pr(){let{ref:n,isHovered:e,isPressed:t,isFocused:r,handlers:i}=dt({hover:true,press:true,focus:true});return {ref:n,isHovered:e,isPressed:t,isFocused:r,activeState:t?"pressed":e?"hovered":r?"focused":"default",handlers:i}}function mr(n){let{ref:e,isHovered:t,isPressed:r,isFocused:i,handlers:s}=dt({hover:!!n.hover,press:!!n.press,focus:!!n.focus}),o={...n.default};return i&&n.focus&&Object.assign(o,n.focus),t&&n.hover&&Object.assign(o,n.hover),r&&n.press&&Object.assign(o,n.press),{ref:e,handlers:s,isHovered:t,isPressed:r,isFocused:i,...o}}function $e(){let[n,e]=useState(()=>U?window.matchMedia("(prefers-reduced-motion: reduce)").matches:false);return useEffect(()=>{if(!U)return;let t=window.matchMedia("(prefers-reduced-motion: reduce)"),r=i=>{e(i.matches);};return t.addEventListener?(t.addEventListener("change",r),()=>t.removeEventListener("change",r)):(t.addListener(r),()=>t.removeListener(r))},[]),n}function gr(){return U?window.matchMedia("(prefers-reduced-motion: reduce)").matches:false}function hr(n){return $e()?n.reduced:n.default}function br(){return !$e()}function yr(n,e){return $e()?e:n}function vr(n={}){let{target:e,offset:t,smooth:r}=n,[i,s]=useState(0),[o,a]=useState({progress:0,scrollY:0,velocity:0,direction:0,isInView:true,visibleRatio:1}),c=useRef(null);return j(()=>{let u=e?.current??null,l=Ze(u,{offset:t,smooth:r});c.current=l;let m=l.subscribe(p=>{s(p.progress),a(p);});return ()=>{m(),l.destroy();}},[e?.current,t?.[0],t?.[1],r]),{progress:i,info:o,scrollProgress:c.current}}function xr(n={}){let e=useRef(null),[t,r]=useState(0);return j(()=>{if(!e.current)return;let i=Qe(e.current,n),s=setInterval(()=>{r(i.getOffset());},16);return ()=>{clearInterval(s),i.destroy();}},[n.speed,n.direction,n.rootMargin]),{ref:e,offset:t}}function Sr(n={}){let e=useRef(null),[t,r]=useState(false),[i,s]=useState(0),[o,a]=useState(false);return j(()=>{if(!e.current)return;let c=Ke(e.current,{...n,onEnter:()=>a(true),onProgress:u=>{r(u.progress>0&&u.progress<1),s(u.progress);}});return ()=>c.destroy()},[n.start,n.end,n.startOffset,n.endOffset,n.once,n.scrub]),{ref:e,isActive:t,progress:i,hasEntered:o}}function Tr(n,e){let[t,r]=useState(e.outputRange[0]??0);return j(()=>{if(!n)return;let i=Je(n,e),s=i.subscribe(o=>{r(o);});return ()=>{s(),i.destroy();}},[n,e.inputRange,e.outputRange,e.clamp,e.smooth]),t}function Pr(n={}){let e=useRef(null);j(()=>{let l=tt(n);return e.current=l,()=>{l.kill();}},[]);let t=useCallback(()=>{e.current?.play();},[]),r=useCallback(()=>{e.current?.pause();},[]),i=useCallback(()=>{e.current?.resume();},[]),s=useCallback(()=>{e.current?.reverse();},[]),o=useCallback(()=>{e.current?.restart();},[]),a=useCallback(l=>{e.current?.seek(l);},[]),c=useCallback(()=>{e.current?.kill();},[]);return useMemo(()=>{let l={timeline:e.current,play:t,pause:r,resume:i,reverse:s,restart:o,seek:a,kill:c,get isPlaying(){return e.current?.isPlaying()??false},get isPaused(){return !(e.current?.isPlaying()??false)},get progress(){return e.current?.progress()??0},to:(m,p,d)=>(e.current?.to(m,p,d),l),from:(m,p,d)=>(e.current?.from(m,p,d),l),fromTo:(m,p,d,f)=>(e.current?.fromTo(m,p,d,f),l),addLabel:(m,p)=>(e.current?.addLabel(m,p),l)};return l},[t,r,i,s,o,a,c])}function Mr(n){let e=useRef(0),t=useRef(false),r=useRef(true),i=useRef(false);return j(()=>{if(!n)return;let s=()=>{e.current=n.progress(),t.current=n.isPlaying(),r.current=!n.isPlaying(),i.current=n.isReversed();};s();let o=null,a=()=>{s(),o=requestAnimationFrame(a);};return o=requestAnimationFrame(a),()=>{o&&cancelAnimationFrame(o);}},[n]),{get progress(){return e.current},get isPlaying(){return t.current},get isPaused(){return r.current},get isReversed(){return i.current}}}function Rr(n,e={}){let[t,r]=useState(n),[i,s]=useState(0),o=useRef(null);j(()=>{let u=Pe(n,{...e,onProgress:l=>{s(l),e.onProgress?.(l);}});return u.subscribe(l=>{r(l);}),o.current=u,()=>{u.destroy();}},[n]);let a=useCallback(u=>{o.current?.morphTo(u);},[]),c=useCallback(u=>{o.current?.setProgress(u);},[]);return {path:t,progress:i,morphTo:a,setProgress:c,controller:o.current}}function wr(n,e={}){let[t,r]=useState(n[0]??""),[i,s]=useState(0),o=useRef(null);j(()=>{if(n.length===0)return;let l=nt(n,e);return l.subscribe(m=>{r(m),s(l.getCurrentIndex());}),o.current=l,()=>{l.destroy();}},[n.length]);let a=useCallback(l=>{o.current?.morphToIndex(l);},[]),c=useCallback(()=>{o.current?.morphToNext();},[]),u=useCallback(()=>{o.current?.morphToPrevious();},[]);return {path:t,currentIndex:i,morphToIndex:a,morphToNext:c,morphToPrevious:u}}function Vr(n,e={}){let[t,r]=useState(0),i=useRef(null),s=useRef(null),o=useCallback(u=>{if(!u){i.current?.destroy(),i.current=null,s.current=null;return}s.current=u;let l=Pe(n,{...e,onProgress:m=>{r(m),e.onProgress?.(m);}});l.subscribe(m=>{u.setAttribute("d",m);}),i.current=l;},[n]),a=useCallback(u=>{i.current?.morphTo(u);},[]),c=useCallback(u=>{i.current?.setProgress(u);},[]);return {pathRef:o,morphTo:a,setProgress:c,progress:t}}var qt=createContext(null),zt=createContext(null);function Er(n={}){let e=useRef(null);j(()=>{let o=pe(n);return e.current=o,()=>{o.destroy();}},[]);let t=useCallback((o,a)=>{e.current?.register(o,a);},[]),r=useCallback((o,a)=>{e.current?.unregister(o,a);},[]),i=useCallback(()=>{e.current?.update();},[]),s=useCallback(()=>{e.current?.forceUpdate();},[]);return {register:t,unregister:r,update:i,forceUpdate:s,layoutGroup:e.current}}function Lr(n,e={}){let{group:t,...r}=e,i=useRef(null),s=useRef(null);j(()=>{if(!t)return s.current=pe(r),()=>{s.current?.destroy();}},[t]);let o=useCallback(c=>{let u=t??s.current;i.current&&u&&u.unregister(n,i.current),i.current=c,c&&u&&u.register(n,c);},[n,t]),a=useCallback(()=>{(t??s.current)?.update();},[t]);return {ref:o,update:a}}function Ar(n={}){let e=useRef(null),t=useRef(null),r=useCallback(o=>{o&&(t.current=me(o)),e.current=o;},[]),i=useCallback(async o=>{e.current&&(await it(e.current,o??(()=>{}),n),t.current=me(e.current));},[n]),s=useCallback(()=>e.current?me(e.current):null,[]);return {ref:r,flip:i,measure:s}}function Or(n={}){let e=useRef(null),t=useCallback(s=>{e.current&&(e.current.destroy(),e.current=null),s&&(e.current=ot(n));},[]),r=useCallback(()=>{e.current?.update();},[]),i=useCallback(()=>{e.current?.forceUpdate();},[]);return {containerRef:t,update:r,forceUpdate:i}}function kr({children:n,config:e}){let t=useRef(null);return j(()=>(t.current=pe(e),()=>{t.current?.destroy();}),[]),Nt.createElement(qt.Provider,{value:t.current},n)}function Ir({children:n}){let e=useRef(null);return j(()=>(e.current=rt(),()=>{e.current?.destroy();}),[]),Nt.createElement(zt.Provider,{value:e.current},n)}var bt=createContext({variant:void 0});function Zt(){return useContext(bt)}function jr(n){let{variants:e,animate:t,initial:r,custom:i,inherit:s=true,spring:o,onAnimationComplete:a}=n,c=Zt(),u=useRef(void 0),l=useRef(false),m=useMemo(()=>{if(typeof t=="string")return t;if(s&&c.variant)return c.variant},[t,s,c.variant]),p=useMemo(()=>r===false?ve(e,m,i).values:typeof r=="string"?ve(e,r,i).values:typeof r=="object"?r:{},[r,e,m,i]),d=useMemo(()=>typeof t=="object"?t:m&&e?ve(e,m,i).values:p,[t,m,e,i,p]),f=useMemo(()=>m&&e?ve(e,m,i).transition:c.transition||{},[m,e,i,c.transition]),g=useMemo(()=>c.staggerIndex!==void 0&&f.staggerChildren?c.staggerIndex*f.staggerChildren+(f.delayChildren||0):f.delay||0,[c.staggerIndex,f]),h=(x,y)=>{if(x===void 0)return y;if(typeof x=="number")return x;let V=parseFloat(x);return isNaN(V)?y:V},b=at({x:h(d.x??p.x,0),y:h(d.y??p.y,0),scale:d.scale??p.scale??1,scaleX:d.scaleX??p.scaleX??1,scaleY:d.scaleY??p.scaleY??1,rotate:d.rotate??p.rotate??0,opacity:d.opacity??p.opacity??1},{stiffness:o?.stiffness??f.spring?.stiffness??100,damping:o?.damping??f.spring?.damping??15,mass:o?.mass??f.spring?.mass??1});j(()=>{if(m&&m!==u.current){if(u.current=m,l.current=true,g>0){let y=setTimeout(()=>{l.current=false,a?.(m);},g+500);return ()=>clearTimeout(y)}let x=setTimeout(()=>{l.current=false,a?.(m);},500);return ()=>clearTimeout(x)}},[m,g,a]);let S=useCallback(x=>{u.current=x;},[]);return {values:{...d,...b},setVariant:S,currentVariant:u.current,isAnimating:l.current}}function Fr({children:n,variant:e,custom:t,transition:r}){let i=useMemo(()=>({variant:e,custom:t,transition:r}),[e,t,r]);return Nt.createElement(bt.Provider,{value:i},n)}function Hr(n){let{count:e,staggerChildren:t=100,delayChildren:r=0,staggerDirection:i=1}=n,s=useMemo(()=>_e(e,{staggerChildren:t,delayChildren:r,staggerDirection:i}),[e,t,r,i]),o=useCallback(c=>s[c]||0,[s]),a=useCallback(c=>({style:{transitionDelay:`${o(c)}ms`}}),[o]);return {getDelay:o,getChildProps:a,delays:s}}function Gr(n,e={}){throw new Error("createMotionComponent is not yet implemented. Use useVariants hook or Animated component instead.")}var _r=({from:n,to:e,config:t={},onRest:r,children:i})=>{let s=useRef(null),[o,a]=useState(n);return useEffect(()=>{let c=_(n,t);return c.subscribe(a),s.current=c,requestAnimationFrame(()=>{c.set(e,{...t,onRest:r});}),()=>c.destroy()},[]),useEffect(()=>{s.current?.set(e,{...t,onRest:r});},[e,t,r]),jsx(Fragment,{children:i(o)})};function Le(n){let e={};for(let t in n)typeof n[t]=="number"&&(e[t]=n[t]);return e}function O(n){let e=Nt.forwardRef(({children:t,style:r={},config:i={},initial:s,animate:o,exit:a,whileHover:c,whileTap:u,whileFocus:l,whileDrag:m,whileInView:p,viewport:d,onAnimationComplete:f,onHoverStart:g,onHoverEnd:h,onTapStart:b,onTap:S,onTapCancel:x,...y},V)=>{let C=useRef(null),P=useRef(null),[A,F]=useState({}),Y=useRef(true),H=useRef(false),[N,W]=useState(false),[k,v]=useState(false),[R,T]=useState(false),[L,w]=useState(false),[E,G]=useState(false),X=useRef(false),D=useContext(te),q=D?.isPresent??true,z=D?.safeToRemove,le=useCallback(M=>{P.current=M,typeof V=="function"?V(M):V&&(V.current=M);},[V]);useEffect(()=>{if(!p||!P.current||!U)return;let M=d?.amount==="all"?1:d?.amount==="some"?0:typeof d?.amount=="number"?d.amount:.5,Z=new IntersectionObserver(re=>{re.forEach(ie=>{if(ie.isIntersecting){if(d?.once&&X.current)return;G(true),X.current=true;}else d?.once||G(false);});},{rootMargin:d?.margin??"0px",threshold:M});return Z.observe(P.current),()=>Z.disconnect()},[p,d?.once,d?.margin,d?.amount]);let K=useCallback(()=>{if(!q&&a)return a;let M=o?{...o}:{};return p&&E&&(M={...M,...p}),l&&R&&(M={...M,...l}),c&&N&&(M={...M,...c}),m&&L&&(M={...M,...m}),u&&k&&(M={...M,...u}),Object.keys(M).length===0?Object.fromEntries(Object.entries(r).filter(Z=>typeof Z[1]=="number")):M},[q,a,o,r,c,u,l,m,p,N,k,R,L,E]),Fe=useCallback(()=>s===false?K():s||K(),[s,K]);useEffect(()=>{let M=Fe(),Z=Le(M);if(Object.keys(Z).length===0)return;let re=_(Z,i);return re.subscribe(ie=>{F(ie);}),C.current=re,()=>re.destroy()},[i.stiffness,i.damping]),useEffect(()=>{if(!C.current)return;let M=K(),Z=Le(M);if(Y.current){if(Y.current=false,s&&s!==false&&o){let re=Le(s),ie=Le(o);Object.keys(ie).some(St=>re[St]!==ie[St])&&C.current.set(ie);}return}C.current.set(Z);},[q,o,a,K,s,N,k,R,L,E]),useEffect(()=>{if(!q&&a&&z&&!H.current){Le(a);let re=setTimeout(()=>{C.current&&setTimeout(()=>{H.current||(H.current=true,z(),f?.());},500);},50);return ()=>clearTimeout(re)}},[q,a,z,f]),useEffect(()=>{q&&(H.current=false);},[q]);let cn=useCallback(M=>{c&&W(true),g?.(M),y.onMouseEnter?.(M);},[c,g,y.onMouseEnter]),ln=useCallback(M=>{c&&W(false),u&&v(false),h?.(M),y.onMouseLeave?.(M);},[c,u,h,y.onMouseLeave]),pn=useCallback(M=>{u&&v(true),b?.(M),y.onPointerDown?.(M);},[u,b,y.onPointerDown]),mn=useCallback(M=>{u&&k&&(v(false),S?.(M)),y.onPointerUp?.(M);},[u,k,S,y.onPointerUp]),fn=useCallback(M=>{u&&k&&(v(false),x?.(M)),y.onPointerCancel?.(M);},[u,k,x,y.onPointerCancel]),dn=useCallback(M=>{l&&T(true),y.onFocus?.(M);},[l,y.onFocus]),gn=useCallback(M=>{l&&T(false),y.onBlur?.(M);},[l,y.onBlur]);useEffect(()=>{if(!u||!k)return;let M=()=>{v(false);};return window.addEventListener("pointerup",M),window.addEventListener("pointercancel",M),()=>{window.removeEventListener("pointerup",M),window.removeEventListener("pointercancel",M);}},[u,k]);let hn=Object.fromEntries(Object.entries(r).filter(([M,Z])=>typeof Z!="number")),oe={};return (c||g||h)&&(oe.onMouseEnter=cn,oe.onMouseLeave=ln),(u||b||S||x)&&(oe.onPointerDown=pn,oe.onPointerUp=mn,oe.onPointerCancel=fn),l&&(oe.onFocus=dn,oe.onBlur=gn),Nt.createElement(n,{...y,...oe,ref:le,style:{...hn,...A}},t)});return e.displayName=`Animated.${String(n)}`,memo(e)}var Wr={div:O("div"),span:O("span"),button:O("button"),a:O("a"),p:O("p"),h1:O("h1"),h2:O("h2"),h3:O("h3"),h4:O("h4"),h5:O("h5"),h6:O("h6"),ul:O("ul"),ol:O("ol"),li:O("li"),section:O("section"),article:O("article"),header:O("header"),footer:O("footer"),nav:O("nav"),main:O("main"),aside:O("aside"),img:O("img"),svg:O("svg"),path:O("path"),circle:O("circle"),rect:O("rect"),g:O("g")};var Jr=({items:n,keys:e,from:t,to:r,config:i={},reverse:s=false,children:o})=>{let a=useRef(null),[c,u]=useState(()=>n.map(()=>({...t})));return useEffect(()=>{let l=Ne(n.length,i),m=l.subscribe(d=>{u(d.map(f=>({...r,x:f})));});a.current=l;let p=Object.values(r)[0];return l.set(p),()=>{m(),l.destroy();}},[n.length,i.stiffness,i.damping]),useEffect(()=>{let l=Object.values(r)[0];a.current?.set(l);},[r]),jsx(Fragment,{children:n.map((l,m)=>jsx(Nt.Fragment,{children:o(c[m],l,s?n.length-1-m:m)},e(l,m)))})};function je({id:n,children:e,isPresent:t,onExitComplete:r,custom:i}){let s=useRef(n);s.current=n;let o=useCallback(()=>{r(s.current);},[r]),a=useMemo(()=>({id:n,isPresent:t,safeToRemove:o,custom:i}),[n,t,o,i]),c=useRef(false);return useEffect(()=>{if(!t&&!c.current){c.current=true;let u=setTimeout(()=>{o();},1e4);return ()=>clearTimeout(u)}t&&(c.current=false);},[t,o]),jsx(te.Provider,{value:a,children:e})}var ao=typeof window<"u"?useLayoutEffect:useEffect;function an(n){return n.key!==null?String(n.key):""}function uo(n){let e={};return Children.forEach(n,t=>{if(isValidElement(t)){let r=an(t);r&&(e[r]=t);}}),e}function co({children:n,custom:e,initial:t=true,mode:r="sync",onExitComplete:i}){let s=useRef(true),[o,a]=useState({}),c=useRef({}),[,u]=useState(0),l=useRef(0),m=uo(n);ao(()=>{let g=c.current,h={};for(let b in g)if(!(b in m)){let S=g[b];S&&(h[b]=S);}Object.keys(h).length>0&&(a(b=>({...b,...h})),l.current+=Object.keys(h).length),c.current=m,s.current&&(s.current=false);});let p=g=>{a(h=>{let b={...h};return delete b[g],b}),l.current--,l.current===0&&i&&i(),r==="wait"&&u(h=>h+1);},d=r!=="wait"||Object.keys(o).length===0,f=[];for(let g in o){let h=o[g];h&&f.push(jsx(je,{id:g,isPresent:false,onExitComplete:p,custom:e,children:cloneElement(h,{key:g})},`presence-${g}`));}return d&&Children.forEach(n,g=>{if(isValidElement(g)){let h=an(g);if(!h){console.warn('AnimatePresence: Every child must have a unique "key" prop.');return}let b=!(s.current&&t===false);f.push(jsx(je,{id:h,isPresent:true,onExitComplete:p,custom:e,children:cloneElement(g,{key:h,...b?{}:{"data-initial-skip":true}})},`presence-${h}`));}}),jsx(Fragment,{children:f})}var fo={config:{},reducedMotion:"user",initial:true,isReducedMotion:false},xt=createContext(fo);function go(){return useContext(xt)}function ho(){return typeof window>"u"?false:window.matchMedia?.("(prefers-reduced-motion: reduce)").matches??false}function bo({config:n={},reducedMotion:e="user",initial:t=true,children:r}){let i=useContext(xt),s=useMemo(()=>{let o=false;switch(e){case "always":o=true;break;case "never":o=false;break;default:o=ho();}return {config:{...i.config,...n},reducedMotion:e,initial:t,isReducedMotion:o}},[n,e,t,i.config]);return jsx(xt.Provider,{value:s,children:r})}
export{co as AnimatePresence,Wr as Animated,qt as LayoutGroupContext,kr as LayoutGroupProvider,bo as MotionConfig,Me as MotionValue,je as PresenceChild,te as PresenceContext,zt as SharedLayoutContextReact,Ir as SharedLayoutProvider,_r as Spring,Jr as Trail,bt as VariantContext,Fr as VariantProvider,Gr as createMotionComponent,B as createMotionValue,gr as getReducedMotionPreference,U as isBrowser,Yt as isServer,Cn as mapRange,nr as safeCancelAnimationFrame,tr as safeRequestAnimationFrame,er as shouldSkipAnimation,Ut as transformValue,Xn as useAnimate,Or as useAutoLayout,Wn as useCombinedTransform,Un as useDrag,Ar as useFlip,lr as useFocus,Dn as useGesture,mr as useGestureAnimation,dt as useGestureState,ur as useHover,rr as useInView,or as useInViewCallback,ir as useInViewMultiple,pr as useInteractionState,Hn as useIsPresent,j as useIsomorphicLayoutEffect,Er as useLayoutGroup,Lr as useLayoutId,Rr as useMorph,Vr as useMorphRef,wr as useMorphSequence,go as useMotionConfig,Ht as useMotionValue,Bn as useMotionValueState,Nn as useMotionValueSync,qn as useMotionValues,xr as useParallax,Fn as usePresence,Gn as usePresenceCustom,$e as useReducedMotion,hr as useReducedMotionConfig,yr as useReducedMotionValue,sr as useScroll,Tr as useScrollLinkedValue,vr as useScrollProgress,Sr as useScrollTrigger,ar as useScrollVelocity,br as useShouldAnimate,at as useSpring,Qn as useSpringTransform,wn as useSpringValue,An as useSprings,Hr as useStaggerChildren,cr as useTap,Pr as useTimeline,Mr as useTimelineState,kn as useTrail,zn as useTransform,Zt as useVariantContext,jr as useVariants,Zn as useVelocityTransform};//# sourceMappingURL=react.mjs.map
//# sourceMappingURL=react.mjs.map